import{c as l,o as a,b as n,g as p,i as V,h as M,e as f,F as x,r as k,I as b,n as g,f as _,t as w,d as A,u as D,p as q}from"./app-B0R_bMJi.js";function L(r,c){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 0 1 .75.75v10.638l3.96-4.158a.75.75 0 1 1 1.08 1.04l-5.25 5.5a.75.75 0 0 1-1.08 0l-5.25-5.5a.75.75 0 1 1 1.08-1.04l3.96 4.158V3.75A.75.75 0 0 1 10 3Z","clip-rule":"evenodd"})])}function R(r,c){return a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[n("path",{"fill-rule":"evenodd",d:"M10 17a.75.75 0 0 1-.75-.75V5.612L5.29 9.77a.75.75 0 0 1-1.08-1.04l5.25-5.5a.75.75 0 0 1 1.08 0l5.25 5.5a.75.75 0 1 1-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0 1 10 17Z","clip-rule":"evenodd"})])}const T={class:"overflow-hidden rounded-lg border border-gray-200 shadow-sm"},W={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200"},z={class:"bg-gray-50"},E={key:0,class:"px-4 py-3"},I=["checked"],O=["onClick"],j={class:"flex items-center"},G={key:0,class:"ml-1"},H={class:"bg-white divide-y divide-gray-200"},J=["onClick"],K={key:0,class:"px-4 py-4"},P=["checked","onChange"],Q={key:0,class:"px-6 py-12 text-center text-gray-500 bg-white"},X={__name:"DataTable",props:{columns:{type:Array,required:!0,validator:r=>r.every(c=>"field"in c&&"header"in c)},data:{type:Array,required:!0},selectable:{type:Boolean,default:!1}},emits:["selection-change"],setup(r,{emit:c}){var S;const h=r,y=c,o=p((S=h.columns[0])==null?void 0:S.field),u=p("asc"),v=V(()=>o.value?[...h.data].sort((s,d)=>{let e=u.value==="desc"?-1:1;return s[o.value]<d[o.value]?-1*e:s[o.value]>d[o.value]?1*e:0}):h.data),i=p([]),m=s=>i.value.includes(s),C=s=>{const d=i.value.indexOf(s);d===-1?i.value.push(s):i.value.splice(d,1),y("selection-change",[...i.value])},B=V(()=>v.value.length>0&&i.value.length===v.value.length),N=()=>{B.value?i.value=[]:i.value=[...v.value],y("selection-change",[...i.value])};M(()=>h.data,()=>{i.value=[],y("selection-change",[])});const F=s=>{o.value===s?u.value=u.value==="asc"?"desc":"asc":(o.value=s,u.value="asc")};return(s,d)=>(a(),l("div",T,[n("div",W,[n("table",Z,[n("thead",z,[n("tr",null,[r.selectable?(a(),l("th",E,[n("input",{type:"checkbox",checked:B.value,onChange:N,"aria-label":"Select all"},null,40,I)])):f("",!0),(a(!0),l(x,null,k(r.columns,e=>(a(),l("th",{key:e.field,scope:"col",class:g(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",{"cursor-pointer hover:bg-gray-100":e.sortable}]),onClick:$=>e.sortable?F(e.field):null},[n("div",j,[_(w(e.header)+" ",1),o.value===e.field?(a(),l("span",G,[u.value==="asc"?(a(),A(D(R),{key:0,class:"h-4 w-4 text-gray-400"})):(a(),A(D(L),{key:1,class:"h-4 w-4 text-gray-400"}))])):f("",!0)])],10,O))),128))])]),n("tbody",H,[(a(!0),l(x,null,k(v.value,(e,$)=>(a(),l("tr",{key:$,class:g(["hover:bg-gray-50 transition-colors duration-100",{"bg-blue-50":r.selectable&&m(e)}]),onClick:t=>r.selectable?C(e):void 0,style:{cursor:"pointer"}},[r.selectable?(a(),l("td",K,[n("input",{type:"checkbox",checked:m(e),onChange:q(t=>C(e),["stop"]),"aria-label":"Select row"},null,40,P)])):f("",!0),(a(!0),l(x,null,k(r.columns,t=>(a(),l("td",{key:t.field,class:g(["px-6 py-4 whitespace-nowrap text-sm",{"text-gray-900":!t.field.endsWith("_at"),"text-gray-500":t.field.endsWith("_at")}])},[t.field==="actions"?b(s.$slots,"actions",{key:0,row:e}):t.field==="status"&&t.formatter?(a(),l("span",{key:1,class:g(t.formatter(e[t.field]).class)},w(t.formatter(e[t.field]).text),3)):b(s.$slots,t.field,{key:2,row:e},()=>[_(w(t.formatter?t.formatter(e[t.field]):e[t.field]),1)])],2))),128))],10,J))),128))])])]),v.value.length===0?(a(),l("div",Q,[b(s.$slots,"empty",{},()=>[d[0]||(d[0]=_("No data available"))])])):f("",!0)]))}};export{X as _};
