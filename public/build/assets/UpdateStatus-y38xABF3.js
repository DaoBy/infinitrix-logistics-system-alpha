const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-src-C2padaWh.js","assets/app-xrBi3RtB.js","assets/app-lkWP2SaB.css"])))=>i.map(i=>d[i]);
import{A as ne,ai as ge,g as j,p as jt,aj as oe,i as I,j as K,ak as Y,al as pe,y as X,am as ze,x as le,h as Ye,Y as $e,an as St,C as be,c as m,o as c,a as k,u as f,m as Bt,w as _,e as b,b as e,t as v,f as g,J as ye,K as Ie,F as $,r as ce,d as Ot,n as te,L as Ue,s as Mt,W as Se}from"./app-xrBi3RtB.js";import{E as Pt}from"./EmployeeLayout-DIT5z9wE.js";import{_ as q}from"./PrimaryButton-C_K9q06y.js";import{_ as me}from"./SecondaryButton-BolX5WPO.js";import{_ as He}from"./InputError-Z1G11hlP.js";import{_ as De}from"./Checkbox-DrKv39cx.js";import{M as ke}from"./Modal-BzGLoRAP.js";import{L as Be}from"./leaflet-src-C2padaWh.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as It}from"./ChevronDownIcon-LjoagPfp.js";import"./NavLink-BuzuRvoY.js";import"./DangerButton-C4ke1hY1.js";const We=(o,r)=>{for(const s of Object.keys(r))o.on(s,r[s])},Je=o=>{for(const r of Object.keys(o)){const s=o[r];s&&se(s.cancel)&&s.cancel()}},Ut=o=>!o||typeof o.charAt!="function"?o:o.charAt(0).toUpperCase()+o.slice(1),se=o=>typeof o=="function",ae=(o,r,s)=>{for(const n in s){const d="set"+Ut(n);o[d]?Ye(()=>s[n],(l,u)=>{o[d](l,u)}):r[d]&&Ye(()=>s[n],l=>{r[d](l)})}},ie=(o,r,s={})=>{const n={...s};for(const d in o){const l=r[d],u=o[d];l&&(l&&l.custom===!0||u!==void 0&&(n[d]=u))}return n},xe=o=>{const r={},s={};for(const n in o)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const d=n.slice(2).toLocaleLowerCase();r[d]=o[n]}else s[n]=o[n];return{listeners:r,attrs:s}},Dt=async o=>{const r=await Promise.all([Y(()=>import("./marker-icon-2x-1TirABJh.js"),[]),Y(()=>import("./marker-icon-B6h-nX3D.js"),[]),Y(()=>import("./marker-shadow-B9CpECYs.js"),[])]);delete o.Default.prototype._getIconUrl,o.Default.mergeOptions({iconRetinaUrl:r[0].default,iconUrl:r[1].default,shadowUrl:r[2].default})},Oe=o=>{const r=j((...n)=>console.warn(`Method ${o} has been invoked without being replaced`)),s=(...n)=>r.value(...n);return s.wrapped=r,oe(o,s),s},Me=(o,r)=>o.wrapped.value=r,J=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,H=o=>{const r=le(o);if(r===void 0)throw new Error(`Attempt to inject ${o.description} before it was provided.`);return r},de=Symbol("useGlobalLeaflet"),Re=Symbol("addLayer"),Ke=Symbol("removeLayer"),Ee=Symbol("registerControl"),zt=Symbol("registerLayerControl"),Xe=Symbol("canSetParentHtml"),Qe=Symbol("setParentHtml"),et=Symbol("setIcon"),tt=Symbol("bindPopup"),$t=Symbol("bindTooltip"),ot=Symbol("unbindPopup"),Et=Symbol("unbindTooltip"),Ae={options:{type:Object,default:()=>({}),custom:!0}},Le=o=>({options:o.options,methods:{}}),he={...Ae,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},rt=(o,r,s)=>{const n=H(Re),d=H(Ke),{options:l,methods:u}=Le(o),p=ie(o,he,l),w=()=>n({leafletObject:r.value}),C=()=>d({leafletObject:r.value}),x={...u,setAttribution(R){C(),r.value.options.attribution=R,o.visible&&w()},setName(){C(),o.visible&&w()},setLayerType(){C(),o.visible&&w()},setVisible(R){r.value&&(R?w():C())},bindPopup(R){if(!r.value||!se(r.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}r.value.bindPopup(R)},bindTooltip(R){if(!r.value||!se(r.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}r.value.bindTooltip(R)},unbindTooltip(){r.value&&(se(r.value.closeTooltip)&&r.value.closeTooltip(),se(r.value.unbindTooltip)&&r.value.unbindTooltip())},unbindPopup(){r.value&&(se(r.value.closePopup)&&r.value.closePopup(),se(r.value.unbindPopup)&&r.value.unbindPopup())},updateVisibleProp(R){s.emit("update:visible",R)}};return oe(tt,x.bindPopup),oe($t,x.bindTooltip),oe(ot,x.unbindPopup),oe(Et,x.unbindTooltip),$e(()=>{x.unbindPopup(),x.unbindTooltip(),C()}),{options:p,methods:x}},Nt=(o,r)=>{if(o&&r.default)return ge("div",{style:{display:"none"}},r.default())},Vt={...he,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},st={...Vt,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},qt={...st,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...qt});const we={...Ae,position:{type:String}},nt=(o,r)=>{const{options:s,methods:n}=Le(o),d=ie(o,we,s),l={...n,setPosition(u){r.value&&r.value.setPosition(u)}};return $e(()=>{r.value&&r.value.remove()}),{options:d,methods:l}},Yt=o=>o.default?ge("div",{ref:"root"},o.default()):null;ne({name:"LControl",props:{...we,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(o,r){const s=j(),n=j(),d=le(de),l=H(Ee),{options:u,methods:p}=nt(o,s);return K(async()=>{const{Control:w,DomEvent:C}=d?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]),x=w.extend({onAdd(){return n.value}});s.value=pe(new x(u)),ae(p,s.value,o),l({leafletObject:s.value}),o.disableClickPropagation&&n.value&&C.disableClickPropagation(n.value),o.disableScrollPropagation&&n.value&&C.disableScrollPropagation(n.value),X(()=>r.emit("ready",s.value))}),{root:n,leafletObject:s}},render(){return Yt(this.$slots)}});({...we});({...we});({...we});const lt={...we,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},Ht=(o,r)=>{const{options:s,methods:n}=nt(o,r);return{options:ie(o,lt,s),methods:n}},Wt=ne({name:"LControlZoom",props:lt,setup(o,r){const s=j(),n=le(de),d=H(Ee),{options:l,methods:u}=Ht(o,s);return K(async()=>{const{control:p}=n?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s.value=pe(p.zoom(l)),ae(u,s.value,o),d({leafletObject:s.value}),X(()=>r.emit("ready",s.value))}),{leafletObject:s}},render(){return null}}),at={...he};({...at});({...at});const Ne={...he,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},it=(o,r,s)=>{const{options:n,methods:d}=rt(o,r,s),l=ie(o,Ne,n),u={...d,setTileComponent(){var p;(p=r.value)==null||p.redraw()}};return $e(()=>{r.value.off()}),{options:l,methods:u}},Ft=(o,r,s,n)=>o.extend({initialize(d){this.tileComponents={},this.on("tileunload",this._unloadTile),s.setOptions(this,d)},createTile(d){const l=this._tileCoordsToKey(d);this.tileComponents[l]=r.create("div");const u=ge({setup:n,props:["coords"]},{coords:d});return St(u,this.tileComponents[l]),this.tileComponents[l]},_unloadTile(d){const l=this._tileCoordsToKey(d.coords);this.tileComponents[l]&&(this.tileComponents[l].innerHTML="",this.tileComponents[l]=void 0)}});ne({props:{...Ne,childRender:{type:Function,required:!0}},setup(o,r){const s=j(),n=j(null),d=j(!1),l=le(de),u=H(Re),{options:p,methods:w}=it(o,s,r);return K(async()=>{const{GridLayer:C,DomUtil:x,Util:R}=l?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]),P=Ft(C,x,R,o.childRender);s.value=pe(new P(p));const{listeners:A}=xe(r.attrs);s.value.on(A),ae(w,s.value,o),u({...o,...w,leafletObject:s.value}),d.value=!0,X(()=>r.emit("ready",s.value))}),{root:n,ready:d,leafletObject:s}},render(){return this.ready?ge("div",{style:{display:"none"},ref:"root"}):null}});const Fe={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};ne({name:"LIcon",props:{...Fe,...Ae},setup(o,r){const s=j(),n=le(de),d=H(Xe),l=H(Qe),u=H(et);let p,w,C,x,R;const P=(E,B,O)=>{const T=E&&E.innerHTML;if(!B){O&&R&&d()&&l(T);return}const{listeners:V}=xe(r.attrs);R&&w(R,V);const{options:ee}=Le(o),F=ie(o,Fe,ee);T&&(F.html=T),R=F.html?C(F):x(F),p(R,V),u(R)},A=()=>{X(()=>P(s.value,!0,!1))},W=()=>{X(()=>P(s.value,!1,!0))},Q={setIconUrl:A,setIconRetinaUrl:A,setIconSize:A,setIconAnchor:A,setPopupAnchor:A,setTooltipAnchor:A,setShadowUrl:A,setShadowRetinaUrl:A,setShadowAnchor:A,setBgPos:A,setClassName:A,setHtml:A};return K(async()=>{const{DomEvent:E,divIcon:B,icon:O}=n?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);p=E.on,w=E.off,C=B,x=O,ae(Q,{},o),new MutationObserver(W).observe(s.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),A()}),{root:s}},render(){const o=this.$slots.default?this.$slots.default():void 0;return ge("div",{ref:"root"},o)}});({...he});function dt(o,r,s){var n,d,l;r===void 0&&(r=50),s===void 0&&(s={});var u=(n=s.isImmediate)!=null&&n,p=(d=s.callback)!=null&&d,w=s.maxWait,C=Date.now(),x=[];function R(){if(w!==void 0){var A=Date.now()-C;if(A+r>=w)return w-A}return r}var P=function(){var A=[].slice.call(arguments),W=this;return new Promise(function(Q,E){var B=u&&l===void 0;if(l!==void 0&&clearTimeout(l),l=setTimeout(function(){if(l=void 0,C=Date.now(),!u){var T=o.apply(W,A);p&&p(T),x.forEach(function(V){return(0,V.resolve)(T)}),x=[]}},R()),B){var O=o.apply(W,A);return p&&p(O),Q(O)}x.push({resolve:Q,reject:E})})};return P.cancel=function(A){l!==void 0&&clearTimeout(l),x.forEach(function(W){return(0,W.reject)(A)}),x=[]},P}const Ze={...Ae,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},Zt=ne({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:Ze,setup(o,r){const s=j(),n=jt({ready:!1,layersToAdd:[],layersInControl:[]}),{options:d}=Le(o),l=ie(o,Ze,d),{listeners:u,attrs:p}=xe(r.attrs),w=Oe(Re),C=Oe(Ke),x=Oe(Ee),R=Oe(zt);oe(de,o.useGlobalLeaflet);const P=I(()=>{const B={};return o.noBlockingAnimations&&(B.animate=!1),B}),A=I(()=>{const B=P.value;return o.padding&&(B.padding=o.padding),o.paddingTopLeft&&(B.paddingTopLeft=o.paddingTopLeft),o.paddingBottomRight&&(B.paddingBottomRight=o.paddingBottomRight),B}),W={moveend:dt(B=>{n.leafletRef&&(r.emit("update:zoom",n.leafletRef.getZoom()),r.emit("update:center",n.leafletRef.getCenter()),r.emit("update:bounds",n.leafletRef.getBounds()))}),overlayadd(B){const O=n.layersInControl.find(T=>T.name===B.name);O&&O.updateVisibleProp(!0)},overlayremove(B){const O=n.layersInControl.find(T=>T.name===B.name);O&&O.updateVisibleProp(!1)}};K(async()=>{o.useGlobalLeaflet&&(J.L=J.L||await Y(()=>import("./leaflet-src-C2padaWh.js").then(y=>y.l),__vite__mapDeps([0,1,2])));const{map:B,CRS:O,Icon:T,latLngBounds:V,latLng:ee,stamp:F}=o.useGlobalLeaflet?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{l.beforeMapMount&&await l.beforeMapMount()}catch(y){console.error(`The following error occurred running the provided beforeMapMount hook ${y.message}`)}await Dt(T);const U=typeof l.crs=="string"?O[l.crs]:l.crs;l.crs=U||O.EPSG3857;const ue={addLayer(y){y.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd.push(y):n.layersInControl.find(S=>F(S.leafletObject)===F(y.leafletObject))||(n.layerControl.addLayer(y),n.layersInControl.push(y))),y.visible!==!1&&n.leafletRef.addLayer(y.leafletObject)},removeLayer(y){y.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd=n.layersToAdd.filter(S=>S.name!==y.name):(n.layerControl.removeLayer(y.leafletObject),n.layersInControl=n.layersInControl.filter(S=>F(S.leafletObject)!==F(y.leafletObject)))),n.leafletRef.removeLayer(y.leafletObject)},registerLayerControl(y){n.layerControl=y,n.layersToAdd.forEach(S=>{n.layerControl.addLayer(S)}),n.layersToAdd=[],x(y)},registerControl(y){n.leafletRef.addControl(y.leafletObject)},setZoom(y){const S=n.leafletRef.getZoom();y!==S&&n.leafletRef.setZoom(y,P.value)},setCrs(y){const S=n.leafletRef.getBounds();n.leafletRef.options.crs=y,n.leafletRef.fitBounds(S,{animate:!1,padding:[0,0]})},fitBounds(y){n.leafletRef.fitBounds(y,A.value)},setBounds(y){if(!y)return;const S=V(y);S.isValid()&&!(n.lastSetBounds||n.leafletRef.getBounds()).equals(S,0)&&(n.lastSetBounds=S,n.leafletRef.fitBounds(S))},setCenter(y){if(y==null)return;const S=ee(y),je=n.lastSetCenter||n.leafletRef.getCenter();(je.lat!==S.lat||je.lng!==S.lng)&&(n.lastSetCenter=S,n.leafletRef.panTo(S,P.value))}};Me(w,ue.addLayer),Me(C,ue.removeLayer),Me(x,ue.registerControl),Me(R,ue.registerLayerControl),n.leafletRef=pe(B(s.value,l)),ae(ue,n.leafletRef,o),We(n.leafletRef,W),We(n.leafletRef,u),n.ready=!0,X(()=>r.emit("ready",n.leafletRef))}),ze(()=>{Je(W),n.leafletRef&&(n.leafletRef.off(),n.leafletRef.remove())});const Q=I(()=>n.leafletRef),E=I(()=>n.ready);return{root:s,ready:E,leafletObject:Q,attrs:p}},render({attrs:o}){return o.style||(o.style={}),o.style.width||(o.style.width="100%"),o.style.height||(o.style.height="100%"),ge("div",{...o,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),Gt=["Symbol(Comment)","Symbol(Text)"],Jt=["LTooltip","LPopup"],ut={...he,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},Kt=(o,r,s)=>{const{options:n,methods:d}=rt(o,r,s),l=ie(o,ut,n),u={...d,setDraggable(p){r.value.dragging&&(p?r.value.dragging.enable():r.value.dragging.disable())},latLngSync(p){s.emit("update:latLng",p.latlng),s.emit("update:lat-lng",p.latlng)},setLatLng(p){if(p!=null&&r.value){const w=r.value.getLatLng();(!w||!w.equals(p))&&r.value.setLatLng(p)}}};return{options:l,methods:u}},Xt=(o,r)=>{const s=r.slots.default&&r.slots.default();return s&&s.length&&s.some(Qt)};function Qt(o){return!(Gt.includes(o.type.toString())||Jt.includes(o.type.name))}const eo=ne({name:"LMarker",props:ut,setup(o,r){const s=j(),n=j(!1),d=le(de),l=H(Re);oe(Xe,()=>{var C;return!!((C=s.value)!=null&&C.getElement())}),oe(Qe,C=>{var x,R;const P=se((x=s.value)==null?void 0:x.getElement)&&((R=s.value)==null?void 0:R.getElement());P&&(P.innerHTML=C)}),oe(et,C=>{var x;return((x=s.value)==null?void 0:x.setIcon)&&s.value.setIcon(C)});const{options:u,methods:p}=Kt(o,s,r),w={moveHandler:dt(p.latLngSync)};return K(async()=>{const{marker:C,divIcon:x}=d?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);Xt(u,r)&&(u.icon=x({className:""})),s.value=pe(C(o.latLng,u));const{listeners:R}=xe(r.attrs);s.value.on(R),s.value.on("move",w.moveHandler),ae(p,s.value,o),l({...o,...p,leafletObject:s.value}),n.value=!0,X(()=>r.emit("ready",s.value))}),ze(()=>Je(w)),{ready:n,leafletObject:s}},render(){return Nt(this.ready,this.$slots)}}),to={...st,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Ge={...to},ct={...Ae,content:{type:String,default:null}},oo=(o,r)=>{const{options:s,methods:n}=Le(o),d={...n,setContent(l){r.value&&l!==null&&l!==void 0&&r.value.setContent(l)}};return{options:s,methods:d}},ro=o=>o.default?ge("div",{ref:"root"},o.default()):null,so={...ct,latLng:{type:[Object,Array],default:()=>[]}},no=(o,r)=>{const{options:s,methods:n}=oo(o,r);return{options:s,methods:n}},lo=ne({name:"LPopup",props:so,setup(o,r){const s=j(),n=j(null),d=le(de),l=H(tt),u=H(ot),{options:p,methods:w}=no(o,s);return K(async()=>{const{popup:C}=d?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s.value=pe(C(p)),o.latLng!==void 0&&s.value.setLatLng(o.latLng),ae(w,s.value,o);const{listeners:x}=xe(r.attrs);s.value.on(x),s.value.setContent(o.content||n.value||""),l(s.value),X(()=>r.emit("ready",s.value))}),ze(()=>{u()}),{root:n,leafletObject:s}},render(){return ro(this.$slots)}});({...Ge,latLngs:{...Ge.latLngs}});const Ve={...Ne,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:o=>typeof o=="string"?!0:Array.isArray(o)?o.every(r=>typeof r=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},ao=(o,r,s)=>{const{options:n,methods:d}=it(o,r,s),l=ie(o,Ve,n),u={...d};return{options:l,methods:u}},io=ne({props:Ve,setup(o,r){const s=j(),n=le(de),d=H(Re),{options:l,methods:u}=ao(o,s,r);return K(async()=>{const{tileLayer:p}=n?J.L:await Y(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s.value=pe(p(o.url,l));const{listeners:w}=xe(r.attrs);s.value.on(w),ae(u,s.value,o),d({...o,...u,leafletObject:s.value}),X(()=>r.emit("ready",s.value))}),{leafletObject:s}},render(){return null}});({...ct});({...Ve});const uo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},co={class:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-300"},mo={class:"font-semibold"},go={key:0,class:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},po={key:0,class:"mt-3 space-y-2"},vo={class:"flex items-center justify-between"},fo={class:"flex items-center"},bo={key:0,class:"ml-2 text-green-600 font-semibold"},yo={key:1,class:"text-xs mt-1 text-red-600 font-semibold"},ko={key:0,class:"mb-4 p-4 bg-green-50 text-green-800 rounded-lg dark:bg-green-900/20 dark:text-green-200"},xo={key:1,class:"mb-4 p-4 bg-red-50 text-red-800 rounded-lg dark:bg-red-900/20 dark:text-red-200"},ho={key:2,class:"mb-4 p-4 bg-blue-50 text-blue-800 rounded-lg dark:bg-blue-900/20 dark:text-blue-200"},wo={class:"flex items-center"},Co={class:"text-sm"},_o={key:3,class:"mb-8 space-y-4"},Ro={class:"p-4 bg-blue-50 rounded-lg border border-blue-200"},Ao={class:"p-4 bg-orange-50 rounded-lg border border-orange-200"},Lo={class:"space-y-3"},jo={key:4,class:"mb-8 p-4 bg-green-50 rounded-lg border border-green-200"},So={class:"text-sm text-green-700 mb-3"},Bo={key:5,class:"mb-8 p-4 bg-green-50 rounded-lg border border-green-200"},Oo={class:"py-12"},Mo={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Po={class:"overflow-hidden bg-white shadow-sm sm:rounded-xl dark:bg-gray-800"},To={class:"p-6 text-gray-900 dark:text-gray-100"},Io={class:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"},Uo={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},Do={class:"bg-white dark:bg-gray-700 p-3 rounded-lg border"},zo={class:"text-lg font-bold text-blue-600 dark:text-blue-400"},$o={class:"text-xs text-gray-500 dark:text-gray-400"},Eo={class:"bg-white dark:bg-gray-700 p-3 rounded-lg border"},No={class:"text-lg font-bold text-green-600 dark:text-green-400"},Vo={class:"bg-white dark:bg-gray-700 p-3 rounded-lg border"},qo={class:"text-lg font-bold text-purple-600 dark:text-purple-400"},Yo={key:0,class:"mb-8 p-4 bg-white rounded-lg shadow-sm dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},Ho={class:"h-96 rounded-md overflow-hidden relative z-0 border border-gray-200 dark:border-gray-700"},Wo={class:"font-medium text-gray-900"},Fo={key:0,class:"text-xs text-green-600"},Zo={key:1,class:"text-xs text-blue-600"},Go={key:2,class:"text-xs text-gray-600"},Jo={key:0},Ko={class:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4"},Xo={class:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg"},Qo={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},er={class:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg"},tr={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},or={class:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg"},rr={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},sr={key:0},nr={key:1,class:"mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600"},lr={class:"mb-8 p-4 bg-blue-50 rounded-lg dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800"},ar={key:0,class:"mb-4"},ir={class:"flex items-center justify-center overflow-x-auto py-2 px-4"},dr={class:"flex flex-col items-center"},ur={class:"relative"},cr={class:"text-sm font-medium"},mr={key:0,class:"absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2"},gr={class:"mt-2 text-xs font-medium text-center max-w-[80px] truncate"},pr={class:"relative"},vr={key:0,label:"Your Route Regions"},fr=["value","disabled"],br={label:"Assignment Regions"},yr=["value","disabled"],kr={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300"},xr={class:"mt-4 space-y-3"},hr={class:"flex items-center"},wr={key:0,class:"ml-6"},Cr={class:"flex items-center"},_r={class:"mt-4 flex justify-end"},Rr={key:2,class:"space-y-6"},Ar={key:0},Lr=["value"],jr={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Sr={key:0,class:"text-green-600 font-semibold"},Br={key:1,class:"text-red-600 font-semibold"},Or={class:"flex justify-end"},Mr={class:"mt-10 space-y-6"},Pr={class:"bg-gray-50 dark:bg-gray-700 px-4 py-3 flex justify-between items-center"},Tr={class:"font-medium text-gray-900 dark:text-white"},Ir={class:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-300"},Ur={class:"inline-flex items-center"},Dr={class:"divide-y divide-gray-200 dark:divide-gray-700"},zr=["onClick"],$r={class:"flex items-center space-x-4"},Er={class:"font-medium text-gray-900 dark:text-white"},Nr={class:"text-sm text-gray-500 dark:text-gray-400"},Vr={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},qr={class:"font-semibold"},Yr={class:"font-semibold"},Hr={key:0,class:"text-xs text-gray-400 dark:text-gray-500"},Wr={class:"font-semibold"},Fr={class:"font-semibold"},Zr={class:"mt-2"},Gr={key:0,class:"flex items-center text-xs text-green-600"},Jr={key:1,class:"flex items-center text-xs text-yellow-600"},Kr={class:"flex flex-col items-end space-y-1"},Xr={class:"text-xs text-gray-500 dark:text-gray-400"},Qr={key:3,class:"text-center py-12"},es={class:"p-6"},ts={class:"mb-6 space-y-3"},os={key:0,class:"flex items-start"},rs={class:"text-gray-700 dark:text-gray-300"},ss={class:"font-semibold"},ns={key:1,class:"flex items-start"},ls={class:"text-gray-700 dark:text-gray-300"},as={class:"font-semibold"},is={key:2,class:"flex items-start"},ds={class:"text-gray-700 dark:text-gray-300"},us={class:"font-semibold"},cs={class:"font-semibold"},ms={class:"flex justify-end space-x-3"},gs={class:"p-6"},ps={class:"mb-6 space-y-4"},vs={class:"flex items-start"},fs={class:"text-sm text-gray-600 dark:text-gray-400"},bs={class:"font-semibold"},ys={class:"font-semibold"},ks={class:"flex items-start"},xs={class:"text-sm text-gray-600 dark:text-gray-400 mt-1 space-y-1"},hs={key:0},ws={class:"font-semibold"},Cs={key:1},_s={key:2},Rs={key:0,class:"flex items-start"},As={key:0,class:"text-sm text-green-600 dark:text-green-400 mt-1"},Ls={key:1,class:"text-sm text-orange-600 dark:text-orange-400 mt-1"},js={class:"flex justify-end space-x-3"},Ss={class:"p-6"},Bs={class:"flex justify-end space-x-3 mt-6"},Os={class:"p-6"},Ms={class:"mb-4"},Ps={class:"flex justify-end space-x-3 mt-6"},Ts={class:"p-6"},Is={class:"flex justify-end space-x-3 mt-6"},Us={class:"p-6"},Ds={class:"flex justify-end space-x-3 mt-6"},zs={__name:"UpdateStatus",props:{packages:{type:Array,default:()=>[]},regions:{type:Array,default:()=>[]},currentRegionId:{type:Number,default:null},currentLocation:{type:String,default:"Unknown"},routeData:{type:Object,default:()=>({route:[]})},currentAssignment:{type:Object,default:null},statusOptions:Object,backhaulAvailable:Boolean,allPackagesFinal:Boolean},setup(o){delete Be.Icon.Default.prototype._getIconUrl,Be.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const r=o,s=j(!1),n=j(!1),d=j([]),l=be({package_ids:[],status:"",remarks:"",region_id:""}),u=be({region_id:null,update_packages:!0,only_in_transit:!0});be({});const p=be({reason:""});be({}),be({});const w=j(null),C=j([13.1399,123.7448]),x=j(11),R=j(null),P={loaded:"Loaded",in_transit:"In Transit",delivered:"Delivered",returned:"Returned to Sender",completed:"Completed"},A=a=>{const t="text-xs font-semibold px-2 py-1 rounded-full";switch(a){case"loaded":return`${t} bg-blue-100 text-blue-800`;case"in_transit":return`${t} bg-yellow-100 text-yellow-800`;case"delivered":return`${t} bg-green-100 text-green-800`;case"returned":return`${t} bg-red-100 text-red-800`;case"completed":return`${t} bg-gray-100 text-gray-800`;default:return`${t} bg-gray-100 text-gray-800`}},W=a=>a.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),Q=a=>a?new Date(a).toLocaleString():"N/A",E=I(()=>{const a=new Map;return r.packages.forEach(t=>{t.deliveryRequest&&(t.deliveryRequest.pick_up_region_id&&t.deliveryRequest.pickUpRegion&&a.set(t.deliveryRequest.pick_up_region_id,{id:t.deliveryRequest.pick_up_region_id,name:t.deliveryRequest.pickUpRegion,type:"pickup"}),t.deliveryRequest.drop_off_region_id&&t.deliveryRequest.dropOffRegion&&a.set(t.deliveryRequest.drop_off_region_id,{id:t.deliveryRequest.drop_off_region_id,name:t.deliveryRequest.dropOffRegion,type:"dropoff"}))}),Array.from(a.values()).sort((t,h)=>t.name.localeCompare(h.name))}),B=a=>{const t=d.value.indexOf(a);t>-1?d.value.splice(t,1):d.value.push(a)},O=j(!1),T=j(!1),V=j(!1),ee=j(!1),F=I(()=>{const a={};return r.packages.forEach(t=>{var z,Z,G;const h=((z=t.deliveryRequest)==null?void 0:z.dropOffRegionId)||"unknown",M=((Z=t.deliveryRequest)==null?void 0:Z.dropOffRegion)||"Unknown Destination",D=((G=t.current_region)==null?void 0:G.name)||"Unknown Region";a[h]||(a[h]={destination:{id:h,name:M},currentRegion:D,packages:[]}),a[h].packages.push(t)}),Object.values(a)}),U=I(()=>{if(!r.currentAssignment)return null;const a=r.currentAssignment.current_status,t=r.currentAssignment.is_final_cooldown;switch(a){case"active":return{label:"Active Delivery",description:"You are actively delivering packages to destination regions",color:"blue"};case"in_transit":return{label:"In Transit",description:"Currently transporting packages between regions",color:"indigo"};case"cooldown":return t?{label:"Final Cooldown Period",description:"Complete cooldown to finish your assignment",color:"purple"}:{label:"Cooldown Period",description:"Waiting period before backhaul eligibility",color:"orange"};case"backhaul_eligible":return{label:"Backhaul Eligible",description:"You can accept backhaul assignments or return to home base",color:"green"};case"returning":return{label:"Returning to Home Base",description:"You are on your way back to your home region",color:"yellow"};case"completed":return{label:"Assignment Completed",description:"Your assignment has been completed successfully",color:"green"};default:return{label:"Unknown Status",description:"Current assignment status is unknown",color:"gray"}}}),ue=()=>{var a,t,h,M;console.log("Current Assignment:",{status:(a=r.currentAssignment)==null?void 0:a.current_status,is_final_cooldown:(t=r.currentAssignment)==null?void 0:t.is_final_cooldown,cooldown_ends_at:(h=r.currentAssignment)==null?void 0:h.cooldown_ends_at,backhaul_eligible_at:(M=r.currentAssignment)==null?void 0:M.backhaul_eligible_at})};K(()=>{ue()});const y=I(()=>{var a;return((a=r.currentAssignment)==null?void 0:a.current_status)==="cooldown"&&!r.currentAssignment.is_final_cooldown});I(()=>{var a;return((a=r.currentAssignment)==null?void 0:a.current_status)==="cooldown"&&!r.currentAssignment.is_final_cooldown}),I(()=>{var a,t,h,M;return((a=r.currentAssignment)==null?void 0:a.current_status)==="cooldown"&&!r.currentAssignment.is_final_cooldown||((t=r.currentAssignment)==null?void 0:t.current_status)==="backhaul_eligible"||((h=r.currentAssignment)==null?void 0:h.current_status)==="active"||((M=r.currentAssignment)==null?void 0:M.current_status)==="in_transit"});const S=I(()=>{var a;return((a=r.currentAssignment)==null?void 0:a.current_status)==="returning"}),je=I(()=>{var a;return((a=r.currentAssignment)==null?void 0:a.current_status)==="cooldown"&&r.currentAssignment.is_final_cooldown}),qe=I(()=>{if(!u.region_id)return"";const a=r.routeData.route.find(h=>h.region.id==u.region_id);if(a)return a.region.name;const t=E.value.find(h=>h.id==u.region_id);return t?t.name:""}),Pe=I(()=>r.routeData.route.filter(a=>a.region&&a.region.latitude&&a.region.longitude)),mt=I(()=>r.routeData.route.reduce((a,t)=>a+(t.estimated_minutes||0),0)),Te=I(()=>r.routeData.route&&r.routeData.route.length>0),ve=I(()=>{const a={delivered:0,returned:0,regular:0};return!l.status||d.value.length===0||d.value.forEach(t=>{var z,Z;const h=r.packages.find(G=>G.id===t);if(!h)return;const M=((z=h.deliveryRequest)==null?void 0:z.dropOffRegionId)===l.region_id,D=((Z=h.deliveryRequest)==null?void 0:Z.pickUpRegionId)===l.region_id;l.status==="delivered"&&M?a.delivered++:l.status==="returned"&&D?a.returned++:a.regular++}),a}),fe=I(()=>{const a={delivered:0,returned:0};return u.region_id&&r.packages.forEach(t=>{var D,z;const h=((D=t.deliveryRequest)==null?void 0:D.dropOffRegionId)==u.region_id,M=((z=t.deliveryRequest)==null?void 0:z.pickUpRegionId)==u.region_id;h?a.delivered++:M&&a.returned++}),a}),gt=a=>r.routeData.route.some(t=>t.region.id===a&&t.region.id!==r.currentRegionId),pt=(a,t)=>{const h=a.region.id===r.currentRegionId,M=a.region.id!==r.currentRegionId&&t===r.routeData.route.length-1;let D=`
    <div class="relative flex items-center justify-center w-8 h-8 text-white font-bold text-xs rounded-full shadow-lg ${h?"bg-blue-500 border-2 border-white":M?"bg-green-500 border-2 border-white":"bg-gray-500 border-2 border-white"}">
      ${t+1}
    </div>
  `;return Be.divIcon({html:D,className:"custom-marker",iconSize:[32,32],iconAnchor:[16,16]})},vt=()=>{X(()=>{var a;if((a=w.value)!=null&&a.leafletObject&&Pe.value.length>0){const t=Be.latLngBounds(Pe.value.map(h=>[Number(h.region.latitude),Number(h.region.longitude)]));w.value.leafletObject.fitBounds(t,{padding:[20,20]})}})},ft=()=>{if(!l.status){alert("Please select a status first.");return}if(d.value.length===0){alert("Please select at least one package.");return}l.package_ids=d.value,s.value=!0},bt=()=>{l.post(route("driver.bulk-update-status"),{preserveScroll:!0,onSuccess:()=>{s.value=!1,l.reset(),d.value=[]}})},yt=()=>{if(!u.region_id){alert("Please select a location first.");return}n.value=!0},kt=()=>{u.post(route("driver.update-region"),{preserveScroll:!0,onSuccess:()=>{n.value=!1,u.region_id=""}})},xt=()=>{if(!p.reason.trim()){alert("Please provide a reason for returning without backhaul.");return}T.value=!0},ht=()=>{if(!p.reason.trim()){alert("Please provide a reason for returning without backhaul.");return}p.post(route("driver.return-without-backhaul"),{preserveScroll:!0,onSuccess:()=>{p.reason="",T.value=!1},onError:a=>{console.error("Return without backhaul failed:",a)}})},wt=()=>{O.value=!0},Ct=()=>{Se.post(route("driver.skip-cooldown"),{},{onSuccess:()=>{O.value=!1}})},_t=()=>{V.value=!0},Rt=()=>{Se.post(route("driver.confirm-arrival-home"),{},{onSuccess:()=>{V.value=!1}})},At=()=>{ee.value=!0},Lt=()=>{Se.post(route("driver.complete-cooldown"),{},{onSuccess:()=>{ee.value=!1}})};return K(()=>{r.currentRegionId&&(u.region_id=r.currentRegionId.toString())}),(a,t)=>(c(),m($,null,[k(f(Bt),{title:"Update Package Status"}),k(Pt,null,{header:_(()=>{var h,M,D,z,Z,G,Ce,i,N,L,re,_e;return[e("div",uo,[e("div",null,[t[26]||(t[26]=e("h2",{class:"text-2xl font-bold leading-tight text-gray-900 dark:text-gray-100"}," Update Package Status ",-1)),e("div",co,[t[24]||(t[24]=e("svg",{class:"h-4 w-4 mr-1 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 11c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm0 0c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"})],-1)),e("span",null,[t[23]||(t[23]=g("Current Location: ")),e("span",mo,v(o.currentLocation||"Unknown"),1)]),o.currentRegionId?(c(),m("span",go," Region ID: "+v(o.currentRegionId),1)):b("",!0)]),o.currentAssignment?(c(),m("div",po,[e("div",{class:te(["p-3 rounded-lg border",((h=U.value)==null?void 0:h.color)==="blue"?"bg-blue-50 border-blue-200":((M=U.value)==null?void 0:M.color)==="purple"?"bg-purple-50 border-purple-200":((D=U.value)==null?void 0:D.color)==="orange"?"bg-orange-50 border-orange-200":((z=U.value)==null?void 0:z.color)==="yellow"?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"])},[e("div",vo,[e("div",fo,[(c(),m("svg",{class:te(["w-5 h-5 mr-2",`text-${(Z=U.value)==null?void 0:Z.color}-600`]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]),2)),e("div",null,[e("p",{class:te(["text-sm font-medium",`text-${(G=U.value)==null?void 0:G.color}-800`])},v((Ce=U.value)==null?void 0:Ce.label),3),e("p",{class:te(["text-xs",`text-${(i=U.value)==null?void 0:i.color}-600`])},v((N=U.value)==null?void 0:N.description),3),o.currentAssignment.current_status==="cooldown"&&o.currentAssignment.cooldown_ends_at?(c(),m("p",{key:0,class:te(["text-xs mt-1",`text-${(L=U.value)==null?void 0:L.color}-600`])},[g(" Cooldown ends: "+v(Q(o.currentAssignment.cooldown_ends_at))+" ",1),o.currentAssignment.cooldown_finished?(c(),m("span",bo," (Ready for next action) ")):b("",!0)],2)):b("",!0),o.currentAssignment.current_status==="cooldown"&&o.currentAssignment.is_final_cooldown?(c(),m("p",yo," ⭐ FINAL COOLDOWN - Complete to finish assignment ")):b("",!0)])]),e("span",{class:te(["px-2 py-1 text-xs rounded-full",`bg-${(re=U.value)==null?void 0:re.color}-100 text-${(_e=U.value)==null?void 0:_e.color}-800`])},v(o.currentAssignment.home_region_name||"Unknown Region"),3)])],2)])):b("",!0)]),k(me,{onClick:t[0]||(t[0]=$s=>f(Se).visit(a.route("driver.dashboard"))),class:"ml-0 sm:ml-4 mt-3 sm:mt-0"},{default:_(()=>t[27]||(t[27]=[e("svg",{class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 10h2l.4 2M7 13h10l4-8H5.4"})],-1),g(" Back to Dashboard ")])),_:1})])]}),default:_(()=>{var h,M,D,z,Z,G,Ce;return[(h=a.$page.props.flash)!=null&&h.success?(c(),m("div",ko,v(a.$page.props.flash.success),1)):b("",!0),(M=a.$page.props.flash)!=null&&M.error?(c(),m("div",xo,v(a.$page.props.flash.error),1)):b("",!0),((D=o.currentAssignment)==null?void 0:D.current_status)==="returning"?(c(),m("div",ho,[e("div",wo,[t[31]||(t[31]=e("svg",{class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[t[30]||(t[30]=e("p",{class:"font-medium"},"You are returning to your home region",-1)),e("p",Co,[t[28]||(t[28]=g("Please proceed to ")),e("strong",null,v(o.currentAssignment.home_region_name||"Home Region"),1),t[29]||(t[29]=g(" and confirm arrival when you arrive."))])])])])):b("",!0),y.value?(c(),m("div",_o,[e("div",Ro,[t[33]||(t[33]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("h3",{class:"text-base font-semibold text-blue-800"},"Option A: Skip Cooldown Timer")],-1)),t[34]||(t[34]=e("p",{class:"text-sm text-blue-700 mb-3"}," Become immediately eligible for backhaul assignments. This will skip the remaining cooldown period. ",-1)),k(q,{onClick:wt,class:"w-full"},{default:_(()=>t[32]||(t[32]=[g(" Skip Cooldown & Become Backhaul Eligible ")])),_:1})]),e("div",Ao,[t[36]||(t[36]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"h-5 w-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("h3",{class:"text-base font-semibold text-orange-800"},"Option B: Return Without Backhaul")],-1)),t[37]||(t[37]=e("p",{class:"text-sm text-orange-700 mb-3"}," Return directly to home base without waiting for backhaul assignments. You'll need to confirm arrival when you reach your home region. ",-1)),e("div",Lo,[ye(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=i=>f(p).reason=i),rows:"2",placeholder:"Reason for returning without backhaul...",class:"w-full rounded border-orange-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[Ie,f(p).reason]]),k(q,{onClick:xt,disabled:!f(p).reason,class:"w-full bg-orange-600 hover:bg-orange-700 focus:ring-orange-500"},{default:_(()=>t[35]||(t[35]=[g(" Confirm Return Without Backhaul ")])),_:1},8,["disabled"])])])])):b("",!0),S.value?(c(),m("div",jo,[t[41]||(t[41]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"h-5 w-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("h3",{class:"text-base font-semibold text-green-800"},"Confirm Arrival at Home Base")],-1)),e("p",So,[t[38]||(t[38]=g(" You are returning to home base. Click below when you arrive at ")),e("strong",null,v(o.currentAssignment.home_region_name||"Home Region"),1),t[39]||(t[39]=g(". "))]),k(q,{onClick:_t,class:"w-full bg-green-600 hover:bg-green-700 focus:ring-green-500"},{default:_(()=>t[40]||(t[40]=[g(" Confirm Arrival at Home Base ")])),_:1})])):b("",!0),je.value?(c(),m("div",Bo,[t[43]||(t[43]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"h-5 w-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("h3",{class:"text-base font-semibold text-green-800"},"Complete Cooldown Period")],-1)),t[44]||(t[44]=e("p",{class:"text-sm text-green-700 mb-3"}," Your cooldown period is complete. Click below to finish your assignment and become available for new assignments. ",-1)),k(q,{onClick:At,class:"w-full bg-green-600 hover:bg-green-700 focus:ring-green-500"},{default:_(()=>t[42]||(t[42]=[g(" Complete Cooldown & Finish Assignment ")])),_:1})])):b("",!0),e("div",Oo,[e("div",Mo,[e("div",Po,[e("div",To,[e("div",Io,[t[50]||(t[50]=e("div",{class:"flex items-center gap-2 mb-2"},[e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),e("h3",{class:"text-base font-semibold text-blue-800 dark:text-blue-200"}," Current Location Status ")],-1)),e("div",Uo,[e("div",Do,[t[45]||(t[45]=e("div",{class:"font-medium text-gray-700 dark:text-gray-300"},"Driver Location",-1)),e("div",zo,v(o.currentLocation||"Unknown"),1),e("div",$o,"Region ID: "+v(o.currentRegionId||"N/A"),1)]),e("div",Eo,[t[46]||(t[46]=e("div",{class:"font-medium text-gray-700 dark:text-gray-300"},"Active Packages",-1)),e("div",No,v(o.packages.length),1),t[47]||(t[47]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"In your care",-1))]),e("div",Vo,[t[48]||(t[48]=e("div",{class:"font-medium text-gray-700 dark:text-gray-300"},"Assignment Status",-1)),e("div",qo,v((z=o.currentAssignment)!=null&&z.current_status?W(o.currentAssignment.current_status):"No Assignment"),1),t[49]||(t[49]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Current mode",-1))])])]),Te.value?(c(),m("div",Yo,[t[54]||(t[54]=e("div",{class:"flex items-center gap-2 mb-4"},[e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})]),e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," Delivery Route Map ")],-1)),e("div",Ho,[k(f(Zt),{ref_key:"mapRef",ref:w,zoom:x.value,center:C.value,bounds:R.value,options:{zoomControl:!1},onReady:vt},{default:_(()=>[k(f(io),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(c(!0),m($,null,ce(Pe.value,(i,N)=>{var L;return c(),Ot(f(eo),{key:`route-step-${N}-${((L=i.region)==null?void 0:L.id)||"undefined"}`,"lat-lng":[Number(i.region.latitude),Number(i.region.longitude)],icon:pt(i,N)},{default:_(()=>[k(f(lo),null,{default:_(()=>{var re;return[e("div",Wo,v(((re=i.region)==null?void 0:re.name)||"Unknown"),1),gt(i.region.id)?(c(),m("div",Fo," Delivery Destination ")):i.region.id===o.currentRegionId?(c(),m("div",Zo," Current Location ")):(c(),m("div",Go,[g(" Stop "+v(N+1)+" ",1),i.estimated_minutes>0?(c(),m("span",Jo," • ETA: "+v(i.estimated_minutes)+" mins ",1)):b("",!0)]))]}),_:2},1024)]),_:2},1032,["lat-lng","icon"])}),128)),k(f(Wt),{position:"topright"})]),_:1},8,["zoom","center","bounds"])]),e("div",Ko,[e("div",Xo,[t[51]||(t[51]=e("div",{class:"flex items-center"},[e("div",{class:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Route Stops")],-1)),e("div",Qo,v(o.routeData.route.length)+" stops total ",1)]),e("div",er,[t[52]||(t[52]=e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Estimated Time")],-1)),e("div",tr," Total: "+v(mt.value)+" minutes ",1)]),e("div",or,[t[53]||(t[53]=e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 text-purple-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Next Stop")],-1)),e("div",rr,[g(v(((G=(Z=o.routeData.route[1])==null?void 0:Z.region)==null?void 0:G.name)||"None")+" ",1),(Ce=o.routeData.route[1])!=null&&Ce.estimated_minutes?(c(),m("span",sr,"("+v(o.routeData.route[1].estimated_minutes)+" mins)",1)):b("",!0)])])])])):(c(),m("div",nr,t[55]||(t[55]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"text-gray-700 dark:text-gray-300"}," No active route data available. Update your location or check for assigned deliveries. ")],-1)]))),e("div",lr,[t[63]||(t[63]=e("div",{class:"flex items-center gap-2 mb-4"},[e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),e("h3",{class:"text-base font-semibold text-blue-800 dark:text-blue-200"}," Update Your Location & Package Status ")],-1)),t[64]||(t[64]=e("div",{class:"mb-4 p-3 bg-blue-100 rounded-lg dark:bg-blue-800/30"},[e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-blue-600 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"text-sm text-blue-700 dark:text-blue-300"},[e("p",{class:"font-medium"},"Automatic Package Updates"),e("p",{class:"mt-1"},"When you update your location, the system will automatically:"),e("ul",{class:"mt-1 ml-4 list-disc space-y-1"},[e("li",null,"Update your current location and all assigned packages"),e("li",null,"Auto-deliver packages that reach their destination"),e("li",null,"Auto-return packages that reach the sender's region"),e("li",null,'Update package status to "In Transit" for movement between regions'),e("li",null,"Check for assignment completion and cooldown transitions")])])])],-1)),Te.value?(c(),m("div",ar,[e("div",ir,[(c(!0),m($,null,ce(o.routeData.route,(i,N)=>(c(),m("div",{key:N,class:"flex items-center"},[e("div",dr,[e("div",ur,[e("div",{class:te(["w-10 h-10 rounded-full flex items-center justify-center border-2",i.region.id===o.currentRegionId?"bg-blue-100 border-blue-500":N<o.routeData.route.findIndex(L=>L.region.id===o.currentRegionId)?"bg-gray-100 border-gray-300":"bg-white border-gray-300 dark:bg-gray-700 dark:border-gray-500",f(u).region_id===i.region.id?"ring-2 ring-blue-400":""])},[e("span",cr,v(N+1),1)],2),N<o.routeData.route.length-1?(c(),m("div",mr,t[56]||(t[56]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):b("",!0)]),e("span",gr,v(i.region.name),1)])]))),128))])])):b("",!0),e("div",pr,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select Your Current Location ",-1)),ye(e("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>f(u).region_id=i),class:"block w-full px-4 py-3 pr-10 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[t[57]||(t[57]=e("option",{value:""},"Select your current location",-1)),Te.value?(c(),m("optgroup",vr,[(c(!0),m($,null,ce(o.routeData.route,i=>(c(),m("option",{key:i.region.id,value:i.region.id,disabled:i.region.id===o.currentRegionId},[g(v(i.region.name)+" ",1),i.region.id===o.currentRegionId?(c(),m($,{key:0},[g("(Current)")],64)):b("",!0)],8,fr))),128))])):b("",!0),e("optgroup",br,[(c(!0),m($,null,ce(E.value,i=>(c(),m("option",{key:i.id,value:i.id,disabled:i.id===o.currentRegionId},[g(v(i.name)+" ",1),i.id===o.currentRegionId?(c(),m($,{key:0},[g("(Current)")],64)):b("",!0),i.type==="pickup"?(c(),m($,{key:1},[g(" - Pickup")],64)):b("",!0),i.type==="dropoff"?(c(),m($,{key:2},[g(" - Dropoff")],64)):b("",!0)],8,yr))),128))])],512),[[Ue,f(u).region_id]]),e("div",kr,[k(f(It),{class:"h-5 w-5"})])]),e("div",xr,[e("div",hr,[k(De,{checked:f(u).update_packages,"onUpdate:checked":t[3]||(t[3]=i=>f(u).update_packages=i),class:"mr-2"},null,8,["checked"]),t[59]||(t[59]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"}," Update package locations and statuses automatically ",-1))]),f(u).update_packages?(c(),m("div",wr,[e("div",Cr,[k(De,{checked:f(u).only_in_transit,"onUpdate:checked":t[4]||(t[4]=i=>f(u).only_in_transit=i),class:"mr-2"},null,8,["checked"]),t[60]||(t[60]=e("label",{class:"text-sm text-gray-700 dark:text-gray-300"},' Only update packages that are "In Transit" ',-1))]),t[61]||(t[61]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},' When checked, only packages with "In Transit" status will be moved to the new location. Uncheck to update all assigned packages regardless of status. ',-1))])):b("",!0)]),e("div",_r,[k(q,{onClick:yt,disabled:!f(u).region_id,class:"w-full sm:w-auto"},{default:_(()=>t[62]||(t[62]=[g(" Update Location & Packages ")])),_:1},8,["disabled"])])]),d.value.length>0?(c(),m("div",Rr,[e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Update Status ",-1)),ye(e("select",{"onUpdate:modelValue":t[5]||(t[5]=i=>f(l).status=i),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[65]||(t[65]=[e("option",{value:""},"Select Status",-1),e("option",{value:"loaded"},"Loaded",-1),e("option",{value:"in_transit"},"In Transit",-1),e("option",{value:"delivered"},"Delivered",-1),e("option",{value:"returned"},"Returned to Sender Branch",-1)]),512),[[Ue,f(l).status]]),k(He,{message:f(l).errors.status,class:"mt-1"},null,8,["message"]),t[67]||(t[67]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Choose the new status for the selected packages. ",-1))]),f(l).status&&f(l).status!=="loaded"?(c(),m("div",Ar,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Current Region ",-1)),ye(e("select",{"onUpdate:modelValue":t[6]||(t[6]=i=>f(l).region_id=i),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[t[68]||(t[68]=e("option",{value:""},"Select Current Region",-1)),(c(!0),m($,null,ce(E.value,i=>(c(),m("option",{key:i.id,value:i.id},[g(v(i.name)+" ",1),i.type==="pickup"?(c(),m($,{key:0},[g(" - Pickup")],64)):b("",!0),i.type==="dropoff"?(c(),m($,{key:1},[g(" - Dropoff")],64)):b("",!0)],8,Lr))),128))],512),[[Ue,f(l).region_id]]),k(He,{message:f(l).errors.region_id,class:"mt-1"},null,8,["message"]),e("div",jr,[t[69]||(t[69]=g(" Select the region where you're updating the package status. ")),f(l).status==="delivered"?(c(),m("span",Sr," Packages at their destination will be auto-delivered. ")):b("",!0),f(l).status==="returned"?(c(),m("span",Br," Packages at sender region will be auto-returned. ")):b("",!0)])])):b("",!0),e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Remarks ",-1)),ye(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=i=>f(l).remarks=i),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Optional notes about this status update"},null,512),[[Ie,f(l).remarks]]),t[72]||(t[72]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Add any additional notes for this update (optional). ",-1))]),e("div",Or,[k(q,{onClick:ft},{default:_(()=>t[73]||(t[73]=[g(" Update Status ")])),_:1})])])):b("",!0),e("div",Mr,[(c(!0),m($,null,ce(F.value,(i,N)=>(c(),m("div",{key:N,class:"border rounded-lg mb-6"},[e("div",Pr,[e("div",null,[e("h3",Tr," To: "+v(i.destination.name),1),e("div",Ir,[e("span",Ur,[t[74]||(t[74]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),g(" Current: "+v(i.currentRegion),1)]),t[75]||(t[75]=e("span",{class:"mx-2"},"•",-1)),e("span",null,v(i.packages.length)+" package(s)",1)])])]),e("div",Dr,[(c(!0),m($,null,ce(i.packages,L=>{var re;return c(),m("div",{key:L.id,class:te(["flex items-center justify-between p-4 hover:bg-blue-50 dark:hover:bg-blue-900/30 cursor-pointer transition",{"border-blue-200 bg-blue-50 dark:bg-blue-900/30":d.value.includes(L.id),"border-gray-200 dark:border-gray-700":!d.value.includes(L.id)}]),onClick:_e=>B(L.id)},[e("div",$r,[k(De,{checked:d.value,"onUpdate:checked":t[8]||(t[8]=_e=>d.value=_e),value:L.id,onClick:t[9]||(t[9]=Mt(()=>{},["stop"]))},null,8,["checked","value"]),e("div",null,[e("div",Er,v(L.item_code),1),e("div",Nr,v(L.item_name),1),e("div",Vr,[t[76]||(t[76]=g(" Status: ")),e("span",qr,v(P[L.status]||L.status),1),t[77]||(t[77]=e("span",{class:"mx-2"},"|",-1)),t[78]||(t[78]=g(" Current Region: ")),e("span",Yr,v(((re=L.current_region)==null?void 0:re.name)||"Unknown"),1)]),L.deliveryRequest?(c(),m("div",Hr,[t[79]||(t[79]=g(" Destination: ")),e("span",Wr,v(L.deliveryRequest.dropOffRegion||"Unknown"),1),t[80]||(t[80]=e("span",{class:"mx-2"},"|",-1)),t[81]||(t[81]=g(" Pickup: ")),e("span",Fr,v(L.deliveryRequest.pickUpRegion||"Unknown"),1)])):b("",!0),e("div",Zr,[L.verified_at?(c(),m("div",Gr,[t[82]||(t[82]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),g(" Verified "+v(Q(L.verified_at)),1)])):(c(),m("div",Jr,t[83]||(t[83]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),g(" Pending Verification ")])))])])]),e("div",Kr,[e("span",{class:te(A(L.status))},v(P[L.status]||L.status),3),e("span",Xr," Code: "+v(L.item_code),1)])],10,zr)}),128))])]))),128))]),o.packages.length===0?(c(),m("div",Qr,t[84]||(t[84]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"No packages assigned",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," You don't have any packages assigned to you at the moment. ",-1)]))):b("",!0)])])])]),k(ke,{show:s.value,onClose:t[11]||(t[11]=i=>s.value=!1)},{default:_(()=>[e("div",es,[t[97]||(t[97]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Update Summary ",-1)),e("div",ts,[ve.value.delivered>0?(c(),m("div",os,[t[88]||(t[88]=e("svg",{class:"h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("p",rs,[e("span",ss,v(ve.value.delivered),1),t[85]||(t[85]=g(" package(s) will be automatically marked as ")),t[86]||(t[86]=e("span",{class:"font-semibold"},"Delivered",-1)),t[87]||(t[87]=g(" at destination "))])])):b("",!0),ve.value.returned>0?(c(),m("div",ns,[t[92]||(t[92]=e("svg",{class:"h-5 w-5 text-orange-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})],-1)),e("p",ls,[e("span",as,v(ve.value.returned),1),t[89]||(t[89]=g(" package(s) will be automatically marked as ")),t[90]||(t[90]=e("span",{class:"font-semibold"},"Returned",-1)),t[91]||(t[91]=g(" at sender "))])])):b("",!0),ve.value.regular>0?(c(),m("div",is,[t[94]||(t[94]=e("svg",{class:"h-5 w-5 text-blue-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",ds,[e("span",us,v(ve.value.regular),1),t[93]||(t[93]=g(" package(s) will be updated to ")),e("span",cs,v(P[f(l).status]),1)])])):b("",!0)]),e("div",ms,[k(me,{onClick:t[10]||(t[10]=i=>s.value=!1)},{default:_(()=>t[95]||(t[95]=[g(" Cancel ")])),_:1}),k(q,{onClick:bt},{default:_(()=>t[96]||(t[96]=[g(" Confirm Update ")])),_:1})])])]),_:1},8,["show"]),k(ke,{show:n.value,onClose:t[13]||(t[13]=i=>n.value=!1)},{default:_(()=>[e("div",gs,[t[114]||(t[114]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Confirm Location & Package Updates ",-1)),e("div",ps,[e("div",vs,[t[101]||(t[101]=e("svg",{class:"h-5 w-5 text-blue-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("div",null,[t[100]||(t[100]=e("p",{class:"text-gray-700 dark:text-gray-300 font-medium"}," Location Update ",-1)),e("p",fs,[t[98]||(t[98]=g(" Moving from ")),e("span",bs,v(o.currentLocation),1),t[99]||(t[99]=g(" to ")),e("span",ys,v(qe.value),1)])])]),e("div",ks,[t[104]||(t[104]=e("svg",{class:"h-5 w-5 text-purple-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),e("div",null,[t[103]||(t[103]=e("p",{class:"text-gray-700 dark:text-gray-300 font-medium"}," Package Updates ",-1)),e("ul",xs,[f(u).update_packages?(c(),m("li",hs,[t[102]||(t[102]=g(" • All assigned packages will be moved to ")),e("span",ws,v(qe.value),1)])):b("",!0),f(u).only_in_transit?(c(),m("li",Cs,' • Only packages with "In Transit" status will be updated ')):b("",!0),f(u).only_in_transit?b("",!0):(c(),m("li",_s," • All assigned packages will be updated regardless of status "))])])]),fe.value.delivered>0||fe.value.returned>0?(c(),m("div",Rs,[t[110]||(t[110]=e("svg",{class:"h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[t[109]||(t[109]=e("p",{class:"text-gray-700 dark:text-gray-300 font-medium"}," Automatic Status Changes ",-1)),fe.value.delivered>0?(c(),m("div",As,[g(" • "+v(fe.value.delivered)+" package(s) will be ",1),t[105]||(t[105]=e("span",{class:"font-semibold"},"auto-delivered",-1)),t[106]||(t[106]=g(" at destination "))])):b("",!0),fe.value.returned>0?(c(),m("div",Ls,[g(" • "+v(fe.value.returned)+" package(s) will be ",1),t[107]||(t[107]=e("span",{class:"font-semibold"},"auto-returned",-1)),t[108]||(t[108]=g(" to sender "))])):b("",!0)])])):b("",!0),t[111]||(t[111]=e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-yellow-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",null,[e("p",{class:"text-gray-700 dark:text-gray-300 font-medium"}," Assignment Status Impact "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," System will automatically check if all packages are delivered and update your assignment status accordingly. ")])],-1))]),e("div",js,[k(me,{onClick:t[12]||(t[12]=i=>n.value=!1)},{default:_(()=>t[112]||(t[112]=[g(" Cancel ")])),_:1}),k(q,{onClick:kt},{default:_(()=>t[113]||(t[113]=[g(" Confirm Location & Package Updates ")])),_:1})])])]),_:1},8,["show"]),k(ke,{show:O.value,onClose:t[15]||(t[15]=i=>O.value=!1)},{default:_(()=>[e("div",Ss,[t[117]||(t[117]=e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])])]),e("div",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Skip Cooldown Period "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Option A: Become immediately eligible for backhaul assignments ")])],-1)),t[118]||(t[118]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4"},[e("div",{class:"flex"},[e("svg",{class:"h-5 w-5 text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"text-sm text-blue-700 dark:text-blue-300"},[e("strong",null,"Please confirm:"),e("ul",{class:"mt-1 ml-4 list-disc space-y-1"},[e("li",null,"You will skip the remaining cooldown period"),e("li",null,"You will become immediately eligible for backhaul assignments"),e("li",null,"This action cannot be undone")])])])],-1)),e("div",Bs,[k(me,{onClick:t[14]||(t[14]=i=>O.value=!1)},{default:_(()=>t[115]||(t[115]=[g(" Cancel ")])),_:1}),k(q,{onClick:Ct},{default:_(()=>t[116]||(t[116]=[g(" Skip Cooldown & Become Backhaul Eligible ")])),_:1})])])]),_:1},8,["show"]),k(ke,{show:T.value,onClose:t[18]||(t[18]=i=>T.value=!1)},{default:_(()=>[e("div",Os,[t[122]||(t[122]=e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])]),e("div",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Return Without Backhaul "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Option B: Return directly to home base ")])],-1)),t[123]||(t[123]=e("div",{class:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4 mb-4"},[e("div",{class:"flex"},[e("svg",{class:"h-5 w-5 text-orange-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"text-sm text-orange-700 dark:text-orange-300"},[e("strong",null,"Return Process:"),e("ul",{class:"mt-1 ml-4 list-disc space-y-1"},[e("li",null,"You will start returning to your home region"),e("li",null,"You cannot accept new backhaul assignments"),e("li",null,"When you arrive at home region, confirm your arrival"),e("li",null,"Final cooldown period will begin after arrival")])])])],-1)),e("div",Ms,[t[119]||(t[119]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Reason for Returning ",-1)),ye(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=i=>f(p).reason=i),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Please provide a reason for returning without backhaul..."},null,512),[[Ie,f(p).reason]])]),e("div",Ps,[k(me,{onClick:t[17]||(t[17]=i=>T.value=!1)},{default:_(()=>t[120]||(t[120]=[g(" Cancel ")])),_:1}),k(q,{onClick:ht,disabled:!f(p).reason.trim(),class:"bg-orange-600 hover:bg-orange-700 focus:ring-orange-500"},{default:_(()=>t[121]||(t[121]=[g(" Confirm Return Without Backhaul ")])),_:1},8,["disabled"])])])]),_:1},8,["show"]),k(ke,{show:V.value,onClose:t[20]||(t[20]=i=>V.value=!1)},{default:_(()=>[e("div",Ts,[t[126]||(t[126]=e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])]),e("div",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Confirm Arrival at Home Base "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Option B Completion: You have arrived at your home region ")])],-1)),t[127]||(t[127]=e("div",{class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-4"},[e("div",{class:"flex"},[e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"text-sm text-green-700 dark:text-green-300"},[e("strong",null,"Next Steps:"),e("ul",{class:"mt-1 ml-4 list-disc space-y-1"},[e("li",null,"Your assignment will move to final cooldown period"),e("li",null,"Final cooldown timer will start (30 minutes)"),e("li",null,"Complete the cooldown to finish your assignment"),e("li",null,"You will become available for new assignments")])])])],-1)),e("div",Is,[k(me,{onClick:t[19]||(t[19]=i=>V.value=!1)},{default:_(()=>t[124]||(t[124]=[g(" Cancel ")])),_:1}),k(q,{onClick:Rt,class:"bg-green-600 hover:bg-green-700 focus:ring-green-500"},{default:_(()=>t[125]||(t[125]=[g(" Confirm Arrival at Home Base ")])),_:1})])])]),_:1},8,["show"]),k(ke,{show:ee.value,onClose:t[22]||(t[22]=i=>ee.value=!1)},{default:_(()=>[e("div",Us,[t[130]||(t[130]=e("div",{class:"flex items-center gap-3 mb-4"},[e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])]),e("div",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Complete Cooldown Period "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Finish your assignment and become available for new assignments ")])],-1)),t[131]||(t[131]=e("div",{class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-4"},[e("div",{class:"flex"},[e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",{class:"text-sm text-green-700 dark:text-green-300"},[e("strong",null,"Assignment Completion:"),e("ul",{class:"mt-1 ml-4 list-disc space-y-1"},[e("li",null,"Your current assignment will be marked as completed"),e("li",null,"You will become available for new assignments"),e("li",null,"Your truck will be freed for other drivers"),e("li",null,"All assignment resources will be released")])])])],-1)),e("div",Ds,[k(me,{onClick:t[21]||(t[21]=i=>ee.value=!1)},{default:_(()=>t[128]||(t[128]=[g(" Cancel ")])),_:1}),k(q,{onClick:Lt,class:"bg-green-600 hover:bg-green-700 focus:ring-green-500"},{default:_(()=>t[129]||(t[129]=[g(" Complete Cooldown & Finish Assignment ")])),_:1})])])]),_:1},8,["show"])]}),_:1})],64))}},Xs=Tt(zs,[["__scopeId","data-v-77dcf974"]]);export{Xs as default};
