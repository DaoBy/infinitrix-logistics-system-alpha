import{i as y,G as W,d as c,o as a,w as u,b as e,c as o,e as l,a as p,u as v,t as i,n as g,f as d,P as f,F as H,r as U}from"./app-B0R_bMJi.js";import{_ as J}from"./GuestLayout-B368JazR.js";import{_ as B}from"./PrimaryButton-z6gddSkS.js";import{_ as I}from"./SecondaryButton-BDpVYXxA.js";import{r as K}from"./XCircleIcon-BDIsSbSj.js";import{r as Q}from"./ClockIcon--SAURtAu.js";import"./NavLink-BchASNUp.js";import"./NavBar-DA51v1r0.js";import"./DropdownLink-1twSM3Fq.js";const X={class:"flex justify-between items-center"},Z={class:"text-xl font-semibold text-gray-800"},ee={class:"text-sm text-gray-600 mt-1"},te={class:"max-w-6xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},se={key:0,class:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4"},re={class:"flex items-center"},ie={key:0,class:"text-red-700 mt-1"},ne={key:1,class:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},ae={class:"flex items-center"},de={key:0,class:"bg-white bg-opacity-30 p-3 rounded mt-2"},le={class:"flex items-center space-x-2"},oe={class:"text-sm"},ye={key:1,class:"bg-white bg-opacity-30 p-3 rounded mt-2"},ue={key:2,class:"bg-white bg-opacity-30 p-3 rounded mt-2"},me={class:"text-sm"},pe={key:3,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4"},ve={class:"flex items-center"},ce={key:4,class:"bg-white bg-opacity-30 p-3 rounded mt-2"},ge={key:5,class:"bg-white bg-opacity-30 p-3 rounded mt-2"},fe={key:6,class:"bg-white bg-opacity-30 p-3 rounded mt-2"},xe={key:0,class:"mt-4 flex flex-wrap gap-3"},be={key:1,class:"mt-4 bg-white bg-opacity-20 p-3 rounded"},we={class:"text-sm mt-2 list-disc list-inside"},he={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ke={class:"lg:col-span-2 space-y-6"},je={class:"bg-white shadow rounded-lg overflow-hidden"},Pe={class:"px-6 py-4"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ce={class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},Ne={class:"space-y-2 text-sm"},Ae={class:"text-gray-900 font-medium"},Se={class:"text-gray-900"},De={class:"text-gray-900"},Be={class:"text-gray-900"},Ie={class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},Ye={class:"space-y-2 text-sm"},Me={class:"text-gray-900 font-medium"},Re={class:"text-gray-900"},Te={class:"text-gray-900"},Ve={class:"text-gray-900"},qe={class:"bg-white shadow rounded-lg overflow-hidden"},ze={class:"px-6 py-4"},Fe={class:"overflow-x-auto"},Oe={class:"min-w-full divide-y divide-gray-200"},Ee={class:"bg-white divide-y divide-gray-200"},Le={class:"px-4 py-4 whitespace-nowrap"},$e={class:"font-medium text-gray-900"},Ge={class:"text-sm text-gray-500"},We={class:"px-4 py-4 whitespace-nowrap text-gray-900"},He={class:"px-4 py-4 whitespace-nowrap text-gray-900"},Ue={class:"px-4 py-4 whitespace-nowrap text-gray-900"},Je={class:"space-y-6"},Ke={class:"bg-white shadow rounded-lg overflow-hidden"},Qe={class:"px-6 py-4"},Xe={class:"space-y-3"},Ze={class:"flex justify-between"},et={class:"text-gray-900"},tt={class:"flex justify-between"},st={class:"text-gray-900"},rt={class:"flex justify-between"},it={class:"text-gray-900"},nt={class:"flex justify-between"},at={class:"text-gray-600"},dt={class:"text-gray-900"},lt={class:"border-t border-gray-200 pt-3 mt-3"},ot={class:"flex justify-between text-lg font-semibold"},yt={class:"text-blue-600"},ut={class:"mt-4 pt-4 border-t border-gray-200"},mt={class:"flex justify-between"},pt={class:"text-gray-900 capitalize"},vt={class:"flex justify-between mt-2"},ct={class:"text-gray-900 capitalize"},gt={key:0,class:"flex justify-between mt-2"},ft={class:"text-gray-900"},xt={class:"bg-white shadow rounded-lg overflow-hidden"},bt={class:"px-6 py-4"},wt={class:"flex items-center justify-between"},ht={class:"text-center"},kt={class:"mt-1 text-gray-900"},jt={class:"text-center"},Pt={class:"mt-1 text-gray-900"},Mt={__name:"Show",props:{delivery:{type:Object,required:!0},statusHistory:{type:Array,default:()=>[]}},setup(s){const n=s,Y=y(()=>!!(n.delivery.status==="approved"||n.delivery.payment_type==="postpaid"&&["completed","delivered"].includes(n.delivery.status))),M=y(()=>{const r=n.delivery.status;return r==="approved"?"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs":r==="rejected"?"text-red-800 bg-red-100 px-2 py-1 rounded-full text-xs":"text-yellow-800 bg-yellow-100 px-2 py-1 rounded-full text-xs"}),R=y(()=>{const r=n.delivery.payment_status;return r==="paid"?"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs":r==="rejected"?"text-red-800 bg-red-100 px-2 py-1 rounded-full text-xs":r==="pending_verification"?"text-blue-800 bg-blue-100 px-2 py-1 rounded-full text-xs":"text-yellow-800 bg-yellow-100 px-2 py-1 rounded-full text-xs"}),T=y(()=>{const r=n.delivery.payment_status;return r==="paid"?"bg-green-50 border border-green-200":r==="rejected"?"bg-red-50 border border-red-200":r==="pending_verification"?"bg-blue-50 border border-blue-200":"bg-yellow-50 border border-yellow-200"}),V=y(()=>{const r=n.delivery.payment_status;return r==="paid"?"text-green-800":r==="rejected"?"text-red-800":r==="pending_verification"?"text-blue-800":"text-yellow-800"}),q=y(()=>{const r=n.delivery.payment_status;return r==="paid"?"text-green-700":r==="rejected"?"text-red-700":r==="pending_verification"?"text-blue-700":"text-yellow-700"}),z=y(()=>{const r=n.delivery.payment_status;return r==="paid"?"Payment Completed":r==="rejected"?"Payment Issue":r==="pending_verification"?"Payment Verification in Progress":"Payment Required"}),F=y(()=>{const r=n.delivery.payment_status;return r==="paid"?n.delivery.payment_verified?"Your payment has been verified and your delivery is being processed.":"Your payment has been received and is awaiting verification.":r==="rejected"?"There was an issue with your payment. Please review and resubmit.":r==="pending_verification"?"Your payment is being verified by our team. This usually takes 1-2 business days.":"Your delivery request has been approved. Please complete your payment to proceed."}),x=y(()=>n.delivery.payment_type==="prepaid"),O=y(()=>!!(!n.delivery.payment_status&&x.value&&(n.delivery.payment_method==="gcash"||n.delivery.payment_method==="bank")||!n.delivery.payment_status&&n.delivery.payment_type==="postpaid"&&["completed","delivered"].includes(n.delivery.status))),E=y(()=>{const r=n.delivery.payment_status;return x.value&&n.delivery.status==="approved"?["pending","rejected"].includes(r)||r==="paid"&&!n.delivery.payment_verified:n.delivery.payment_type==="postpaid"&&["completed","delivered"].includes(n.delivery.status)?["pending","rejected"].includes(r)||r==="paid"&&!n.delivery.payment_verified:!1}),b=y(()=>{const r=n.delivery.payment_status;return x.value&&n.delivery.status==="approved"?["pending","rejected"].includes(r)||r==="paid"&&!n.delivery.payment_verified:n.delivery.payment_type==="postpaid"&&["completed","delivered"].includes(n.delivery.status)?["pending","rejected"].includes(r)||r==="paid"&&!n.delivery.payment_verified:!1}),L=y(()=>{const r=n.delivery.payment_status;return r==="rejected"?"Pay Again":r==="paid"&&!n.delivery.payment_verified?"Update Payment":"Pay Now"}),$=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(r,t)=>{const G=W("InformationCircleIcon");return a(),c(J,null,{header:u(()=>[e("div",X,[e("div",null,[e("h2",Z," Delivery Request #"+i(s.delivery.reference_number),1),e("p",ee,[t[0]||(t[0]=d(" Status: ")),e("span",{class:g(M.value)},i(s.delivery.status),3),s.delivery.payment_status?(a(),o("span",{key:0,class:g([R.value,"ml-2"])}," Payment: "+i(s.delivery.payment_status),3)):l("",!0)])]),p(v(f),{href:r.route("customer.delivery-requests.index"),class:"text-sm text-blue-600 hover:text-blue-800"},{default:u(()=>[p(I,null,{default:u(()=>t[1]||(t[1]=[d(" â† Back to My Deliveries ")])),_:1})]),_:1},8,["href"])])]),default:u(()=>{var w,h,k,j,P,_,C,N,A,S,D;return[e("div",te,[s.delivery.status==="rejected"?(a(),o("div",se,[e("div",re,[p(v(K),{class:"h-5 w-5 text-red-400 mr-2"}),t[2]||(t[2]=e("span",{class:"text-red-800 font-medium"},"Delivery Request Rejected",-1))]),s.delivery.rejection_reason?(a(),o("p",ie," Reason: "+i(s.delivery.rejection_reason),1)):l("",!0)])):s.delivery.status==="pending"?(a(),o("div",ne,[e("div",ae,[p(v(Q),{class:"h-5 w-5 text-yellow-400 mr-2"}),t[3]||(t[3]=e("span",{class:"text-yellow-800 font-medium"},"Pending Approval",-1))]),t[4]||(t[4]=e("p",{class:"text-yellow-700 mt-1"}," Your delivery request is awaiting approval from our team. ",-1))])):l("",!0),Y.value?(a(),o("div",{key:2,class:g(["mb-6 rounded-lg p-6",T.value])},[e("h3",{class:g(["text-lg font-medium mb-2",V.value])},i(z.value),3),e("div",{class:g([q.value,"space-y-3"])},[e("p",null,i(F.value),1),s.delivery.payment_status==="rejected"&&((w=s.delivery.payment)!=null&&w.rejection_reason)?(a(),o("div",de,[e("div",le,[t[5]||(t[5]=e("h4",{class:"font-medium"},"ðŸ“ Rejection Reason:",-1)),e("p",oe,i(s.delivery.payment.rejection_reason),1)])])):l("",!0),O.value?(a(),o("div",ye,t[6]||(t[6]=[e("h4",{class:"font-medium mb-1"},"ðŸ’³ Online Payment Available",-1),e("p",{class:"text-sm"},' You can pay online now using GCash or bank transfer for faster processing. Click the "Pay Now" button below to proceed with online payment. ',-1)]))):l("",!0),s.delivery.payment_method==="cash"?(a(),o("div",ue,[t[9]||(t[9]=e("h4",{class:"font-medium mb-1"},"ðŸ’° Cash Payment Instructions",-1)),e("p",me,[t[7]||(t[7]=d("Please pay with cash when you drop off your package at our ")),e("strong",null,i((h=s.delivery.pick_up_region)==null?void 0:h.name),1),t[8]||(t[8]=d(" branch. Our staff will assist you with the payment process."))]),t[10]||(t[10]=e("p",{class:"text-sm mt-1"},"You also have the option to pay online now if you prefer.",-1))])):l("",!0),s.delivery.payment_method==="cash"&&b.value?(a(),o("div",pe,[e("div",ve,[p(G,{class:"h-5 w-5 text-blue-400 mr-2"}),t[11]||(t[11]=e("span",{class:"text-blue-800 text-sm"},[e("strong",null,"Flexible Payment:"),d(" You selected Cash payment, but you can also pay online now using GCash or Bank Transfer for faster processing. ")],-1))])])):l("",!0),s.delivery.payment_status==="pending_verification"?(a(),o("div",ce,t[12]||(t[12]=[e("h4",{class:"font-medium mb-1"},"â³ What happens next?",-1),e("p",{class:"text-sm"},"Our team will verify your payment within 1-2 business days. You'll receive a notification once it's verified.",-1)]))):l("",!0),s.delivery.payment_status==="paid"&&s.delivery.payment_verified?(a(),o("div",ge,t[13]||(t[13]=[e("h4",{class:"font-medium mb-1"},"âœ… Next Steps",-1),e("p",{class:"text-sm"},"Your payment has been verified. You can now proceed to prepare your package for shipment.",-1)]))):l("",!0),s.delivery.payment_status==="rejected"?(a(),o("div",fe,t[14]||(t[14]=[e("h4",{class:"font-medium mb-1"},"â„¹ï¸ Need Assistance?",-1),e("p",{class:"text-sm"}," Your payment was not accepted. If you need help, please reach out to our support team or try resubmitting with the correct information. ",-1)]))):l("",!0)],2),E.value?(a(),o("div",xe,[b.value&&(s.delivery.payment_method==="gcash"||s.delivery.payment_method==="bank")&&s.delivery.payment_status!=="rejected"?(a(),c(v(f),{key:0,href:r.route("customer.payments.create",s.delivery.id),as:"button"},{default:u(()=>[p(B,null,{default:u(()=>[d(i(L.value),1)]),_:1})]),_:1},8,["href"])):l("",!0),s.delivery.payment_method==="cash"&&b.value&&s.delivery.payment_status!=="rejected"?(a(),c(v(f),{key:1,href:r.route("customer.payments.create",s.delivery.id),as:"button"},{default:u(()=>[p(I,null,{default:u(()=>t[15]||(t[15]=[d(" Pay Online Instead ")])),_:1})]),_:1},8,["href"])):l("",!0),s.delivery.payment_status==="rejected"&&s.delivery.payment?(a(),c(v(f),{key:2,href:r.route("customer.payments.resubmit",{delivery:s.delivery.id,payment:s.delivery.payment.id}),as:"button"},{default:u(()=>[p(B,null,{default:u(()=>t[16]||(t[16]=[d(" Resubmit Payment ")])),_:1})]),_:1},8,["href"])):l("",!0),s.delivery.payment&&!["awaiting_payment","rejected"].includes(s.delivery.payment_status)?(a(),c(v(f),{key:3,href:r.route("customer.payments.show",s.delivery.payment.id),class:"text-sm text-blue-600 hover:text-blue-800 self-center ml-4"},{default:u(()=>t[17]||(t[17]=[d(" View Payment Details ")])),_:1},8,["href"])):l("",!0)])):l("",!0),s.delivery.payment_status==="paid"&&s.delivery.payment_verified?(a(),o("div",be,[t[22]||(t[22]=e("p",{class:"text-sm font-medium"}," ðŸ“¦ Package Handover Instructions: ",-1)),e("ul",we,[e("li",null,[t[18]||(t[18]=d("Please bring your package to the selected pickup branch: ")),e("strong",null,i((k=s.delivery.pick_up_region)==null?void 0:k.name),1)]),t[20]||(t[20]=e("li",null,"Ensure your package is properly packaged and labeled",-1)),t[21]||(t[21]=e("li",null,"Bring a valid ID for verification",-1)),e("li",null,[t[19]||(t[19]=d("Reference number: ")),e("strong",null,i(s.delivery.reference_number),1)])])])):l("",!0)],2)):l("",!0),e("div",he,[e("div",ke,[e("div",je,[t[41]||(t[41]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Contact Information")],-1)),e("div",Pe,[e("div",_e,[e("div",Ce,[t[31]||(t[31]=e("h4",{class:"font-medium text-gray-700 mb-3 flex items-center"},[e("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Sender ")],-1)),e("div",Ne,[e("p",null,[t[23]||(t[23]=e("span",{class:"text-gray-500"},"Name:",-1)),t[24]||(t[24]=d()),e("span",Ae,i(((j=s.delivery.sender)==null?void 0:j.name)||"N/A"),1)]),e("p",null,[t[25]||(t[25]=e("span",{class:"text-gray-500"},"Email:",-1)),t[26]||(t[26]=d()),e("span",Se,i(((P=s.delivery.sender)==null?void 0:P.email)||"N/A"),1)]),e("p",null,[t[27]||(t[27]=e("span",{class:"text-gray-500"},"Mobile:",-1)),t[28]||(t[28]=d()),e("span",De,i(((_=s.delivery.sender)==null?void 0:_.mobile)||"N/A"),1)]),e("p",null,[t[29]||(t[29]=e("span",{class:"text-gray-500"},"Address:",-1)),t[30]||(t[30]=d()),e("span",Be,i(((C=s.delivery.sender)==null?void 0:C.address)||"N/A"),1)])])]),e("div",Ie,[t[40]||(t[40]=e("h4",{class:"font-medium text-gray-700 mb-3 flex items-center"},[e("svg",{class:"h-5 w-5 text-gray-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Receiver ")],-1)),e("div",Ye,[e("p",null,[t[32]||(t[32]=e("span",{class:"text-gray-500"},"Name:",-1)),t[33]||(t[33]=d()),e("span",Me,i(((N=s.delivery.receiver)==null?void 0:N.name)||"N/A"),1)]),e("p",null,[t[34]||(t[34]=e("span",{class:"text-gray-500"},"Email:",-1)),t[35]||(t[35]=d()),e("span",Re,i(((A=s.delivery.receiver)==null?void 0:A.email)||"N/A"),1)]),e("p",null,[t[36]||(t[36]=e("span",{class:"text-gray-500"},"Mobile:",-1)),t[37]||(t[37]=d()),e("span",Te,i(((S=s.delivery.receiver)==null?void 0:S.mobile)||"N/A"),1)]),e("p",null,[t[38]||(t[38]=e("span",{class:"text-gray-500"},"Address:",-1)),t[39]||(t[39]=d()),e("span",Ve,i(((D=s.delivery.receiver)==null?void 0:D.address)||"N/A"),1)])])])])])]),e("div",qe,[t[43]||(t[43]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Package Details")],-1)),e("div",ze,[e("div",Fe,[e("table",Oe,[t[42]||(t[42]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Dimensions"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Weight"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Value")])],-1)),e("tbody",Ee,[(a(!0),o(H,null,U(s.delivery.packages,m=>(a(),o("tr",{key:m.id},[e("td",Le,[e("div",$e,i(m.item_name),1),e("div",Ge,i(m.category),1)]),e("td",We,i(m.height)+"cm Ã— "+i(m.width)+"cm Ã— "+i(m.length)+"cm ",1),e("td",He,i(m.weight)+" kg ",1),e("td",Ue," â‚±"+i(m.value),1)]))),128))])])])])])]),e("div",Je,[e("div",Ke,[t[51]||(t[51]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Summary")],-1)),e("div",Qe,[e("div",Xe,[e("div",Ze,[t[44]||(t[44]=e("span",{class:"text-gray-600"},"Base Fee:",-1)),e("span",et,"â‚±"+i(s.delivery.base_fee),1)]),e("div",tt,[t[45]||(t[45]=e("span",{class:"text-gray-600"},"Volume Fee:",-1)),e("span",st,"â‚±"+i(s.delivery.volume_fee),1)]),e("div",rt,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"Weight Fee:",-1)),e("span",it,"â‚±"+i(s.delivery.weight_fee),1)]),e("div",nt,[e("span",at,"Package Fee ("+i(s.delivery.packages.length)+"):",1),e("span",dt,"â‚±"+i(s.delivery.package_fee),1)]),e("div",lt,[e("div",ot,[t[47]||(t[47]=e("span",{class:"text-gray-900"},"Total:",-1)),e("span",yt,"â‚±"+i(s.delivery.total_price),1)])])]),e("div",ut,[e("div",mt,[t[48]||(t[48]=e("span",{class:"text-gray-600"},"Payment Method:",-1)),e("span",pt,i(s.delivery.payment_method),1)]),e("div",vt,[t[49]||(t[49]=e("span",{class:"text-gray-600"},"Payment Type:",-1)),e("span",ct,i(s.delivery.payment_type),1)]),s.delivery.payment_due_date?(a(),o("div",gt,[t[50]||(t[50]=e("span",{class:"text-gray-600"},"Due Date:",-1)),e("span",ft,i($(s.delivery.payment_due_date)),1)])):l("",!0)])])]),e("div",xt,[t[55]||(t[55]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Route")],-1)),e("div",bt,[e("div",wt,[e("div",ht,[t[52]||(t[52]=e("div",{class:"text-sm font-medium text-gray-500"},"Pickup Location",-1)),e("div",kt,i(s.delivery.pick_up_region.name),1)]),t[54]||(t[54]=e("div",{class:"flex-1 mx-4 border-t-2 border-dashed border-gray-300"},null,-1)),e("div",jt,[t[53]||(t[53]=e("div",{class:"text-sm font-medium text-gray-500"},"Delivery Location",-1)),e("div",Pt,i(s.delivery.drop_off_region.name),1)])])])])])])])]}),_:1})}}};export{Mt as default};
