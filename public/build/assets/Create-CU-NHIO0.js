import{C as w,i as m,d as _,o as c,w as l,b as t,p as h,l as u,u as n,v as g,t as r,c as x,F as N,r as C,a as y,f as p,W as B}from"./app-BllHWhcy.js";import{E as D}from"./EmployeeLayout-CgMY_n5V.js";import{_ as M}from"./PrimaryButton-eC2eu5yQ.js";import{_ as S}from"./SecondaryButton-f4DzqSLc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";import"./DangerButton-B7_oj2jq.js";const E={class:"flex justify-between items-center px-6"},j={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},I={class:"flex space-x-2"},O={class:"px-6 py-4"},V={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 max-w-7xl mx-auto"},L={class:"p-6"},T={class:"grid grid-cols-1 gap-6"},A={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},F={class:"text-sm text-gray-900 dark:text-gray-100"},P={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},W={class:"text-sm text-gray-900 dark:text-gray-100"},q={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},H={class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},$={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},R={class:"flex justify-end"},st={__name:"Create",props:{truck:{type:Object,required:!0},driver:{type:Object,default:()=>({id:null,name:null,employee_id:null})},packages:{type:Array,default:()=>[]},manifestNumber:{type:String,required:!0}},setup(o){const i=o,d=w({manifest_number:i.manifestNumber,notes:""}),f=m(()=>{var s;return((s=i.driver)==null?void 0:s.name)||"Not assigned"}),k=m(()=>{var s;return((s=i.driver)==null?void 0:s.employee_id)||"N/A"}),b=()=>{d.post(route("manifests.store",{truck:i.truck.id}),{preserveScroll:!0,onSuccess:()=>{},onError:s=>{console.error("Error creating manifest:",s)}})},v=()=>{B.visit(route("manifests.index"))};return(s,e)=>(c(),_(D,null,{header:l(()=>[t("div",E,[t("h2",j," Create Manifest for Truck: "+r(o.truck.license_plate),1),t("div",I,[y(S,{onClick:v,class:"inline-flex items-center"},{default:l(()=>e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),p(" Back ")])),_:1})])])]),default:l(()=>[t("div",O,[t("div",V,[t("div",L,[t("form",{onSubmit:h(b,["prevent"])},[t("div",T,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Manifest Number ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>n(d).manifest_number=a),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",readonly:""},null,512),[[g,n(d).manifest_number]])]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Truck Information ",-1)),t("div",A,[t("p",F,r(o.truck.make)+" "+r(o.truck.model)+" ("+r(o.truck.license_plate)+")",1)])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Driver Information ",-1)),t("div",P,[t("p",W,r(f.value)+" (ID: "+r(k.value)+")",1)])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Notes ",-1)),u(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>n(d).notes=a),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Optional notes about this manifest..."},null,512),[[g,n(d).notes]])]),t("div",null,[t("label",q," Packages to Include ("+r(o.packages.length)+") ",1),t("div",H,[t("table",U,[e[7]||(e[7]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," DO # "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Category "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Package Name "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Destination "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Waybill # ")])],-1)),t("tbody",$,[(c(!0),x(N,null,C(o.packages,a=>(c(),x("tr",{key:a.id},[t("td",z," DO-"+r(a.delivery_order_id.toString().padStart(6,"0")),1),t("td",G,r(a.category),1),t("td",J,r(a.item_name),1),t("td",K,r(a.drop_off_region||"N/A"),1),t("td",Q,r(a.waybill_number||"Pending"),1)]))),128))])])])]),t("div",R,[y(M,{type:"submit",class:"inline-flex items-center"},{default:l(()=>e[8]||(e[8]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),p(" Create Manifest ")])),_:1})])])],32)])])])]),_:1}))}};export{st as default};
