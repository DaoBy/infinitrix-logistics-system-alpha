import{c as s,o as l,b as c,g as w,i as $,h as _,e as p,F as x,r as m,I as S,n as k,f as b,t as C,d as A,u as N,k as q,s as z}from"./app-DSvpKds8.js";function R(i,h){return l(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M10 3a.75.75 0 0 1 .75.75v10.638l3.96-4.158a.75.75 0 1 1 1.08 1.04l-5.25 5.5a.75.75 0 0 1-1.08 0l-5.25-5.5a.75.75 0 1 1 1.08-1.04l3.96 4.158V3.75A.75.75 0 0 1 10 3Z","clip-rule":"evenodd"})])}function T(i,h){return l(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M10 17a.75.75 0 0 1-.75-.75V5.612L5.29 9.77a.75.75 0 0 1-1.08-1.04l5.25-5.5a.75.75 0 0 1 1.08 0l5.25 5.5a.75.75 0 1 1-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0 1 10 17Z","clip-rule":"evenodd"})])}const W={class:"overflow-hidden rounded-lg border border-gray-200 shadow-sm"},Z={class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},I={class:"bg-gray-50"},O={key:0,class:"px-4 py-3 w-12"},G=["checked"],H=["onClick"],J={key:0,class:"ml-1"},K={class:"bg-white divide-y divide-gray-200"},P=["onClick"],Q={key:0,class:"px-4 py-4 w-12"},U=["checked","onChange"],X={key:0,class:"flex space-x-2 justify-end"},Y={key:0,class:"px-6 py-12 text-center text-gray-500 bg-white"},ee={__name:"DataTable",props:{columns:{type:Array,required:!0,validator:i=>i.every(h=>"field"in h&&"header"in h)},data:{type:Array,required:!0},selectable:{type:Boolean,default:!1},sortField:{type:String,default:""},sortDirection:{type:String,default:"asc"},numericFields:{type:Array,default:()=>["id","total_price","package_count"]}},emits:["selection-change","sort"],setup(i,{emit:h}){const d=i,g=h,u=w(d.sortField),v=w(d.sortDirection),y=(t,a)=>a?a.includes(".")?a.split(".").reduce((e,n)=>e==null?void 0:e[n],t):t[a]:"",f=$(()=>u.value?[...d.data].sort((t,a)=>{let e=y(t,u.value),n=y(a,u.value);e==null&&(e=""),n==null&&(n=""),d.numericFields.includes(u.value)?(e=parseFloat(e)||0,n=parseFloat(n)||0):(e=String(e).toLowerCase(),n=String(n).toLowerCase());let V=v.value==="desc"?-1:1;return e<n?-1*V:e>n?1*V:0}):d.data),L=t=>{let a="asc";u.value===t?a=v.value==="asc"?"desc":"asc":a="asc",u.value=t,v.value=a,g("sort",{field:t,direction:a})},o=w([]),F=t=>o.value.includes(t),D=t=>{const a=o.value.indexOf(t);a===-1?o.value.push(t):o.value.splice(a,1),g("selection-change",[...o.value])},B=$(()=>f.value.length>0&&o.value.length===f.value.length),M=()=>{B.value?o.value=[]:o.value=[...f.value],g("selection-change",[...o.value])};return _(()=>d.data,()=>{o.value=[],g("selection-change",[])}),_(()=>d.sortField,t=>{t!==u.value&&(u.value=t)}),_(()=>d.sortDirection,t=>{t!==v.value&&(v.value=t)}),(t,a)=>(l(),s("div",W,[c("div",Z,[c("table",E,[c("thead",I,[c("tr",null,[i.selectable?(l(),s("th",O,[c("input",{type:"checkbox",checked:B.value,onChange:M,"aria-label":"Select all"},null,40,G)])):p("",!0),(l(!0),s(x,null,m(i.columns,e=>(l(),s("th",{key:e.field,scope:"col",class:k(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",{"cursor-pointer hover:bg-gray-100":e.sortable,"text-right":e.field==="actions"}]),onClick:n=>e.sortable?L(e.field):null},[c("div",{class:k(["flex items-center",{"justify-end":e.field==="actions"}])},[b(C(e.header)+" ",1),i.sortField===e.field?(l(),s("span",J,[i.sortDirection==="asc"?(l(),A(N(T),{key:0,class:"h-4 w-4 text-gray-400"})):(l(),A(N(R),{key:1,class:"h-4 w-4 text-gray-400"}))])):p("",!0)],2)],10,H))),128))])]),c("tbody",K,[(l(!0),s(x,null,m(f.value,(e,n)=>(l(),s("tr",{key:n,class:k(["hover:bg-gray-50 transition-colors duration-100",{"bg-blue-50":i.selectable&&F(e)}]),onClick:r=>i.selectable?D(e):void 0,style:q({cursor:i.selectable?"pointer":"default"})},[i.selectable?(l(),s("td",Q,[c("input",{type:"checkbox",checked:F(e),onChange:z(r=>D(e),["stop"]),"aria-label":"Select row"},null,40,U)])):p("",!0),(l(!0),s(x,null,m(i.columns,r=>(l(),s("td",{key:r.field,class:k(["px-6 py-4 text-sm",{"whitespace-nowrap":r.field!=="warehouse_address","text-gray-900":!r.field.endsWith("_at"),"text-gray-500":r.field.endsWith("_at"),"text-right":r.field==="actions"}])},[r.field==="actions"?(l(),s("div",X,[S(t.$slots,"actions",{row:e})])):r.formatter?(l(),s(x,{key:1},[b(C(r.formatter(y(e,r.field))),1)],64)):S(t.$slots,r.field,{key:2,row:e},()=>[b(C(y(e,r.field)),1)])],2))),128))],14,P))),128))])])]),f.value.length===0?(l(),s("div",Y,[S(t.$slots,"empty",{},()=>[a[0]||(a[0]=b("No data available"))])])):p("",!0)]))}};export{ee as _};
