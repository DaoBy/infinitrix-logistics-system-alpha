import{C as w,d as S,o as u,w as c,b as a,c as p,e as v,t as m,p as C,a as s,u as o,W as k,f as g}from"./app-B0R_bMJi.js";import{E as T}from"./EmployeeLayout-BQLa5PLV.js";import{_ as D}from"./PrimaryButton-z6gddSkS.js";import{_ as y}from"./SecondaryButton-BDpVYXxA.js";import{_ as i}from"./InputLabel-BebyH7Kw.js";import{T as b}from"./TextInput-m8vkJNre.js";import{S as x}from"./SelectInput-f4kpY-DU.js";import{_ as V}from"./TextArea-DUZFOSeU.js";import{_ as d}from"./InputError-BoXW6i3M.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BchASNUp.js";import"./DangerButton-DlTel5kP.js";/* empty css                                                                  *//* empty css                                                                    */const U={class:"flex justify-between items-center"},$={class:"text-xl font-semibold leading-tight text-gray-800"},N={class:"py-6"},q={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},B={key:0,class:"mb-6"},I={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},E={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},M={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 bg-white border-b border-gray-200"},h={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={class:"md:col-span-2"},A={class:"md:col-span-2"},W={class:"md:col-span-2"},L={class:"mt-6 flex justify-end space-x-4"},oe={__name:"Create",props:{truck:Object,components:Array,maintenanceTypes:{type:Array,default:()=>[{value:"routine",text:"Routine Maintenance"},{value:"repair",text:"Repair"},{value:"component_replacement",text:"Component Replacement"},{value:"inspection",text:"Inspection"}]},defaultDate:String,status:String,success:String,error:String},setup(l){const f=l,e=w({truck_id:f.truck.id,maintenance_date:f.defaultDate||new Date().toISOString().split("T")[0],type:"routine",service_details:"",cost:"",service_provider:"",notes:"",component_id:""}),_=()=>{e.transform(r=>({...r,cost:r.cost?Number(r.cost):0})).post(route("admin.trucks.maintenance.store",f.truck.id),{preserveScroll:!0,onSuccess:()=>{e.reset()},onError:r=>{console.error("Submission error:",r)}})};return(r,t)=>(u(),S(T,null,{header:c(()=>[a("div",U,[a("h2",$," Add Maintenance - "+m(l.truck.make)+" "+m(l.truck.model)+" ("+m(l.truck.license_plate)+") ",1),s(y,{onClick:t[0]||(t[0]=n=>o(k).get(r.route("admin.trucks.show",l.truck.id)))},{default:c(()=>t[9]||(t[9]=[g(" Back to Truck ")])),_:1})])]),default:c(()=>[a("div",N,[a("div",q,[l.status||l.success||l.error?(u(),p("div",B,[l.status?(u(),p("div",I,m(l.status),1)):v("",!0),l.success?(u(),p("div",E,m(l.success),1)):v("",!0),l.error?(u(),p("div",M,m(l.error),1)):v("",!0)])):v("",!0),a("div",O,[a("div",R,[a("form",{onSubmit:C(_,["prevent"])},[a("div",h,[a("div",null,[s(i,{for:"maintenance_date",value:"Date *"}),s(b,{id:"maintenance_date",type:"date",class:"mt-1 block w-full",modelValue:o(e).maintenance_date,"onUpdate:modelValue":t[1]||(t[1]=n=>o(e).maintenance_date=n),required:"",max:new Date().toISOString().split("T")[0]},null,8,["modelValue","max"]),s(d,{class:"mt-2",message:o(e).errors.maintenance_date},null,8,["message"])]),a("div",null,[s(i,{for:"type",value:"Type *"}),s(x,{id:"type",modelValue:o(e).type,"onUpdate:modelValue":t[2]||(t[2]=n=>o(e).type=n),options:l.maintenanceTypes,"option-value":"value","option-label":"text",class:"mt-1 block w-full",required:""},null,8,["modelValue","options"]),s(d,{class:"mt-2",message:o(e).errors.type},null,8,["message"])]),a("div",null,[s(i,{for:"service_provider",value:"Service Provider *"}),s(b,{id:"service_provider",type:"text",class:"mt-1 block w-full",modelValue:o(e).service_provider,"onUpdate:modelValue":t[3]||(t[3]=n=>o(e).service_provider=n),required:""},null,8,["modelValue"]),s(d,{class:"mt-2",message:o(e).errors.service_provider},null,8,["message"])]),a("div",null,[s(i,{for:"cost",value:"Cost *"}),s(b,{id:"cost",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:o(e).cost,"onUpdate:modelValue":t[4]||(t[4]=n=>o(e).cost=n),required:""},null,8,["modelValue"]),s(d,{class:"mt-2",message:o(e).errors.cost},null,8,["message"])]),a("div",j,[s(i,{for:"service_details",value:"Service Details *"}),s(V,{id:"service_details",class:"mt-1 block w-full",modelValue:o(e).service_details,"onUpdate:modelValue":t[5]||(t[5]=n=>o(e).service_details=n),required:"",rows:4},null,8,["modelValue"]),s(d,{class:"mt-2",message:o(e).errors.service_details},null,8,["message"])]),a("div",A,[s(i,{for:"component_id",value:"Related Component (Optional)"}),s(x,{id:"component_id",modelValue:o(e).component_id,"onUpdate:modelValue":t[6]||(t[6]=n=>o(e).component_id=n),options:l.components,"option-value":"id","option-label":"name",class:"mt-1 block w-full"},null,8,["modelValue","options"]),s(d,{class:"mt-2",message:o(e).errors.component_id},null,8,["message"])]),a("div",W,[s(i,{for:"notes",value:"Notes"}),s(V,{id:"notes",class:"mt-1 block w-full",modelValue:o(e).notes,"onUpdate:modelValue":t[7]||(t[7]=n=>o(e).notes=n),rows:3},null,8,["modelValue"]),s(d,{class:"mt-2",message:o(e).errors.notes},null,8,["message"])])]),a("div",L,[s(y,{type:"button",onClick:t[8]||(t[8]=n=>o(k).get(r.route("admin.trucks.show",l.truck.id)))},{default:c(()=>t[10]||(t[10]=[g(" Cancel ")])),_:1}),s(D,{type:"submit",disabled:o(e).processing},{default:c(()=>t[11]||(t[11]=[g(" Save Maintenance ")])),_:1},8,["disabled"])])],32)])])])])]),_:1}))}};export{oe as default};
