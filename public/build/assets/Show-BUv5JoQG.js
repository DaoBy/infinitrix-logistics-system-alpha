import{E as z}from"./EmployeeLayout-B8SQYBgj.js";import{i,d as P,o,w as l,b as e,n as u,c as d,e as m,H as F,t as r,f as x,a as c,u as q,P as N}from"./app-SYI-8bdC.js";import{_ as L}from"./PrimaryButton-CBiTPJhk.js";import{_ as M}from"./SecondaryButton-BS-rbRq0.js";import{r as U}from"./CheckCircleIcon-m86Ju4G0.js";import{r as H}from"./XCircleIcon-CNpqFFGC.js";import{r as O}from"./ClockIcon-DEUnVnBF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-D6cPZaLM.js";import"./DangerButton-CNs3xLhr.js";const G={class:"flex justify-between items-center"},J={class:"text-xl font-semibold text-gray-800"},K={class:"text-sm text-gray-600 mt-1"},Q={class:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},W={class:"flex items-center"},X={class:"font-medium"},Y={class:"mt-1 text-sm"},Z={key:0,class:"mt-2 text-sm bg-white bg-opacity-30 p-2 rounded"},ee={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},te={class:"lg:col-span-2 space-y-6"},se={class:"bg-white shadow rounded-lg overflow-hidden"},re={class:"px-6 py-4"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"mb-4"},oe={class:"mt-1 text-sm text-gray-900"},ie={class:"mb-4"},de={class:"mt-1 text-sm text-gray-900 capitalize"},le={class:"mb-4"},me={class:"mt-1 text-sm text-gray-900 capitalize"},ye={class:"mb-4"},ce={class:"mt-1 text-sm text-gray-900"},ue={class:"mb-4"},xe={class:"mt-1 text-sm text-gray-900 capitalize"},ge={key:0,class:"mb-4"},be={class:"mt-1 text-sm text-gray-900"},fe={key:1,class:"mb-4"},pe={class:"mt-1 text-sm text-gray-900"},ve={class:"mt-4 pt-4 border-t border-gray-200"},_e={class:"flex justify-between items-center"},he={class:"text-2xl font-bold text-blue-700"},we={key:0,class:"bg-white shadow rounded-lg overflow-hidden"},ke={class:"px-6 py-4"},je=["src"],Pe={key:1,class:"bg-white shadow rounded-lg overflow-hidden"},qe={class:"px-6 py-4"},Ne={class:"text-sm text-gray-700"},Ae={key:0,class:"space-y-6"},Ce={class:"bg-white shadow rounded-lg overflow-hidden"},Se={class:"px-6 py-4"},Ve={class:"mb-4"},$e={class:"mt-1 text-sm text-gray-900"},Be={class:"mb-4"},De={class:"mt-1 text-sm text-gray-900"},Re={class:"mb-4"},Te={class:"mt-1 text-sm text-gray-900"},Ie={class:"pt-4 border-t border-gray-200"},Ee={class:"flex justify-between items-center"},ze={class:"text-lg font-bold text-blue-700"},Fe={class:"bg-white shadow rounded-lg overflow-hidden"},Le={class:"px-6 py-4 space-y-4"},Me={class:"mt-1 text-sm font-medium text-gray-900"},Ue={class:"text-xs text-gray-600"},He={class:"text-xs text-gray-600"},Oe={class:"mt-1 text-sm font-medium text-gray-900"},Ge={class:"text-xs text-gray-600"},Je={class:"text-xs text-gray-600"},Ke={key:0,class:"bg-white shadow rounded-lg overflow-hidden"},Qe={class:"px-6 py-4 space-y-3"},We={key:1,class:"space-y-6"},it={__name:"Show",props:{payment:Object},setup(s){const a=s,A=i(()=>{var n;return((n=a.payment.delivery_request)==null?void 0:n.reference_number)||`Payment #${a.payment.id}`}),C=i(()=>{var n;return((n=a.payment.delivery_request)==null?void 0:n.status)||"unknown"}),S=i(()=>"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs"),V=i(()=>a.payment.verified_by?"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs":a.payment.rejected_by?"text-red-800 bg-red-100 px-2 py-1 rounded-full text-xs":"text-yellow-800 bg-yellow-100 px-2 py-1 rounded-full text-xs"),$=i(()=>a.payment.verified_by?"verified":a.payment.rejected_by?"rejected":"pending verification"),B=i(()=>a.payment.verified_by?"bg-green-50 border border-green-200 text-green-800":a.payment.rejected_by?"bg-red-50 border border-red-200 text-red-800":"bg-yellow-50 border border-yellow-200 text-yellow-800"),D=i(()=>a.payment.verified_by?U:a.payment.rejected_by?H:O),R=i(()=>a.payment.verified_by?"Payment Verified":a.payment.rejected_by?"Payment Rejected":"Pending Verification"),T=i(()=>{var n,t;return a.payment.verified_by?`Verified by ${((n=a.payment.verified_by)==null?void 0:n.name)||"staff"} on ${y(a.payment.verified_at)}`:a.payment.rejected_by?`Rejected by ${((t=a.payment.rejected_by)==null?void 0:t.name)||"staff"} on ${y(a.payment.rejected_at)}`:"This payment is awaiting verification by staff."}),y=n=>{if(!n)return"N/A";try{return new Date(n).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}},I=n=>n?n.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):"N/A",E=n=>{n.target.src="/images/placeholder-receipt.jpg"};return(n,t)=>(o(),P(z,null,{header:l(()=>[e("div",G,[e("div",null,[e("h2",J," Payment Details - #"+r(A.value),1),e("p",K,[e("span",{class:u(S.value)},r(C.value),3),e("span",{class:u([V.value,"ml-2"])}," Payment: "+r($.value),3)])]),c(q(N),{href:n.route("staff.payments.dashboard"),class:"text-sm text-blue-600 hover:text-blue-800"},{default:l(()=>[c(M,null,{default:l(()=>t[0]||(t[0]=[x(" ← Back to Payments ")])),_:1})]),_:1},8,["href"])])]),default:l(()=>{var g,b,f,p,v,_,h,w,k,j;return[e("div",Q,[e("div",{class:u([B.value,"mb-6 rounded-lg p-4"])},[e("div",W,[(o(),P(F(D.value),{class:"h-5 w-5 mr-2"})),e("span",X,r(R.value),1)]),e("p",Y,r(T.value),1),s.payment.rejection_reason?(o(),d("p",Z,[t[1]||(t[1]=e("strong",null,"Reason:",-1)),x(" "+r(s.payment.rejection_reason),1)])):m("",!0)],2),e("div",ee,[e("div",te,[e("div",se,[t[10]||(t[10]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),e("div",re,[e("div",ae,[e("div",null,[e("div",ne,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-500"},"Reference Number",-1)),e("p",oe,r(s.payment.reference_number||"N/A"),1)]),e("div",ie,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-500"},"Method",-1)),e("p",de,r(s.payment.method),1)]),e("div",le,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-500"},"Source",-1)),e("p",me,r(I(s.payment.source)),1)])]),e("div",null,[e("div",ye,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-500"},"Date",-1)),e("p",ce,r(y(s.payment.paid_at)),1)]),e("div",ue,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-500"},"Type",-1)),e("p",xe,r(s.payment.type),1)]),s.payment.verified_at?(o(),d("div",ge,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-500"},"Verified At",-1)),e("p",be,r(y(s.payment.verified_at)),1)])):m("",!0),s.payment.collected_by?(o(),d("div",fe,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-500"},"Collected By",-1)),e("p",pe,r(((g=s.payment.collected_by)==null?void 0:g.name)||"N/A"),1)])):m("",!0)])]),e("div",ve,[e("div",_e,[t[9]||(t[9]=e("span",{class:"text-lg font-semibold text-gray-900"},"Amount Paid:",-1)),e("span",he,"₱"+r(parseFloat(s.payment.amount).toFixed(2)),1)])])])]),s.payment.receipt_image?(o(),d("div",we,[t[11]||(t[11]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Proof")],-1)),e("div",ke,[e("img",{src:s.payment.receipt_image_url,alt:"Payment receipt",class:"max-w-full h-auto rounded-lg border border-gray-200 mx-auto max-h-64 object-contain",onError:E},null,40,je)])])):m("",!0),s.payment.notes?(o(),d("div",Pe,[t[12]||(t[12]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Notes")],-1)),e("div",qe,[e("p",Ne,r(s.payment.notes),1)])])):m("",!0)]),s.payment.delivery_request?(o(),d("div",Ae,[e("div",Ce,[t[17]||(t[17]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Summary")],-1)),e("div",Se,[e("div",Ve,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-500"},"Reference #",-1)),e("p",$e,r(s.payment.delivery_request.reference_number),1)]),e("div",Be,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-500"},"Route",-1)),e("p",De,r(((b=s.payment.delivery_request.pick_up_region)==null?void 0:b.name)||"N/A")+" → "+r(((f=s.payment.delivery_request.drop_off_region)==null?void 0:f.name)||"N/A"),1)]),e("div",Re,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-500"},"Packages",-1)),e("p",Te,r(((p=s.payment.delivery_request.packages)==null?void 0:p.length)||0)+" items",1)]),e("div",Ie,[e("div",Ee,[t[16]||(t[16]=e("span",{class:"text-sm font-semibold text-gray-900"},"Total:",-1)),e("span",ze,"₱"+r(parseFloat(s.payment.delivery_request.total_price).toFixed(2)),1)])])])]),e("div",Fe,[t[20]||(t[20]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Customer Information")],-1)),e("div",Le,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-500"},"Sender",-1)),e("p",Me,r(((v=s.payment.delivery_request.sender)==null?void 0:v.name)||"N/A"),1),e("p",Ue,r(((_=s.payment.delivery_request.sender)==null?void 0:_.mobile)||""),1),e("p",He,r(((h=s.payment.delivery_request.sender)==null?void 0:h.email)||""),1)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-500"},"Receiver",-1)),e("p",Oe,r(((w=s.payment.delivery_request.receiver)==null?void 0:w.name)||"N/A"),1),e("p",Ge,r(((k=s.payment.delivery_request.receiver)==null?void 0:k.mobile)||""),1),e("p",Je,r(((j=s.payment.delivery_request.receiver)==null?void 0:j.email)||""),1)])])]),!s.payment.verified_by&&!s.payment.rejected_by?(o(),d("div",Ke,[t[22]||(t[22]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Verification")],-1)),e("div",Qe,[c(q(N),{href:n.route("staff.payments.verify",s.payment.id),class:"w-full"},{default:l(()=>[c(L,{class:"w-full justify-center"},{default:l(()=>t[21]||(t[21]=[x(" Verify Payment ")])),_:1})]),_:1},8,["href"])])])):m("",!0)])):(o(),d("div",We,t[23]||(t[23]=[e("div",{class:"bg-white shadow rounded-lg overflow-hidden"},[e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Information")]),e("div",{class:"px-6 py-4"},[e("p",{class:"text-sm text-gray-600"},"No delivery request information available for this payment.")])],-1)])))])])]}),_:1}))}};export{it as default};
