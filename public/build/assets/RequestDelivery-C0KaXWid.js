import{_ as qe}from"./GuestLayout-B368JazR.js";import{_ as d}from"./InputLabel-BebyH7Kw.js";import{T as c}from"./TextInput-m8vkJNre.js";import{_ as p}from"./InputError-BoXW6i3M.js";import{_ as $}from"./PrimaryButton-z6gddSkS.js";import{D as ze}from"./DangerButton-DlTel5kP.js";import{S as M}from"./SelectInput-f4kpY-DU.js";import{_ as De}from"./TextArea-DUZFOSeU.js";import{g as j,L as Ie,C as Re,i as W,h as ye,d as he,o as u,w as P,b as l,c as m,F as I,r as T,n as R,t as g,e as b,f as v,a,u as t,j as A}from"./app-B0R_bMJi.js";import"./NavLink-BchASNUp.js";import"./NavBar-DA51v1r0.js";import"./DropdownLink-1twSM3Fq.js";import"./SecondaryButton-BDpVYXxA.js";/* empty css                                                                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                    */const Le={class:"container mx-auto px-6 py-12 flex gap-12"},Te={class:"w-1/4 space-y-8"},Oe={class:"flex flex-col gap-4"},We=["onClick"],Ae={class:"w-3/4 space-y-8"},Ze={key:0,class:"space-y-6"},He={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ge={class:"text-sm text-blue-700 mt-1"},Ye=["href"],Je={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ke={key:0,class:"space-y-2"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},er={class:"flex justify-center mt-6"},rr={key:1,class:"space-y-6"},lr={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},tr={key:0,class:"space-y-2"},ar={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},sr={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},or={class:"flex justify-between mt-6"},ir={key:2,class:"space-y-6"},nr={class:"flex justify-between items-center"},dr={class:"text-lg font-semibold flex items-center"},ur={class:"bg-green-100 text-green-800 rounded-full w-7 h-7 flex items-center justify-center mr-2"},mr={class:"space-y-4"},pr={key:0,class:"bg-gray-50 p-3 rounded-lg text-sm"},cr={key:0},gr={key:1},vr={key:2},fr={key:3},yr={key:4},hr={key:5},br={key:6},_r={key:7},wr={key:1,class:"relative"},xr={class:"relative w-full h-40 bg-gray-100 rounded-lg overflow-hidden shadow-sm flex flex-col justify-center items-center pb-8"},kr=["onClick"],Vr=["src","alt"],Pr={key:2,class:"flex flex-col items-center justify-center h-full text-gray-400"},Cr=["onClick"],$r={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-2 text-center text-xs"},Er={class:"flex justify-center pt-2"},Br={class:"flex justify-between pt-4 border-t"},Mr={key:3,class:"space-y-6"},Ur={class:"flex justify-between items-center"},Nr={class:"text-lg font-semibold flex items-center"},Sr={class:"bg-green-100 text-green-800 rounded-full w-7 h-7 flex items-center justify-center mr-2"},jr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fr={class:"mt-1 p-2 bg-gray-100 rounded text-sm text-gray-600"},qr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zr=["id","onChange"],Dr={key:0,class:"mt-2 text-sm text-gray-600 truncate"},Ir={key:1,class:"mt-2 flex justify-center"},Rr=["src"],Lr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Tr={key:0},Or={class:"grid grid-cols-2 gap-4 mt-1"},Wr={key:1},Ar={class:"flex justify-between pt-4"},Zr={key:4,class:"space-y-6"},Hr={key:0,class:"bg-blue-100 text-blue-800 p-4 rounded-lg"},Gr={class:"p-4 bg-gray-100 rounded-lg space-y-4"},Yr={key:0,class:"space-y-2 mt-4 bg-white p-4 rounded-lg shadow"},Jr={class:"grid grid-cols-2 gap-2"},Kr={class:"text-right"},Qr={class:"text-right"},Xr={class:"text-right"},el={class:"text-right"},rl={class:"border-t pt-2 mt-2 grid grid-cols-2 font-semibold"},ll={class:"text-right"},tl={key:0,class:"text-sm text-gray-500 mt-1"},al={key:1},sl={key:2},ol={class:"flex justify-between pt-4"},il={key:0},nl={key:1},dl={key:5,class:"space-y-6"},ul={class:"bg-green-100 text-green-900 p-6 rounded-xl text-center shadow-lg border border-green-200"},ml={class:"mt-2 text-lg font-semibold"},pl={class:"text-blue-700"},cl={key:0,class:"mt-6 p-6 bg-yellow-50 rounded-xl text-yellow-900 border border-yellow-200 shadow"},gl={key:1,class:"mt-6 p-6 bg-blue-50 rounded-xl border border-blue-200 shadow"},vl={class:"flex justify-center pt-8"},Nl={__name:"RequestDelivery",props:{authCustomer:Object,categories:Array,regions:Array,priceMatrix:Object},setup(be){var te,ae,se,oe,ie,ne,de,ue,me,pe,ce,ge,ve,fe;const V=be;j(1);const _e=[{value:1,label:"Metro Manila"},{value:2,label:"Cebu City"}],_=[{label:"Small Pouch (25x15x1 cm, max 0.5kg)",value:"small_pouch",dimensions:{height:1,width:15,length:25},weight:.5,category:"piece",image:"/images/presets/small_pouch.png"},{label:"Medium Box (30x25x20 cm, max 5kg)",value:"medium_box",dimensions:{height:20,width:25,length:30},weight:5,category:"carton",image:"/images/presets/medium_box.png"},{label:"Large Box (50x40x35 cm, max 10kg)",value:"large_box",dimensions:{height:35,width:40,length:50},weight:10,category:"carton",image:"/images/presets/large_box.png"},{label:"Extra Large Box (70x50x50 cm, max 15kg)",value:"xl_box",dimensions:{height:50,width:50,length:70},weight:15,category:"carton",image:"/images/presets/xl_box.png"},{label:"Large Sack (60x40x40 cm, max 20kg)",value:"large_sack",dimensions:{height:40,width:40,length:60},weight:20,category:"sack",image:"/images/presets/large_sack.png"},{label:"Standard Roll (50x10x10 cm, max 1.5kg)",value:"standard_roll",dimensions:{height:10,width:10,length:50},weight:1.5,category:"roll",image:"/images/presets/standard_roll.png"},{label:"Bundle Roll (100x10x10 cm, max 3kg)",value:"bundle_roll",dimensions:{height:10,width:10,length:100},weight:3,category:"B/R",image:"/images/presets/bundle_roll.png"},{label:"Custom Size",value:"custom",category:"C/S",image:"/images/presets/custom.png"}],h=j(1),w=j(!1),we=j(!1),L=j([]),C=j({base_fee:0,volume_rate:0,weight_rate:0,package_rate:0}),xe=async()=>{try{const o=await A.get("/api/delivery/regions"),r=Array.isArray(o.data)?o.data:o.data.data||o.data.regions||[];L.value=r.map(n=>({value:n.id,label:n.name}))}catch(o){console.error("Failed to fetch regions:",o),L.value=[]}},ke=o=>({base_fee:50,volume_rate:10,weight_rate:5,package_rate:2})[o]||0,Z=()=>({base_fee:50,volume_rate:10,weight_rate:5,package_rate:2});C.value=Z();const Ve=async()=>{var o;try{const r=await A.get("/api/price-matrix",{timeout:5e3,headers:{"Cache-Control":"no-cache"}}),n=((o=r.data)==null?void 0:o.data)||r.data;if(!n)throw new Error("Invalid price matrix response");C.value={base_fee:Number(n.base_fee)||50,volume_rate:Number(n.volume_rate)||10,weight_rate:Number(n.weight_rate)||5,package_rate:Number(n.package_rate)||2},Object.entries(C.value).forEach(([x,y])=>{(isNaN(y)||y<0)&&(console.error(`Invalid ${x} value in price matrix`),C.value[x]=ke(x))})}catch(r){console.error("Failed to fetch price matrix:",r),C.value=Z()}},B=o=>{const r=Number(o);return isNaN(r)?"0.00":r.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})};Ie(()=>{xe(),Ve()});const H=[{value:"individual",label:"Individual"},{value:"company",label:"Company"}],Pe=[{value:"net_7",label:"Net 7 (Pay within 7 days)"},{value:"net_15",label:"Net 15 (Pay within 15 days)"},{value:"net_30",label:"Net 30 (Pay within 30 days)"},{value:"cnd",label:"CND (Cash Next Delivery)"}],e=Re({sender:{customer_category:((te=V.authCustomer)==null?void 0:te.customer_category)||"individual",first_name:((ae=V.authCustomer)==null?void 0:ae.first_name)||"",middle_name:((se=V.authCustomer)==null?void 0:se.middle_name)||"",last_name:((oe=V.authCustomer)==null?void 0:oe.last_name)||"",company_name:((ie=V.authCustomer)==null?void 0:ie.company_name)||"",email:((ne=V.authCustomer)==null?void 0:ne.email)||"",mobile:((de=V.authCustomer)==null?void 0:de.mobile)||"",phone:((ue=V.authCustomer)==null?void 0:ue.phone)||"",building_number:((me=V.authCustomer)==null?void 0:me.building_number)||"",street:((pe=V.authCustomer)==null?void 0:pe.street)||"",barangay:((ce=V.authCustomer)==null?void 0:ce.barangay)||"",city:((ge=V.authCustomer)==null?void 0:ge.city)||"",province:((ve=V.authCustomer)==null?void 0:ve.province)||"",zip_code:((fe=V.authCustomer)==null?void 0:fe.zip_code)||"",notes:""},receiver:{customer_category:"individual",first_name:"",middle_name:"",last_name:"",company_name:"",email:"",mobile:"",phone:"",building_number:"",street:"",barangay:"",city:"",province:"",zip_code:"",notes:""},pick_up_region_id:"",drop_off_region_id:"",payment_type:"",payment_method:"",payment_terms:"",total_price:0,priceBreakdown:null,packages:[{item_name:"",description:"",category:"",height:"",width:"",length:"",weight:"",value:"",photo:null,photo_url:null,preset:""}]}),Ce=W(()=>{const o=[{value:"prepaid",label:"Prepaid (Pay now)"}];return O.value&&o.push({value:"postpaid",label:"Postpaid (Pay after delivery)"}),o}),$e=[{value:"cash",label:"Cash"},{value:"gcash",label:"GCash"},{value:"bank",label:"Bank Transfer"}],O=W(()=>{var o;return((o=V.authCustomer)==null?void 0:o.completed_deliveries_count)>=3}),Ee=async()=>{if(w.value=!0,!C.value||!e.pick_up_region_id||!e.drop_off_region_id||!e.packages.every(o=>parseFloat(o.height)>0&&parseFloat(o.width)>0&&parseFloat(o.length)>0&&parseFloat(o.weight)>0)){e.priceBreakdown=null,e.total_price=0,w.value=!1;return}try{const o=e.packages.map(n=>({height:parseFloat(n.height)||0,width:parseFloat(n.width)||0,length:parseFloat(n.length)||0,weight:parseFloat(n.weight)||0})),r=await A.post(route("customer.delivery-requests.calculate-price"),{packages:o,pick_up_region_id:e.pick_up_region_id,drop_off_region_id:e.drop_off_region_id});r.data&&r.data.breakdown&&typeof r.data.total_price<"u"?(e.priceBreakdown=r.data.breakdown,e.total_price=r.data.total_price):(e.priceBreakdown=null,e.total_price=0)}catch(o){console.error("Failed to calculate price:",o),e.priceBreakdown=null,e.total_price=0}finally{w.value=!1}},G=(o,r)=>{if(o==="custom")e.packages[r]={...e.packages[r],height:"",width:"",length:"",weight:"",category:"C/S",preset:"custom"};else{const n=_.find(x=>x.value===o);n&&(e.packages[r]={...e.packages[r],height:n.dimensions.height,width:n.dimensions.width,length:n.dimensions.length,weight:n.weight,category:n.category,preset:n.value})}},Y=(o,r)=>{const n=e.packages[o].preset;if(!n)return;const x=_.findIndex(E=>E.value===n);if(x===-1)return;let y=x+r;y<0?y=_.length-1:y>=_.length&&(y=0),_[y].value==="custom"&&y!==0&&y!==_.length-1&&(y+=r,y<0&&(y=_.length-1),y>=_.length&&(y=0)),G(_[y].value,o)};ye(()=>[e.pick_up_region_id,e.drop_off_region_id,...e.packages.map(o=>[o.height,o.width,o.length,o.weight]).flat()],()=>{const o=e.packages.every(r=>parseFloat(r.height)>0&&parseFloat(r.width)>0&&parseFloat(r.length)>0&&parseFloat(r.weight)>0);e.pick_up_region_id&&e.drop_off_region_id&&o&&Ee()});const Be=W(()=>e.pick_up_region_id?L.value.filter(o=>o.value!==e.pick_up_region_id):L.value),J=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),K=o=>/^(09|\+639)\d{9}$/.test(o),Q=o=>o===""||/^[0-9]{7,15}$/.test(o),X=o=>/^[0-9]{4}$/.test(o),ee=()=>{e.clearErrors();let o=!0;return h.value===1&&(e.sender.first_name.trim()||(e.setError("sender.first_name","First name is required."),o=!1),e.sender.last_name.trim()||(e.setError("sender.last_name","Last name is required."),o=!1),e.sender.customer_category==="company"&&!e.sender.company_name.trim()&&(e.setError("sender.company_name","Company Name is required for companies."),o=!1),e.sender.mobile.trim()?K(e.sender.mobile)||(e.setError("sender.mobile","Please enter a valid Philippine mobile number (e.g. 09123456789)."),o=!1):(e.setError("sender.mobile","Mobile number is required."),o=!1),e.sender.email.trim()?J(e.sender.email)||(e.setError("sender.email","Please enter a valid email address."),o=!1):(e.setError("sender.email","Email is required."),o=!1),e.sender.phone&&!Q(e.sender.phone)&&(e.setError("sender.phone","Please enter a valid phone number."),o=!1),e.sender.street.trim()||(e.setError("sender.street","Street is required."),o=!1),e.sender.city.trim()||(e.setError("sender.city","City is required."),o=!1),e.sender.province.trim()||(e.setError("sender.province","Province is required."),o=!1),e.sender.zip_code.trim()?X(e.sender.zip_code)||(e.setError("sender.zip_code","Please enter a valid 4-digit ZIP code."),o=!1):(e.setError("sender.zip_code","ZIP Code is required."),o=!1),e.pick_up_region_id?e.clearErrors("pick_up_region_id"):(e.setError("pick_up_region_id","Pick-up region is required."),o=!1)),h.value===2&&(e.receiver.first_name.trim()||(e.setError("receiver.first_name","First name is required."),o=!1),e.receiver.last_name.trim()||(e.setError("receiver.last_name","Last name is required."),o=!1),e.receiver.customer_category==="company"&&!e.receiver.company_name.trim()&&(e.setError("receiver.company_name","Company Name is required for companies."),o=!1),e.receiver.mobile.trim()?K(e.receiver.mobile)||(e.setError("receiver.mobile","Please enter a valid Philippine mobile number (e.g. 09123456789)."),o=!1):(e.setError("receiver.mobile","Mobile number is required."),o=!1),e.receiver.email.trim()?J(e.receiver.email)||(e.setError("receiver.email","Please enter a valid email address."),o=!1):(e.setError("receiver.email","Email is required."),o=!1),e.receiver.phone&&!Q(e.receiver.phone)&&(e.setError("receiver.phone","Please enter a valid phone number."),o=!1),e.receiver.street.trim()||(e.setError("receiver.street","Street is required."),o=!1),e.receiver.city.trim()||(e.setError("receiver.city","City is required."),o=!1),e.receiver.province.trim()||(e.setError("receiver.province","Province is required."),o=!1),e.receiver.zip_code.trim()?X(e.receiver.zip_code)||(e.setError("receiver.zip_code","Please enter a valid 4-digit ZIP code."),o=!1):(e.setError("receiver.zip_code","ZIP Code is required."),o=!1),e.drop_off_region_id?e.clearErrors("drop_off_region_id"):(e.setError("drop_off_region_id","Drop-off region is required."),o=!1)),h.value===3&&e.packages.forEach((r,n)=>{r.item_name.trim()||(e.setError(`packages.${n}.item_name`,"Package name is required."),o=!1);const x=F(r.height)/100,y=F(r.width)/100,E=F(r.length)/100,U=F(r.weight),N=F(r.value);x<=0&&(e.setError(`packages.${n}.height`,"Height must be greater than 0."),o=!1),y<=0&&(e.setError(`packages.${n}.width`,"Width must be greater than 0."),o=!1),E<=0&&(e.setError(`packages.${n}.length`,"Length must be greater than 0."),o=!1),U<=0&&(e.setError(`packages.${n}.weight`,"Weight must be greater than 0."),o=!1),N<0&&(e.setError(`packages.${n}.value`,"Package value cannot be negative."),o=!1),x*y*E>10&&(e.setError(`packages.${n}.height`,"Package volume exceeds 10 m³."),o=!1),U>100&&(e.setError(`packages.${n}.weight`,"Package weight exceeds 100 kg."),o=!1)}),h.value===4&&(e.payment_method||(e.setError("payment_method","Payment method is required."),o=!1)),o},Me=(o,r)=>{const n=o.target.files[0];if(n){if(!n.type.match("image.*")){e.setError(`packages.${r}.photo`,"Only image files are allowed");return}if(n.size>5*1024*1024){e.setError(`packages.${r}.photo`,"File size must be less than 5MB");return}e.packages[r].photo=n,e.clearErrors(`packages.${r}.photo`),e.packages[r].photo_url=URL.createObjectURL(n)}},Ue=()=>{e.packages.push({item_name:"",description:"",category:"",height:"",width:"",length:"",weight:"",value:"",photo:null,photo_url:null,preset:""})},Ne=o=>{e.packages.length>1&&(e.packages[o].photo_url&&URL.revokeObjectURL(e.packages[o].photo_url),e.packages.splice(o,1))},re=()=>{ee()&&(h.value++,window.scrollTo({top:0,behavior:"smooth"}))},le=()=>{h.value--,window.scrollTo({top:0,behavior:"smooth"})},F=o=>{const r=parseFloat(o);return isNaN(r)?0:r},Se=()=>{h.value=1,e.reset(),e.packages=[{item_name:"",description:"",category:"",height:"",width:"",length:"",weight:"",value:"",photo:null,photo_url:null,preset:""}],e.priceBreakdown=null,e.total_price=0,we.value=!1},je=()=>{if(!ee())return;w.value=!0,e.total_price=e.priceBreakdown?e.total_price:0;const o=new window.FormData;Object.entries(e.sender).forEach(([r,n])=>{o.append(`sender[${r}]`,n??"")}),Object.entries(e.receiver).forEach(([r,n])=>{o.append(`receiver[${r}]`,n??"")}),o.append("pick_up_region_id",e.pick_up_region_id),o.append("drop_off_region_id",e.drop_off_region_id),o.append("payment_type",e.payment_type||"prepaid"),o.append("payment_method",e.payment_type==="prepaid"&&e.payment_method||""),o.append("payment_terms",e.payment_terms||""),e.priceBreakdown&&(o.append("total_price",e.total_price),o.append("base_fee",e.priceBreakdown.base_fee),o.append("volume_fee",e.priceBreakdown.volume_fee),o.append("weight_fee",e.priceBreakdown.weight_fee),o.append("package_fee",e.priceBreakdown.package_fee),o.append("price_breakdown",JSON.stringify(e.priceBreakdown))),e.packages.forEach((r,n)=>{o.append(`packages[${n}][item_name]`,r.item_name),o.append(`packages[${n}][category]`,r.category),o.append(`packages[${n}][description]`,r.description||""),o.append(`packages[${n}][value]`,r.value||0),o.append(`packages[${n}][height]`,r.height),o.append(`packages[${n}][width]`,r.width),o.append(`packages[${n}][length]`,r.length),o.append(`packages[${n}][weight]`,r.weight),r.photo instanceof File&&o.append(`packages[${n}][photo]`,r.photo)}),e.post(route("customer.delivery-requests.store"),{data:o,forceFormData:!0,preserveScroll:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{h.value=6,w.value=!1},onError:r=>{var x,y,E,U;console.error("Submission failed:",r),w.value=!1,(x=r.sender)!=null&&x.mobile&&e.setError("sender.mobile",r.sender.mobile),(y=r.sender)!=null&&y.email&&e.setError("sender.email",r.sender.email),(E=r.receiver)!=null&&E.mobile&&e.setError("receiver.mobile",r.receiver.mobile),(U=r.receiver)!=null&&U.email&&e.setError("receiver.email",r.receiver.email);const n=Object.keys(r)[0];if(n){const N=document.querySelector(`[name="${n}"]`);N&&N.scrollIntoView({behavior:"smooth",block:"center"})}}})};ye(()=>e.payment_type,o=>{e.payment_terms="",e.payment_method="",o==="postpaid"&&!O.value&&(e.payment_type="prepaid",e.setError("payment_type","Postpaid is only available after 3 completed deliveries.")),o==="postpaid"&&(e.payment_method="postpaid")});const Fe=[{value:350,label:"₱200 - ₱500"},{value:750,label:"₱500 - ₱1000"},{value:1500,label:"₱1000 - ₱2000"},{value:3e3,label:"₱2000 - ₱4000"},{value:5e3,label:"₱4000 - ₱6000"},{value:8e3,label:"₱6000 - ₱10000"},{value:15e3,label:"₱10000 - ₱20000"},{value:25e3,label:"₱20000 - ₱30000"},{value:4e4,label:"₱30000 - ₱50000"},{value:6e4,label:"₱50000 - ₱70000"},{value:85e3,label:"₱70000 - ₱100000"}];return(o,r)=>(u(),he(qe,null,{default:P(()=>{var n,x,y,E,U,N;return[l("div",Le,[l("div",Te,[r[37]||(r[37]=l("h2",{class:"text-2xl font-bold"},"Progress",-1)),l("div",Oe,[(u(),m(I,null,T(["Sender Info","Receiver Info","Package Type","Package Details","Payment","Confirmation"],(s,i)=>l("div",{key:i,class:"flex items-center gap-4 cursor-pointer",onClick:S=>h.value>i+1?h.value=i+1:null},[l("div",{class:R(["w-10 h-10 rounded-full flex items-center justify-center",h.value===i+1?"bg-black text-white":h.value>i+1?"bg-green-500 text-white":"bg-gray-300 text-gray-600"])},g(i+1),3),l("span",{class:R([h.value===i+1?"font-semibold":h.value>i+1?"text-green-600":"text-gray-500"])},g(s),3)],8,We)),64))])]),l("div",Ae,[r[100]||(r[100]=l("h1",{class:"text-3xl font-bold"},"Request a Delivery",-1)),h.value===1?(u(),m("div",Ze,[r[42]||(r[42]=l("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Sender Details",-1)),l("div",He,[r[40]||(r[40]=l("h3",{class:"font-semibold text-blue-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Important Information ")],-1)),l("p",Ge,[r[38]||(r[38]=v(" Your sender information is pulled from your profile. To update your details, please visit your ")),l("a",{href:o.route("customer.profile-update.create"),class:"text-blue-800 font-semibold underline hover:text-blue-600 transition-colors"}," Delivery Information Page ",8,Ye),r[39]||(r[39]=v(". This ensures all profile modifications are properly verified and recorded. "))])]),l("div",null,[a(d,{value:"Sender Type"}),a(M,{modelValue:t(e).sender.customer_category,"onUpdate:modelValue":r[0]||(r[0]=s=>t(e).sender.customer_category=s),options:H,"option-value":"value","option-label":"label",class:"mt-1 block w-full bg-gray-100 text-gray-600",disabled:""},null,8,["modelValue"])]),l("div",Je,[l("div",null,[a(d,{for:"senderFirstName",value:"First Name *"}),a(c,{id:"senderFirstName",modelValue:t(e).sender.first_name,"onUpdate:modelValue":r[1]||(r[1]=s=>t(e).sender.first_name=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.first_name"],placeholder:"First name",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.first_name"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderMiddleName",value:"Middle Name"}),a(c,{id:"senderMiddleName",modelValue:t(e).sender.middle_name,"onUpdate:modelValue":r[2]||(r[2]=s=>t(e).sender.middle_name=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.middle_name"],placeholder:"Middle name",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.middle_name"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderLastName",value:"Last Name *"}),a(c,{id:"senderLastName",modelValue:t(e).sender.last_name,"onUpdate:modelValue":r[3]||(r[3]=s=>t(e).sender.last_name=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.last_name"],placeholder:"Last name",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.last_name"]},null,8,["message"])])]),t(e).sender.customer_category==="company"?(u(),m("div",Ke,[a(d,{for:"senderCompanyName",value:"Company Name *"}),a(c,{id:"senderCompanyName",modelValue:t(e).sender.company_name,"onUpdate:modelValue":r[4]||(r[4]=s=>t(e).sender.company_name=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.company_name"],placeholder:"Official company name",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.company_name"]},null,8,["message"])])):b("",!0),l("div",Qe,[l("div",null,[a(d,{for:"senderEmail",value:"Email *"}),a(c,{id:"senderEmail",modelValue:t(e).sender.email,"onUpdate:modelValue":r[5]||(r[5]=s=>t(e).sender.email=s),type:"email",class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.email"],placeholder:"contact@example.com",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.email"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderMobile",value:"Mobile *"}),a(c,{id:"senderMobile",modelValue:t(e).sender.mobile,"onUpdate:modelValue":r[6]||(r[6]=s=>t(e).sender.mobile=s),type:"tel",class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.mobile"],placeholder:"09123456789",maxlength:"11",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.mobile"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderPhone",value:"Phone (Landline)"}),a(c,{id:"senderPhone",modelValue:t(e).sender.phone,"onUpdate:modelValue":r[7]||(r[7]=s=>t(e).sender.phone=s),type:"tel",class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.phone"],placeholder:"021234567",maxlength:"9",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.phone"]},null,8,["message"])])]),l("div",Xe,[l("div",null,[a(d,{for:"senderBuildingNumber",value:"Building Number"}),a(c,{id:"senderBuildingNumber",modelValue:t(e).sender.building_number,"onUpdate:modelValue":r[8]||(r[8]=s=>t(e).sender.building_number=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.building_number"],placeholder:"Building/Unit number",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.building_number"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderStreet",value:"Street *"}),a(c,{id:"senderStreet",modelValue:t(e).sender.street,"onUpdate:modelValue":r[9]||(r[9]=s=>t(e).sender.street=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.street"],placeholder:"Street name",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.street"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderBarangay",value:"Barangay"}),a(c,{id:"senderBarangay",modelValue:t(e).sender.barangay,"onUpdate:modelValue":r[10]||(r[10]=s=>t(e).sender.barangay=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.barangay"],placeholder:"Barangay/District",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.barangay"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderCity",value:"City/Municipality *"}),a(c,{id:"senderCity",modelValue:t(e).sender.city,"onUpdate:modelValue":r[11]||(r[11]=s=>t(e).sender.city=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.city"],placeholder:"City/Municipality",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.city"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderProvince",value:"Province *"}),a(c,{id:"senderProvince",modelValue:t(e).sender.province,"onUpdate:modelValue":r[12]||(r[12]=s=>t(e).sender.province=s),class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.province"],placeholder:"Province",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.province"]},null,8,["message"])]),l("div",null,[a(d,{for:"senderZipCode",value:"ZIP Code *"}),a(c,{id:"senderZipCode",modelValue:t(e).sender.zip_code,"onUpdate:modelValue":r[13]||(r[13]=s=>t(e).sender.zip_code=s),maxlength:"4",class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors["sender.zip_code"],placeholder:"1234",readonly:""},null,8,["modelValue","error"]),a(p,{message:t(e).errors["sender.zip_code"]},null,8,["message"])])]),l("div",null,[a(d,{for:"pickUpRegion",value:"Pick-up Region *"}),a(M,{id:"pickUpRegion",modelValue:t(e).pick_up_region_id,"onUpdate:modelValue":r[14]||(r[14]=s=>t(e).pick_up_region_id=s),options:_e,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!t(e).errors.pick_up_region_id},null,8,["modelValue","error"]),a(p,{message:t(e).errors.pick_up_region_id},null,8,["message"])]),l("div",er,[a($,{onClick:re,disabled:w.value},{default:P(()=>r[41]||(r[41]=[v(" Proceed to Receiver Details ")])),_:1},8,["disabled"])])])):b("",!0),h.value===2?(u(),m("div",rr,[r[45]||(r[45]=l("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Receiver Details",-1)),r[46]||(r[46]=l("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[l("h3",{class:"font-semibold text-blue-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Important Information ")]),l("p",{class:"text-sm text-blue-700 mt-1"}," Accurate receiver information is crucial for successful delivery. Please double-check all contact details and address information. ")],-1)),l("div",null,[a(d,{value:"Receiver Type"}),a(M,{modelValue:t(e).receiver.customer_category,"onUpdate:modelValue":r[15]||(r[15]=s=>t(e).receiver.customer_category=s),options:H,"option-value":"value","option-label":"label",class:"mt-1 block w-full"},null,8,["modelValue"])]),l("div",lr,[l("div",null,[a(d,{for:"receiverFirstName",value:"First Name *"}),a(c,{id:"receiverFirstName",modelValue:t(e).receiver.first_name,"onUpdate:modelValue":r[16]||(r[16]=s=>t(e).receiver.first_name=s),class:"w-full",error:!!t(e).errors["receiver.first_name"],placeholder:"First name"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.first_name"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverMiddleName",value:"Middle Name"}),a(c,{id:"receiverMiddleName",modelValue:t(e).receiver.middle_name,"onUpdate:modelValue":r[17]||(r[17]=s=>t(e).receiver.middle_name=s),class:"w-full",error:!!t(e).errors["receiver.middle_name"],placeholder:"Middle name"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.middle_name"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverLastName",value:"Last Name *"}),a(c,{id:"receiverLastName",modelValue:t(e).receiver.last_name,"onUpdate:modelValue":r[18]||(r[18]=s=>t(e).receiver.last_name=s),class:"w-full",error:!!t(e).errors["receiver.last_name"],placeholder:"Last name"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.last_name"]},null,8,["message"])])]),t(e).receiver.customer_category==="company"?(u(),m("div",tr,[a(d,{for:"receiverCompanyName",value:"Company Name *"}),a(c,{id:"receiverCompanyName",modelValue:t(e).receiver.company_name,"onUpdate:modelValue":r[19]||(r[19]=s=>t(e).receiver.company_name=s),class:"w-full",error:!!t(e).errors["receiver.company_name"],placeholder:"Official company name"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.company_name"]},null,8,["message"])])):b("",!0),l("div",ar,[l("div",null,[a(d,{for:"receiverEmail",value:"Email *"}),a(c,{id:"receiverEmail",modelValue:t(e).receiver.email,"onUpdate:modelValue":r[20]||(r[20]=s=>t(e).receiver.email=s),type:"email",class:"w-full",error:!!t(e).errors["receiver.email"],placeholder:"contact@example.com"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.email"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverMobile",value:"Mobile *"}),a(c,{id:"receiverMobile",modelValue:t(e).receiver.mobile,"onUpdate:modelValue":r[21]||(r[21]=s=>t(e).receiver.mobile=s),type:"tel",class:"w-full",error:!!t(e).errors["receiver.mobile"],placeholder:"09123456789",maxlength:"11"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.mobile"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverPhone",value:"Phone (Landline)"}),a(c,{id:"receiverPhone",modelValue:t(e).receiver.phone,"onUpdate:modelValue":r[22]||(r[22]=s=>t(e).receiver.phone=s),type:"tel",class:"w-full",error:!!t(e).errors["receiver.phone"],placeholder:"021234567",maxlength:"9"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.phone"]},null,8,["message"])])]),l("div",sr,[l("div",null,[a(d,{for:"receiverBuildingNumber",value:"Building Number"}),a(c,{id:"receiverBuildingNumber",modelValue:t(e).receiver.building_number,"onUpdate:modelValue":r[23]||(r[23]=s=>t(e).receiver.building_number=s),class:"w-full",error:!!t(e).errors["receiver.building_number"],placeholder:"Building/Unit number"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.building_number"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverStreet",value:"Street *"}),a(c,{id:"receiverStreet",modelValue:t(e).receiver.street,"onUpdate:modelValue":r[24]||(r[24]=s=>t(e).receiver.street=s),class:"w-full",error:!!t(e).errors["receiver.street"],placeholder:"Street name"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.street"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverBarangay",value:"Barangay"}),a(c,{id:"receiverBarangay",modelValue:t(e).receiver.barangay,"onUpdate:modelValue":r[25]||(r[25]=s=>t(e).receiver.barangay=s),class:"w-full",error:!!t(e).errors["receiver.barangay"],placeholder:"Barangay/District"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.barangay"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverCity",value:"City/Municipality *"}),a(c,{id:"receiverCity",modelValue:t(e).receiver.city,"onUpdate:modelValue":r[26]||(r[26]=s=>t(e).receiver.city=s),class:"w-full",error:!!t(e).errors["receiver.city"],placeholder:"City/Municipality"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.city"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverProvince",value:"Province *"}),a(c,{id:"receiverProvince",modelValue:t(e).receiver.province,"onUpdate:modelValue":r[27]||(r[27]=s=>t(e).receiver.province=s),class:"w-full",error:!!t(e).errors["receiver.province"],placeholder:"Province"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.province"]},null,8,["message"])]),l("div",null,[a(d,{for:"receiverZipCode",value:"ZIP Code *"}),a(c,{id:"receiverZipCode",modelValue:t(e).receiver.zip_code,"onUpdate:modelValue":r[28]||(r[28]=s=>t(e).receiver.zip_code=s),maxlength:"4",class:"w-full",error:!!t(e).errors["receiver.zip_code"],placeholder:"1234"},null,8,["modelValue","error"]),a(p,{message:t(e).errors["receiver.zip_code"]},null,8,["message"])])]),l("div",null,[a(d,{for:"dropOffRegion",value:"Drop-off Region *"}),a(M,{id:"dropOffRegion",modelValue:t(e).drop_off_region_id,"onUpdate:modelValue":r[29]||(r[29]=s=>t(e).drop_off_region_id=s),options:Be.value,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!t(e).errors.drop_off_region_id},null,8,["modelValue","options","error"]),a(p,{message:t(e).errors.drop_off_region_id},null,8,["message"])]),l("div",or,[a($,{onClick:le,disabled:w.value},{default:P(()=>r[43]||(r[43]=[v(" Return to Sender Details ")])),_:1},8,["disabled"]),a($,{onClick:re,disabled:w.value},{default:P(()=>r[44]||(r[44]=[v(" Continue to Package Selection ")])),_:1},8,["disabled"])])])):b("",!0),h.value===3?(u(),m("div",ir,[r[63]||(r[63]=l("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Package Type Selection",-1)),r[64]||(r[64]=l("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[l("h3",{class:"font-semibold text-yellow-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),v(" Advisory Notice ")]),l("p",{class:"text-sm text-yellow-700 mt-1"}," We only carry individual packages up to 10 cubic meters in volume (calculated as height × width × length in cm ÷ 1,000,000) and 100 kg in weight. Items exceeding these limits require special freight arrangements. Please ensure your items meet these requirements before booking. ")],-1)),r[65]||(r[65]=l("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[l("h3",{class:"font-semibold text-blue-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Important Information ")]),l("p",{class:"text-sm text-blue-700 mt-1"},' Select the appropriate package type for your items. Each preset has specific dimension and weight limits. Choose "Custom Size" for irregular items. ')],-1)),l("div",{class:R(["gap-6",t(e).packages.length===1?"flex justify-center":"grid grid-cols-1 md:grid-cols-2"])},[(u(!0),m(I,null,T(t(e).packages,(s,i)=>{var S,q,z,D;return u(),m("div",{key:i,class:R(["border p-4 rounded-lg space-y-4 bg-white shadow-sm hover:shadow-md transition-shadow",t(e).packages.length===1?"w-full md:w-2/3":""])},[l("div",nr,[l("h3",dr,[l("span",ur,g(i+1),1),v(" Package "+g(i+1),1)]),t(e).packages.length>1?(u(),he(ze,{key:0,onClick:k=>Ne(i),disabled:w.value,class:"!px-3 !py-1.5 text-sm"},{default:P(()=>r[47]||(r[47]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])),_:2},1032,["onClick","disabled"])):b("",!0)]),l("div",mr,[l("div",null,[a(d,{for:`preset-${i}`,value:"Package Type *"},null,8,["for"]),a(M,{id:`preset-${i}`,modelValue:s.preset,"onUpdate:modelValue":[k=>s.preset=k,k=>G(k,i)],options:_,"option-value":"value","option-label":"label",class:"mt-1 block w-full"},null,8,["id","modelValue","onUpdate:modelValue"])]),s.preset?(u(),m("div",pr,[r[56]||(r[56]=l("h4",{class:"font-semibold mb-1"},"About this package type:",-1)),s.preset==="small_pouch"?(u(),m("div",cr,r[48]||(r[48]=[l("p",{class:"text-xs"},"Perfect for small, flat items like documents, letters, or compact tools.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Blueprints, measuring tapes, passports",-1)]))):s.preset==="medium_box"?(u(),m("div",gr,r[49]||(r[49]=[l("p",{class:"text-xs"},"Standard box for books, handheld tools, or medium-sized items.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Shoes, drills, small appliances, books",-1)]))):s.preset==="large_box"?(u(),m("div",vr,r[50]||(r[50]=[l("p",{class:"text-xs"},"Great for larger items that need sturdy packaging.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Safety gear, toolkits, clothing, kitchenware",-1)]))):s.preset==="xl_box"?(u(),m("div",fr,r[51]||(r[51]=[l("p",{class:"text-xs"},"For bulky items that require extra space.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Power tools, helmets, small furniture",-1)]))):s.preset==="large_sack"?(u(),m("div",yr,r[52]||(r[52]=[l("p",{class:"text-xs"},"Best for loose, non-fragile items that can be packed together.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Work gloves, fabric, plastic fittings",-1)]))):s.preset==="standard_roll"?(u(),m("div",hr,r[53]||(r[53]=[l("p",{class:"text-xs"},"Good for compact, rollable items that aren't too long.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Blueprints, rolls of wire, wrapping paper",-1)]))):s.preset==="bundle_roll"?(u(),m("div",br,r[54]||(r[54]=[l("p",{class:"text-xs"},"Designed for long, narrow items that can be rolled or bundled.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Metal pipes, PVC tubes, banners, carpets",-1)]))):s.preset==="custom"?(u(),m("div",_r,r[55]||(r[55]=[l("p",{class:"text-xs"},"Create your own package dimensions for unique or irregular items.",-1),l("p",{class:"mt-1 text-xs text-gray-600"},"Example: Generators, concrete molds, oversized tools",-1)]))):b("",!0)])):b("",!0),s.preset?(u(),m("div",wr,[l("div",xr,[s.preset!=="custom"?(u(),m("button",{key:0,onClick:k=>Y(i,-1),class:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-70 rounded-full p-1 hover:bg-opacity-100 transition-all"},r[57]||(r[57]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,kr)):b("",!0),(S=_.find(k=>k.value===s.preset))!=null&&S.image?(u(),m("img",{key:1,src:(q=_.find(k=>k.value===s.preset))==null?void 0:q.image,alt:(z=_.find(k=>k.value===s.preset))==null?void 0:z.label,class:"max-h-32 max-w-full object-contain mx-auto"},null,8,Vr)):(u(),m("div",Pr,r[58]||(r[58]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),l("span",{class:"mt-2 text-sm"},"Custom Package",-1)]))),s.preset!=="custom"?(u(),m("button",{key:3,onClick:k=>Y(i,1),class:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-70 rounded-full p-1 hover:bg-opacity-100 transition-all"},r[59]||(r[59]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,Cr)):b("",!0),l("div",$r,g((D=_.find(k=>k.value===s.preset))==null?void 0:D.label),1)])])):b("",!0)])],2)}),128))],2),l("div",Er,[a($,{onClick:Ue,disabled:w.value,class:"!px-4 !py-2"},{default:P(()=>r[60]||(r[60]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),v(" Add Another Package ")])),_:1},8,["disabled"])]),l("div",Br,[a($,{onClick:r[30]||(r[30]=s=>h.value=2),disabled:w.value,class:"!px-4 !py-2"},{default:P(()=>r[61]||(r[61]=[v(" Return to Receiver Details ")])),_:1},8,["disabled"]),a($,{onClick:r[31]||(r[31]=s=>h.value=4),disabled:w.value||!t(e).packages.every(s=>s.preset),class:"!px-4 !py-2"},{default:P(()=>r[62]||(r[62]=[v(" Proceed to Package Details ")])),_:1},8,["disabled"])])])):b("",!0),h.value===4?(u(),m("div",Mr,[r[75]||(r[75]=l("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Package Details",-1)),r[76]||(r[76]=l("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[l("h3",{class:"font-semibold text-blue-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Important Information ")]),l("p",{class:"text-sm text-blue-700 mt-1"}," Please provide accurate details for each package. This information helps us handle your items safely and calculate the correct shipping costs. ")],-1)),(u(!0),m(I,null,T(t(e).packages,(s,i)=>{var S,q,z,D,k;return u(),m("div",{key:i,class:"border p-4 rounded-lg space-y-4 bg-white shadow-sm"},[l("div",Ur,[l("h3",Nr,[l("span",Sr,g(i+1),1),v(" Package "+g(i+1)+" - "+g(s.preset?(S=_.find(f=>f.value===s.preset))==null?void 0:S.label:"Custom Package"),1)])]),l("div",jr,[l("div",null,[a(d,{for:`item_name-${i}`,value:"Package Name *"},null,8,["for"]),a(c,{id:`item_name-${i}`,modelValue:s.item_name,"onUpdate:modelValue":f=>s.item_name=f,class:"w-full",error:!!t(e).errors[`packages.${i}.item_name`],placeholder:"e.g. Document, Electronics, Clothing"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.item_name`]},null,8,["message"]),r[66]||(r[66]=l("p",{class:"text-xs text-gray-500 mt-1"},"Give your package a descriptive name",-1))]),l("div",null,[a(d,{value:"Package Type"}),l("div",Fr,g(s.preset?(q=_.find(f=>f.value===s.preset))==null?void 0:q.label:"Custom Package"),1),r[67]||(r[67]=l("p",{class:"text-xs text-gray-500 mt-1"},"Package type is determined by your selection",-1))])]),l("div",qr,[l("div",null,[a(d,{for:`description-${i}`,value:"Special Instructions"},null,8,["for"]),a(De,{id:`description-${i}`,modelValue:s.description,"onUpdate:modelValue":f=>s.description=f,class:"w-full",rows:3,placeholder:"Package contents, special handling instructions, etc.",error:t(e).errors[`packages.${i}.description`]||""},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.description`]},null,8,["message"]),r[68]||(r[68]=l("p",{class:"text-xs text-gray-500 mt-1"},"Include any special handling requirements",-1))]),l("div",null,[a(d,{for:`photo-${i}`,value:"Package Photo (Optional)"},null,8,["for"]),l("input",{id:`photo-${i}`,type:"file",accept:"image/*",onChange:f=>Me(f,i),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,40,zr),a(p,{message:t(e).errors[`packages.${i}.photo`]},null,8,["message"]),s.photo?(u(),m("div",Dr," Selected: "+g(s.photo.name),1)):b("",!0),s.photo_url?(u(),m("div",Ir,[l("img",{src:s.photo_url,class:"h-20 object-cover rounded shadow mx-auto"},null,8,Rr)])):b("",!0),r[69]||(r[69]=l("p",{class:"text-xs text-gray-500 mt-1"},"Upload a photo to help identify your package",-1))])]),l("div",Lr,[l("div",null,[a(d,{for:`value-${i}`,value:"Package Value (₱) *"},null,8,["for"]),a(M,{id:`value-${i}`,modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,options:Fe,"option-value":"value","option-label":"label",class:"w-full",error:!!t(e).errors[`packages.${i}.value`],placeholder:"Select package value range"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.value`]},null,8,["message"]),r[70]||(r[70]=l("p",{class:"text-xs text-gray-500 mt-1"},"Select the estimated value range for insurance purposes",-1))]),s.preset==="custom"?(u(),m("div",Tr,[a(d,{value:"Package Dimensions *"}),l("div",Or,[l("div",null,[a(d,{for:`height-${i}`,value:"Height (cm)",class:"text-xs"},null,8,["for"]),a(c,{id:`height-${i}`,modelValue:s.height,"onUpdate:modelValue":f=>s.height=f,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!t(e).errors[`packages.${i}.height`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.height`]},null,8,["message"])]),l("div",null,[a(d,{for:`width-${i}`,value:"Width (cm)",class:"text-xs"},null,8,["for"]),a(c,{id:`width-${i}`,modelValue:s.width,"onUpdate:modelValue":f=>s.width=f,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!t(e).errors[`packages.${i}.width`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.width`]},null,8,["message"])]),l("div",null,[a(d,{for:`length-${i}`,value:"Length (cm)",class:"text-xs"},null,8,["for"]),a(c,{id:`length-${i}`,modelValue:s.length,"onUpdate:modelValue":f=>s.length=f,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!t(e).errors[`packages.${i}.length`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.length`]},null,8,["message"])]),l("div",null,[a(d,{for:`weight-${i}`,value:"Weight (kg)",class:"text-xs"},null,8,["for"]),a(c,{id:`weight-${i}`,modelValue:s.weight,"onUpdate:modelValue":f=>s.weight=f,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!t(e).errors[`packages.${i}.weight`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(p,{message:t(e).errors[`packages.${i}.weight`]},null,8,["message"])])]),r[71]||(r[71]=l("p",{class:"text-xs text-gray-500 mt-2"},"Enter accurate dimensions for proper pricing",-1))])):(u(),m("div",Wr,[a(d,{for:`weight-${i}`,value:`Weight (kg) (max ${((z=_.find(f=>f.value===s.preset))==null?void 0:z.weight)||0}kg)`},null,8,["for","value"]),a(c,{id:`weight-${i}`,modelValue:s.weight,"onUpdate:modelValue":f=>s.weight=f,modelModifiers:{number:!0},type:"number",min:"0.01",max:((D=_.find(f=>f.value===s.preset))==null?void 0:D.weight)||0,step:"0.01",class:"w-full bg-gray-100 text-gray-600",error:!!t(e).errors[`packages.${i}.weight`],placeholder:`Max ${((k=_.find(f=>f.value===s.preset))==null?void 0:k.weight)||0} kg`,readonly:"",disabled:""},null,8,["id","modelValue","onUpdate:modelValue","max","error","placeholder"]),a(p,{message:t(e).errors[`packages.${i}.weight`]},null,8,["message"]),r[72]||(r[72]=l("p",{class:"text-xs text-gray-500 mt-1"},"Weight is predetermined for this package type",-1))]))])])}),128)),l("div",Ar,[a($,{onClick:r[32]||(r[32]=s=>h.value=3),disabled:w.value,class:"!px-4 !py-2"},{default:P(()=>r[73]||(r[73]=[v(" Return to Package Types ")])),_:1},8,["disabled"]),a($,{onClick:r[33]||(r[33]=s=>h.value=5),disabled:w.value,class:"!px-4 !py-2"},{default:P(()=>r[74]||(r[74]=[v(" Continue to Payment ")])),_:1},8,["disabled"])])])):b("",!0),h.value===5?(u(),m("div",Zr,[r[91]||(r[91]=l("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Payment Price Calculator",-1)),r[92]||(r[92]=l("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[l("h3",{class:"font-semibold text-blue-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Important Information ")]),l("p",{class:"text-sm text-blue-700 mt-1"}," Review the calculated price based on your package details. Select your preferred payment method to complete your delivery request. ")],-1)),C.value?(u(),m("div",Hr,[r[77]||(r[77]=v(" 💰 ")),r[78]||(r[78]=l("strong",null,"Pricing Policy:",-1)),r[79]||(r[79]=l("br",null,null,-1)),r[80]||(r[80]=v(" - Base Fee: ")),l("strong",null,"₱"+g(B(C.value.base_fee)),1),r[81]||(r[81]=l("br",null,null,-1)),v(" - ₱"+g(B(C.value.volume_rate))+" per cubic meter",1),r[82]||(r[82]=l("br",null,null,-1)),v(" - ₱"+g(B(C.value.weight_rate))+" per kilogram",1),r[83]||(r[83]=l("br",null,null,-1)),v(" - ₱"+g(B(C.value.package_rate))+" per package ",1)])):b("",!0),l("div",Gr,[(u(!0),m(I,null,T(t(e).packages,(s,i)=>(u(),m(I,{key:i},[l("p",null,[r[84]||(r[84]=v("📦 ")),l("strong",null,"Package "+g(i+1)+":",1)]),l("p",null,"📏 Dimensions: "+g(s.height)+"cm (H) × "+g(s.width)+"cm (W) × "+g(s.length)+"cm (L)",1),l("p",null,"📦 Volume: "+g((s.height/100*(s.width/100)*(s.length/100)).toFixed(3))+" m³ ("+g(s.height/100)+"m × "+g(s.width/100)+"m × "+g(s.length/100)+"m)",1),l("p",null,"⚖️ Weight: "+g(s.weight)+" kg",1),r[85]||(r[85]=l("hr",null,null,-1))],64))),128)),t(e).priceBreakdown?(u(),m("div",Yr,[r[88]||(r[88]=l("h3",{class:"font-semibold text-lg"},"Price Breakdown",-1)),l("div",Jr,[r[86]||(r[86]=l("div",null,"Base Fee:",-1)),l("div",Kr,"₱"+g(B(t(e).priceBreakdown.base_fee)),1),l("div",null,"Volume Fee ("+g(((x=(n=t(e).priceBreakdown.metrics)==null?void 0:n.total_volume)==null?void 0:x.toFixed(3))||0)+" m³):",1),l("div",Qr,"₱"+g(B(t(e).priceBreakdown.volume_fee)),1),l("div",null,"Weight Fee ("+g(((E=(y=t(e).priceBreakdown.metrics)==null?void 0:y.total_weight)==null?void 0:E.toFixed(2))||0)+" kg):",1),l("div",Xr,"₱"+g(B(t(e).priceBreakdown.weight_fee)),1),l("div",null,"Package Fee ("+g(t(e).packages.length)+" items):",1),l("div",el,"₱"+g(B(t(e).priceBreakdown.package_fee)),1)]),l("div",rl,[r[87]||(r[87]=l("div",null,"Total:",-1)),l("div",ll,"₱"+g(B(t(e).total_price)),1)])])):b("",!0)]),l("div",null,[a(d,{for:"paymentType",value:"Payment Type *"}),a(M,{id:"paymentType",modelValue:t(e).payment_type,"onUpdate:modelValue":r[34]||(r[34]=s=>t(e).payment_type=s),options:Ce.value,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!t(e).errors.payment_type},null,8,["modelValue","options","error"]),a(p,{message:t(e).errors.payment_type},null,8,["message"]),O.value?b("",!0):(u(),m("div",tl," Postpaid option only available after 3 completed deliveries "))]),t(e).payment_type==="postpaid"?(u(),m("div",al,[a(d,{for:"paymentTerms",value:"Payment Terms *"}),a(M,{id:"paymentTerms",modelValue:t(e).payment_terms,"onUpdate:modelValue":r[35]||(r[35]=s=>t(e).payment_terms=s),options:Pe,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!t(e).errors.payment_terms},null,8,["modelValue","error"]),a(p,{message:t(e).errors.payment_terms},null,8,["message"]),r[89]||(r[89]=l("div",{class:"mt-3 p-3 rounded bg-blue-50 rounded-xl text-blue-900 border border-blue-200 shadow"},[l("strong",null,"Note:"),v(" For postpaid payment terms, our company will contact you via phone call or text message to discuss and finalize the payment agreement before your delivery request is accepted. ")],-1))])):b("",!0),t(e).payment_type==="prepaid"?(u(),m("div",sl,[a(d,{for:"paymentMethod",value:"Payment Method *"}),a(M,{id:"paymentMethod",modelValue:t(e).payment_method,"onUpdate:modelValue":r[36]||(r[36]=s=>t(e).payment_method=s),options:$e,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!t(e).errors.payment_method},null,8,["modelValue","error"]),a(p,{message:t(e).errors.payment_method},null,8,["message"])])):b("",!0),l("div",ol,[a($,{onClick:le,disabled:w.value},{default:P(()=>r[90]||(r[90]=[v(" Return to Package Details ")])),_:1},8,["disabled"]),a($,{onClick:je,disabled:w.value,class:R({"opacity-75 cursor-not-allowed":w.value})},{default:P(()=>[w.value?(u(),m("span",il,"Submitting...")):(u(),m("span",nl,"Submit Delivery Request"))]),_:1},8,["disabled","class"])])])):b("",!0),h.value===6?(u(),m("div",dl,[r[98]||(r[98]=l("h2",{class:"text-2xl flex items-center justify-center font-bold text-green-800"},"Submission Successful",-1)),r[99]||(r[99]=l("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[l("h3",{class:"font-semibold text-blue-800 flex items-center"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Important Information ")]),l("p",{class:"text-sm text-blue-700 mt-1"}," Thank you for your submission! Please note the next steps for your delivery request based on your selected payment method. ")],-1)),l("div",ul,[r[96]||(r[96]=l("p",{class:"text-2xl font-bold mb-2"},"✅ Your delivery request has been submitted successfully!",-1)),l("p",ml,[r[93]||(r[93]=v("Request ID: ")),l("span",pl,"DR-"+g(((N=(U=o.$page.props.deliveryRequest)==null?void 0:U.id)==null?void 0:N.toString().padStart(6,"0"))||"Pending"),1)]),t(e).payment_type==="postpaid"?(u(),m("div",cl,r[94]||(r[94]=[l("p",{class:"font-bold text-lg mb-3"},"Postpaid Payment Selected",-1),l("ol",{class:"list-decimal list-inside text-left mt-2 space-y-2 text-base text-gray-800 pl-4"},[l("li",{class:"leading-relaxed"},"Wait for an approval notification via notifications on your account."),l("li",{class:"leading-relaxed"},"Once approved, you will receive a reference number for your delivery."),l("li",{class:"leading-relaxed"},"Bring the package to the nearest branch and present your reference number."),l("li",{class:"leading-relaxed"},"Your payment will be collected later by a company collector.")],-1)]))):b("",!0),t(e).payment_type==="prepaid"&&["cash","gcash","bank"].includes(t(e).payment_method)?(u(),m("div",gl,r[95]||(r[95]=[l("p",{class:"font-bold text-lg mb-3"},"Next Steps:",-1),l("ol",{class:"list-decimal list-inside text-left mt-2 space-y-2 text-base text-gray-800 pl-4"},[l("li",{class:"leading-relaxed"},"Wait for an approval notification via email or SMS."),l("li",{class:"leading-relaxed"},"Once approved, you will receive payment instructions."),l("li",{class:"leading-relaxed"},"Proceed to your selected branch or payment method to complete the payment.")],-1)]))):b("",!0)]),l("div",vl,[a($,{onClick:Se,class:"text-lg px-8 py-3 rounded-lg"},{default:P(()=>r[97]||(r[97]=[v(" Submit Another Request ")])),_:1})])])):b("",!0)])])]}),_:1}))}};export{Nl as default};
