import{E as M}from"./EmployeeLayout-DIT5z9wE.js";import{_ as k}from"./PrimaryButton-C_K9q06y.js";import{_ as x}from"./SecondaryButton-BolX5WPO.js";import{D as w}from"./DangerButton-C4ke1hY1.js";import{_ as V}from"./DataTable-DLSq4y8x.js";import{M as E}from"./Modal-BzGLoRAP.js";import{g as C,d as h,o as a,w as n,b as t,a as d,c as r,e as u,t as o,n as L,f as i,u as _,W as f}from"./app-xrBi3RtB.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BuzuRvoY.js";const z={class:"flex justify-between items-center w-full px-6 md:px-8"},A={class:"text-xl font-semibold leading-tight text-gray-800"},F={class:"flex gap-2"},I={class:"zoom-content"},P={class:"px-6 py-4"},q={key:0,class:"mb-4"},O={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},W={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},G={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},H={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 bg-white border-b border-gray-200"},J={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},K={class:"bg-white border border-gray-200 rounded-lg p-6"},Q={class:"space-y-4"},U={class:"flex justify-between items-center py-2 border-b border-gray-100"},X={class:"text-sm text-gray-900 font-semibold"},Y={class:"flex justify-between items-center py-2 border-b border-gray-100"},Z={class:"text-sm text-gray-900 capitalize"},ee={class:"flex justify-between items-center py-2"},te={class:"bg-white border border-gray-200 rounded-lg p-6"},se={class:"space-y-4"},ne={key:0,class:"flex justify-between items-center py-2 border-b border-gray-100"},oe={class:"text-sm text-gray-900 font-mono"},ae={class:"flex justify-between items-center py-2 border-b border-gray-100"},ie={class:"text-sm text-gray-900"},re={key:1,class:"flex justify-between items-center py-2"},de={class:"text-sm text-gray-900"},le={key:0,class:"bg-white border border-gray-200 rounded-lg p-6 mb-6"},me={class:"text-sm text-gray-700 whitespace-pre-line"},ce={class:"bg-white border border-gray-200 rounded-lg p-6"},ue={key:1,class:"text-center py-4 text-gray-500"},ge={class:"mt-6 flex justify-end space-x-3"},fe={class:"p-5"},xe={class:"mt-1 text-sm text-gray-600"},ye={class:"mt-4 flex justify-end space-x-3"},be={key:0},pe={key:1},ve={__name:"Show",props:{truck:{type:Object,required:!0},component:{type:Object,required:!0},status:String,success:String,error:String},setup(s){const m=s,y=C(!1),g=C(!1),D={new:"New",good:"Good",fair:"Fair",poor:"Poor",needs_replacement:"Needs Replacement"},N=[{field:"maintenance_date",header:"Date",sortable:!0},{field:"service_provider",header:"Provider",sortable:!0},{field:"service_details",header:"Details",sortable:!1},{field:"cost",header:"Cost",sortable:!0},{field:"actions",header:"Actions",sortable:!1}],b=l=>l?new Date(l).toLocaleDateString():"N/A",j=l=>({new:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",needs_replacement:"bg-red-100 text-red-800"})[l]||"bg-gray-100 text-gray-800",v=()=>{f.get(route("admin.trucks.components.edit",{truck:m.truck.id,component:m.component.id}))},S=l=>{f.get(route("admin.trucks.maintenance.index",m.truck.id),{search:m.component.name,component_id:m.component.id})},$=()=>{y.value=!0},p=()=>{y.value=!1,g.value=!1},B=()=>{g.value=!0,f.delete(route("admin.trucks.components.destroy",{truck:m.truck.id,component:m.component.id}),{preserveScroll:!0,onSuccess:()=>p(),onFinish:()=>g.value=!1})};return(l,e)=>(a(),h(M,null,{header:n(()=>[t("div",z,[t("div",null,[t("h2",A," Component Details - "+o(s.component.name),1),e[2]||(e[2]=t("p",{class:"mt-1 text-sm text-gray-500"}," View component information and maintenance history ",-1))]),t("div",F,[d(x,{onClick:e[0]||(e[0]=c=>_(f).get(l.route("admin.trucks.components.index",s.truck.id)))},{default:n(()=>e[3]||(e[3]=[i(" Back to Components ")])),_:1}),d(k,{onClick:v},{default:n(()=>e[4]||(e[4]=[i(" Edit ")])),_:1}),d(w,{onClick:$},{default:n(()=>e[5]||(e[5]=[i(" Delete ")])),_:1})])])]),default:n(()=>[t("div",I,[t("div",P,[s.status||s.success||s.error?(a(),r("div",q,[s.status?(a(),r("div",O,o(s.status),1)):u("",!0),s.success?(a(),r("div",W,o(s.success),1)):u("",!0),s.error?(a(),r("div",G,o(s.error),1)):u("",!0)])):u("",!0),t("div",H,[t("div",R,[t("div",J,[t("div",K,[e[9]||(e[9]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Component Information",-1)),t("div",Q,[t("div",U,[e[6]||(e[6]=t("span",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("span",X,o(s.component.name),1)]),t("div",Y,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-gray-500"},"Type",-1)),t("span",Z,o(s.component.type.replace("_"," ")),1)]),t("div",ee,[e[8]||(e[8]=t("span",{class:"text-sm font-medium text-gray-500"},"Condition",-1)),t("span",{class:L(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j(s.component.condition)}`)},o(D[s.component.condition]),3)])])]),t("div",te,[e[13]||(e[13]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Technical Details",-1)),t("div",se,[s.component.serial_number?(a(),r("div",ne,[e[10]||(e[10]=t("span",{class:"text-sm font-medium text-gray-500"},"Serial Number",-1)),t("span",oe,o(s.component.serial_number),1)])):u("",!0),t("div",ae,[e[11]||(e[11]=t("span",{class:"text-sm font-medium text-gray-500"},"Installation Date",-1)),t("span",ie,o(b(s.component.installation_date)),1)]),s.component.last_maintenance_date?(a(),r("div",re,[e[12]||(e[12]=t("span",{class:"text-sm font-medium text-gray-500"},"Last Maintenance",-1)),t("span",de,o(b(s.component.last_maintenance_date)),1)])):u("",!0)])])]),s.component.notes?(a(),r("div",le,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Notes",-1)),t("p",me,o(s.component.notes),1)])):u("",!0),t("div",ce,[e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Maintenance History",-1)),s.component.maintenance_records&&s.component.maintenance_records.length?(a(),h(V,{key:0,columns:N,data:s.component.maintenance_records,class:"w-full"},{maintenance_date:n(({row:c})=>[i(o(b(c.maintenance_date)),1)]),cost:n(({row:c})=>[i(" $"+o(Number(c.cost).toFixed(2)),1)]),actions:n(({row:c})=>[d(x,{onClick:ke=>S(c),class:"text-xs py-1 px-2"},{default:n(()=>e[15]||(e[15]=[i("View")])),_:2},1032,["onClick"])]),empty:n(()=>e[16]||(e[16]=[t("div",{class:"text-center py-4 text-gray-500"}," No maintenance records found for this component. ",-1)])),_:1},8,["data"])):(a(),r("div",ue," No maintenance records found for this component. "))]),t("div",ge,[d(x,{onClick:e[1]||(e[1]=c=>_(f).get(l.route("admin.trucks.components.index",s.truck.id)))},{default:n(()=>e[18]||(e[18]=[i(" Back to Components ")])),_:1}),d(k,{onClick:v},{default:n(()=>e[19]||(e[19]=[i(" Edit Component ")])),_:1})])])])])]),d(E,{show:y.value,onClose:p},{default:n(()=>[t("div",fe,[e[23]||(e[23]=t("h2",{class:"text-lg font-medium text-gray-900"},"Delete Component?",-1)),t("p",xe,[e[20]||(e[20]=i(" Are you sure you want to delete ")),t("strong",null,o(s.component.name),1),e[21]||(e[21]=i("? This action cannot be undone. "))]),t("div",ye,[d(x,{onClick:p},{default:n(()=>e[22]||(e[22]=[i("Cancel")])),_:1}),d(w,{onClick:B,disabled:g.value},{default:n(()=>[g.value?(a(),r("span",be,"Processing...")):(a(),r("span",pe,"Delete"))]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1}))}},Be=T(ve,[["__scopeId","data-v-ed3bcc60"]]);export{Be as default};
