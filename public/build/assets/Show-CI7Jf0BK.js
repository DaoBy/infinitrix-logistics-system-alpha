import{_ as S}from"./GuestLayout-B368JazR.js";import{i as l,d as f,o as i,w as o,b as e,n as p,c as b,e as m,E as V,t as a,f as y,a as d,u as c,P as g}from"./app-B0R_bMJi.js";import{_ as B}from"./PrimaryButton-z6gddSkS.js";import{_ as v}from"./SecondaryButton-BDpVYXxA.js";import{r as T}from"./CheckCircleIcon-CZ6nPIfK.js";import{r as R}from"./XCircleIcon-BDIsSbSj.js";import{r as A}from"./ClockIcon--SAURtAu.js";import{r as E}from"./InformationCircleIcon-D_NW5wO1.js";import"./NavLink-BchASNUp.js";import"./NavBar-DA51v1r0.js";import"./DropdownLink-1twSM3Fq.js";const I={class:"flex justify-between items-center"},z={class:"text-xl font-semibold text-gray-800"},F={class:"text-sm text-gray-600 mt-1"},M={class:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},L={class:"flex items-center"},O={class:"font-medium"},U={class:"mt-1 text-sm"},Y={key:0,class:"mt-2 text-sm bg-white bg-opacity-30 p-2 rounded"},G={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},H={class:"lg:col-span-2 space-y-6"},J={class:"bg-white shadow rounded-lg overflow-hidden"},K={class:"px-6 py-4"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={key:0,class:"mb-4"},X={class:"mt-1 text-sm text-gray-900"},Z={class:"mb-4"},ee={class:"mt-1 text-sm text-gray-900 capitalize"},te={class:"mb-4"},se={class:"mt-1 text-sm text-gray-900"},re={class:"mb-4"},ae={class:"mt-1 text-sm text-gray-900 capitalize"},ne={class:"mt-4 pt-4 border-t border-gray-200"},oe={class:"flex justify-between items-center"},le={class:"text-2xl font-bold text-blue-700"},ie={key:0,class:"bg-white shadow rounded-lg overflow-hidden"},de={class:"px-6 py-4"},me=["src"],ue={key:1,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},ye={class:"flex"},ce={class:"flex-shrink-0"},fe={class:"space-y-6"},be={class:"bg-white shadow rounded-lg overflow-hidden"},ge={class:"px-6 py-4"},xe={class:"mb-4"},pe={class:"mt-1 text-sm text-gray-900"},ve={class:"mb-4"},_e={class:"mt-1 text-sm text-gray-900"},he={class:"mb-4"},we={class:"mt-1 text-sm text-gray-900"},je={class:"bg-white shadow rounded-lg overflow-hidden"},ke={class:"px-6 py-4 space-y-3"},Ae={__name:"Show",props:{payment:Object},setup(s){const r=s,u=l(()=>r.payment.method==="cash"),j=l(()=>"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs"),k=l(()=>r.payment.verified_by?"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs":r.payment.rejected_by?"text-red-800 bg-red-100 px-2 py-1 rounded-full text-xs":"text-yellow-800 bg-yellow-100 px-2 py-1 rounded-full text-xs"),P=l(()=>r.payment.verified_by?"verified":r.payment.rejected_by?"rejected":"pending verification"),q=l(()=>r.payment.verified_by?"bg-green-50 border border-green-200 text-green-800":r.payment.rejected_by?"bg-red-50 border border-red-200 text-red-800":"bg-yellow-50 border border-yellow-200 text-yellow-800"),C=l(()=>r.payment.verified_by?T:r.payment.rejected_by?R:A),D=l(()=>r.payment.verified_by?"Payment Verified":r.payment.rejected_by?"Payment Rejected":"Pending Verification"),N=l(()=>{var n;return r.payment.verified_by?`Verified by ${(n=r.payment.verified_by)==null?void 0:n.name} on ${x(r.payment.verified_at)}`:r.payment.rejected_by?`Rejected on ${x(r.payment.rejected_at)}`:"Your payment is being reviewed by our team. This usually takes 1-2 business days."}),x=n=>{if(!n)return"N/A";try{return new Date(n).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}},$=n=>{n.target.src="/images/placeholder-receipt.jpg"};return(n,t)=>(i(),f(S,null,{header:o(()=>[e("div",I,[e("div",null,[e("h2",z," Payment Details - #"+a(s.payment.delivery_request.reference_number),1),e("p",F,[e("span",{class:p(j.value)},a(s.payment.delivery_request.status),3),e("span",{class:p([k.value,"ml-2"])}," Payment: "+a(P.value),3)])]),d(c(g),{href:n.route("customer.delivery-requests.show",s.payment.delivery_request_id),class:"text-sm text-blue-600 hover:text-blue-800"},{default:o(()=>[d(v,null,{default:o(()=>t[0]||(t[0]=[y(" ← Back to Delivery ")])),_:1})]),_:1},8,["href"])])]),default:o(()=>{var _,h,w;return[e("div",M,[e("div",{class:p([q.value,"mb-6 rounded-lg p-4"])},[e("div",L,[(i(),f(V(C.value),{class:"h-5 w-5 mr-2"})),e("span",O,a(D.value),1)]),e("p",U,a(N.value),1),s.payment.rejection_reason?(i(),b("p",Y,[t[1]||(t[1]=e("strong",null,"Reason:",-1)),y(" "+a(s.payment.rejection_reason),1)])):m("",!0)],2),e("div",G,[e("div",H,[e("div",J,[t[7]||(t[7]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),e("div",K,[e("div",Q,[e("div",null,[u.value?m("",!0):(i(),b("div",W,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-500"},"Reference Number",-1)),e("p",X,a(s.payment.reference_number||"N/A"),1)])),e("div",Z,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-500"},"Method",-1)),e("p",ee,a(s.payment.method),1)])]),e("div",null,[e("div",te,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-500"},"Date",-1)),e("p",se,a(x(s.payment.paid_at)),1)]),e("div",re,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-500"},"Type",-1)),e("p",ae,a(s.payment.type),1)])])]),e("div",ne,[e("div",oe,[t[6]||(t[6]=e("span",{class:"text-lg font-semibold text-gray-900"},"Amount Paid:",-1)),e("span",le,"₱"+a(parseFloat(s.payment.amount).toFixed(2)),1)])])])]),u.value?m("",!0):(i(),b("div",ie,[t[8]||(t[8]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Proof")],-1)),e("div",de,[e("img",{src:s.payment.receipt_image_url,alt:"Payment receipt",class:"max-w-full h-auto rounded-lg border border-gray-200 mx-auto max-h-64 object-contain",onError:$},null,40,me)])])),u.value?(i(),b("div",ue,[e("div",ye,[e("div",ce,[d(c(E),{class:"h-5 w-5 text-blue-400"})]),t[9]||(t[9]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"},"Cash Payment"),e("div",{class:"mt-2 text-sm text-blue-700"},[e("p",null,"This payment was made in cash. No digital receipt or reference number is available.")])],-1))])])):m("",!0)]),e("div",fe,[e("div",be,[t[13]||(t[13]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Summary")],-1)),e("div",ge,[e("div",xe,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-500"},"Reference #",-1)),e("p",pe,a(s.payment.delivery_request.reference_number),1)]),e("div",ve,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-500"},"Route",-1)),e("p",_e,a((_=s.payment.delivery_request.pick_up_region)==null?void 0:_.name)+" → "+a((h=s.payment.delivery_request.drop_off_region)==null?void 0:h.name),1)]),e("div",he,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-500"},"Packages",-1)),e("p",we,a((w=s.payment.delivery_request.packages)==null?void 0:w.length)+" items",1)])])]),e("div",je,[t[17]||(t[17]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Actions")],-1)),e("div",ke,[d(c(g),{href:n.route("customer.delivery-requests.show",s.payment.delivery_request_id),class:"w-full"},{default:o(()=>[d(B,{class:"w-full justify-center"},{default:o(()=>t[14]||(t[14]=[y(" View Delivery Details ")])),_:1})]),_:1},8,["href"]),s.payment.rejected_by&&!u.value?(i(),f(c(g),{key:0,href:n.route("customer.payments.create",s.payment.delivery_request_id),class:"w-full"},{default:o(()=>[d(v,{class:"w-full justify-center"},{default:o(()=>t[15]||(t[15]=[y(" Submit New Payment ")])),_:1})]),_:1},8,["href"])):m("",!0),s.payment.rejected_by&&u.value?(i(),f(c(g),{key:1,href:n.route("customer.delivery-requests.show",s.payment.delivery_request_id),class:"w-full"},{default:o(()=>[d(v,{class:"w-full justify-center"},{default:o(()=>t[16]||(t[16]=[y(" Contact Support ")])),_:1})]),_:1},8,["href"])):m("",!0)])])])])])]}),_:1}))}};export{Ae as default};
