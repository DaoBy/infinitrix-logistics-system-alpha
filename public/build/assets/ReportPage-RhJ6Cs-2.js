import{g as n,i as J,d as z,o as G,w as a,b as t,a as o,f as r,t as x,l as H,v as K}from"./app-BllHWhcy.js";import{E as Q}from"./EmployeeLayout-CgMY_n5V.js";import{_ as y}from"./PrimaryButton-eC2eu5yQ.js";import{_ as b}from"./SecondaryButton-f4DzqSLc.js";import{D as X}from"./DangerButton-B7_oj2jq.js";import{_ as Y}from"./SearchInput-BSEud9IK.js";import{S as M}from"./SelectInput-BACJkmZB.js";import{_ as Z}from"./DataTable-BArupUOg.js";import{M as A}from"./Modal-DAAK_Wm5.js";import{_}from"./InputLabel-DydH0wB0.js";import{_ as w}from"./Checkbox-Dtno7VqR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";/* empty css                                                                    */const ee={class:"flex justify-between items-center"},le={class:"flex space-x-2"},te={class:"py-6"},oe={class:"mx-auto sm:px-6 lg:px-8"},ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},se={class:"p-6 bg-white border-b border-gray-200"},ne={class:"mb-6 flex justify-between items-center"},re={class:"flex space-x-2"},ie={class:"flex flex-wrap gap-2"},ue={class:"p-6"},de={class:"space-y-2 mb-4"},me={class:"flex items-center space-x-2"},fe={class:"flex items-center space-x-2"},pe={class:"flex items-center space-x-2"},ve={class:"space-y-2"},ce={class:"flex justify-between"},ye={class:"p-6"},be={class:"text-gray-600 dark:text-gray-400 mb-6"},Ce={class:"flex justify-between"},Fe={__name:"ReportPage",props:{customers:{type:Array,required:!0},status:String,success:String,error:String},setup(F){const d=n(!1),m=n(!1),C=n(null),i=n([]),V=n(""),S=s=>{C.value=s,d.value=!0},D=s=>{C.value=s,m.value=!0},k=F,u=n(""),f=n(""),p=n(""),N=[{value:"",label:"All Types"},{value:"individual",label:"Individual"},{value:"company",label:"Company"}],O=[{value:"",label:"All Frequencies"},{value:"regular",label:"Regular"},{value:"occasional",label:"Occasional"}],R=n([{id:1,name:"Blase Mariano",company_name:"",email:"Blase@example.com",mobile:"091973219858",customer_category:"Individual",frequency_type:"Regular",total_orders:5,created_at:"2023-01-15"},{id:1,name:"Jose Pasqual",company_name:"",email:"Jose@example.com",mobile:"091973219859",customer_category:"Individual",frequency_type:"Occasional",total_orders:5,created_at:"2023-01-15"}]),g=n("created_at"),v=n("desc");n(!1),n(null),n(!1);const U=[{field:"name",header:"Name",sortable:!0},{field:"company_name",header:"Company",sortable:!0},{field:"email",header:"Email",sortable:!0},{field:"mobile",header:"Mobile",sortable:!1},{field:"customer_category",header:"Category",sortable:!0},{field:"frequency_type",header:"Frequency",sortable:!0},{field:"total_orders",header:"Orders",sortable:!0},{field:"created_at",header:"Created",sortable:!0},{field:"actions",header:"Actions",sortable:!1}];function P(s){g.value===s?v.value=v.value==="asc"?"desc":"asc":(g.value=s,v.value="asc")}function B(s){alert(`Would edit customer with ID: ${s}`)}const E=J(()=>k.customers?k.customers.filter(s=>{var T,$,q,L,I,h;const e=((T=s.name)==null?void 0:T.toLowerCase().includes(u.value.toLowerCase()))||(($=s.company_name)==null?void 0:$.toLowerCase().includes(u.value.toLowerCase()))||((q=s.email)==null?void 0:q.toLowerCase().includes(u.value.toLowerCase()))||((L=s.mobile)==null?void 0:L.toLowerCase().includes(u.value.toLowerCase())),l=(I=s.entity_type)==null?void 0:I.toLowerCase(),c=!f.value||l===f.value.toLowerCase(),j=(h=s.frequency_type)==null?void 0:h.toLowerCase(),W=!p.value||j===p.value.toLowerCase();return e&&c&&W}):[]);return console.log("Entity Type Filter:",f.value),console.log("Frequency Type Filter:",p.value),console.log("Filtered Customers:",E.value),(s,e)=>(G(),z(Q,null,{header:a(()=>[t("div",ee,[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Customer Management",-1)),t("div",le,[o(y,{onClick:s.createCustomer},{default:a(()=>e[13]||(e[13]=[r("Add New Customer")])),_:1},8,["onClick"]),o(b,{onClick:s.viewArchived},{default:a(()=>e[14]||(e[14]=[r("View Archived")])),_:1},8,["onClick"])])])]),default:a(()=>[t("div",te,[t("div",oe,[t("div",ae,[t("div",se,[t("div",ne,[o(Y,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),placeholder:"Search customers..."},null,8,["modelValue"]),t("div",re,[o(M,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=l=>f.value=l),options:N,placeholder:"Filter by type"},null,8,["modelValue"]),o(M,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),options:O,placeholder:"Filter by frequency"},null,8,["modelValue"])])]),o(Z,{columns:U,data:R.value,"sort-field":g.value,"sort-direction":v.value,onSort:P},{name:a(({row:l})=>[r(x(l.name||l.company_name||"N/A"),1)]),company_name:a(({row:l})=>[r(x(l.company_name||"N/A"),1)]),actions:a(({row:l})=>[t("div",ie,[o(b,{onClick:c=>S(l.transactionId),class:"bg-green"},{default:a(()=>e[16]||(e[16]=[r("Confirm Payment")])),_:2},1032,["onClick"]),o(y,{onClick:c=>B(l.id)},{default:a(()=>e[17]||(e[17]=[r("View")])),_:2},1032,["onClick"]),o(X,{onClick:c=>D(l.transactionId)},{default:a(()=>e[18]||(e[18]=[r(" !Report Issue ")])),_:2},1032,["onClick"])])]),_:1},8,["data","sort-field","sort-direction"]),o(A,{show:m.value,onClose:e[9]||(e[9]=l=>m.value=!1),maxWidth:"lg"},{default:a(()=>[t("div",ue,[e[25]||(e[25]=t("h3",{class:"text-lg font-bold mb-4"},"Report an Issue",-1)),e[26]||(e[26]=t("p",{class:"text-gray-600 mb-6"},"Check all that apply",-1)),t("div",de,[t("div",me,[o(w,{value:"Option 1",modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=l=>i.value=l),class:"shadow-black/50"},null,8,["modelValue"]),o(_,null,{default:a(()=>e[19]||(e[19]=[r("Unavailable")])),_:1})]),t("div",fe,[o(w,{value:"Option 2",modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=l=>i.value=l),class:"shadow-black/50"},null,8,["modelValue"]),o(_,null,{default:a(()=>e[20]||(e[20]=[r("Missing Payment Proof")])),_:1})]),t("div",pe,[o(w,{value:"Option 3",modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=l=>i.value=l),class:"shadow-black/50"},null,8,["modelValue"]),o(_,null,{default:a(()=>e[21]||(e[21]=[r("Wrong Transaction Information")])),_:1})]),t("div",ve,[e[22]||(e[22]=t("h3",{class:"text-lg font-medium"},"Additional Notes",-1)),H(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>V.value=l),placeholder:"Describe the issue in detail...",class:"w-full h-32 p-3 bg-gray-100 rounded-md border border-black resize-y focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,V.value]])])]),t("div",ce,[o(b,{onClick:e[7]||(e[7]=l=>m.value=!1)},{default:a(()=>e[23]||(e[23]=[r("Cancel")])),_:1}),o(y,{onClick:e[8]||(e[8]=l=>m.value=!1)},{default:a(()=>e[24]||(e[24]=[r("Report")])),_:1})])])]),_:1},8,["show"]),o(A,{show:d.value,onClose:e[12]||(e[12]=l=>d.value=!1),maxWidth:"lg"},{default:a(()=>[t("div",ye,[e[29]||(e[29]=t("h3",{class:"text-lg font-medium mb-4"},"Confirm Payments",-1)),t("p",be," Confirming payment for Transaction ID: "+x(C.value),1),t("div",Ce,[o(b,{onClick:e[10]||(e[10]=l=>d.value=!1)},{default:a(()=>e[27]||(e[27]=[r("Cancel")])),_:1}),o(y,{onClick:e[11]||(e[11]=l=>d.value=!1)},{default:a(()=>e[28]||(e[28]=[r("Confirm")])),_:1})])])]),_:1},8,["show"])])])])])]),_:1}))}};export{Fe as default};
