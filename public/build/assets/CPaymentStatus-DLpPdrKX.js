import{g as n,i as z,d as G,o as J,w as s,b as t,a,f as i,t as g,l as H,v as K}from"./app-B0R_bMJi.js";import{E as Q}from"./EmployeeLayout-BQLa5PLV.js";import{_ as C}from"./PrimaryButton-z6gddSkS.js";import{_ as x}from"./SecondaryButton-BDpVYXxA.js";import{D as X}from"./DangerButton-DlTel5kP.js";import{_ as Y}from"./SearchInput-BHbkz-wy.js";import{S as q}from"./SelectInput-f4kpY-DU.js";import{_ as Z}from"./DataTable-C_2NMP2T.js";import{M as I}from"./Modal-Oa0ozw3w.js";import{_ as w}from"./InputLabel-BebyH7Kw.js";import{_}from"./Checkbox-DVGT8c-8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BchASNUp.js";/* empty css                                                                    */const ee={class:"py-6"},le={class:"mx-auto sm:px-6 lg:px-8"},te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ae={class:"p-6 bg-white border-b border-gray-200"},se={class:"mb-6 flex justify-between items-center"},oe={class:"flex space-x-2"},ne={class:"flex flex-wrap gap-2"},ie={class:"p-6"},re={class:"space-y-2 mb-4"},de={class:"flex items-center space-x-2"},ue={class:"flex items-center space-x-2"},me={class:"flex items-center space-x-2"},pe={class:"space-y-2"},fe={class:"flex justify-between"},ve={class:"p-6"},ce={class:"text-gray-600 dark:text-gray-400 mb-6"},ye={class:"flex justify-between"},qe={__name:"CPaymentStatus",props:{customers:{type:Array,required:!0},status:String,success:String,error:String},setup(P){const u=n(!1),m=n(!1),y=n(null),r=n([]),V=n(""),F=o=>{y.value=o,u.value=!0},A=o=>{y.value=o,m.value=!0},k=P,d=n(""),p=n(""),f=n(""),D=[{value:"",label:"All Types"},{value:"individual",label:"Individual"},{value:"company",label:"Company"}],N=[{value:"",label:"All Frequencies"},{value:"regular",label:"Regular"},{value:"occasional",label:"Occasional"}],U=n([{id:1,name:"Blase Mariano",company_name:"",mobile:"09197319858",address:"123 Main St, Naga City",outstanding_balance:"₱1,500.00",payment_type:"Cash",created_at:"2025-05-26"},{id:1,name:"Jose Pasqual",company_name:"",mobile:"09197368832",address:"456 Mang St, Legazpi City",outstanding_balance:"₱800.00",payment_type:"Gcash",created_at:"2025-05-26"}]),b=n("created_at"),v=n("desc");n(!1),n(null),n(!1);const O=[{field:"name",header:"Name",sortable:!0},{field:"company_name",header:"Company",sortable:!0},{field:"mobile",header:"Mobile",sortable:!1},{field:"address",header:"Address",sortable:!1},{field:"outstanding_balance",header:"Outstanding Balance",sortable:!1},{field:"payment_type",header:"Payment Type",sortable:!1},{field:"created_at",header:"Created",sortable:!0},{field:"actions",header:"Actions",sortable:!1}];function B(o){b.value===o?v.value=v.value==="asc"?"desc":"asc":(b.value=o,v.value="asc")}function R(o){alert(`Would view customer with ID: ${o}`)}const j=z(()=>k.customers?k.customers.filter(o=>{var T,$,L,S,h,M;const e=((T=o.name)==null?void 0:T.toLowerCase().includes(d.value.toLowerCase()))||(($=o.company_name)==null?void 0:$.toLowerCase().includes(d.value.toLowerCase()))||((L=o.email)==null?void 0:L.toLowerCase().includes(d.value.toLowerCase()))||((S=o.mobile)==null?void 0:S.toLowerCase().includes(d.value.toLowerCase())),l=(h=o.entity_type)==null?void 0:h.toLowerCase(),c=!p.value||l===p.value.toLowerCase(),E=(M=o.frequency_type)==null?void 0:M.toLowerCase(),W=!f.value||E===f.value.toLowerCase();return e&&c&&W}):[]);return console.log("Entity Type Filter:",p.value),console.log("Frequency Type Filter:",f.value),console.log("Filtered Customers:",j.value),(o,e)=>(J(),G(Q,null,{header:s(()=>e[13]||(e[13]=[t("div",{class:"flex justify-between items-center"},[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Collector Pending Payment")],-1)])),default:s(()=>[t("div",ee,[t("div",le,[t("div",te,[t("div",ae,[t("div",se,[a(Y,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),placeholder:"Search customers..."},null,8,["modelValue"]),t("div",oe,[a(q,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),options:D,placeholder:"Filter by type"},null,8,["modelValue"]),a(q,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=l=>f.value=l),options:N,placeholder:"Filter by frequency"},null,8,["modelValue"])])]),a(Z,{columns:O,data:U.value,"sort-field":b.value,"sort-direction":v.value,onSort:B},{name:s(({row:l})=>[i(g(l.name||l.company_name||"N/A"),1)]),company_name:s(({row:l})=>[i(g(l.company_name||"N/A"),1)]),actions:s(({row:l})=>[t("div",ne,[a(x,{onClick:c=>F(l.transactionId),class:"bg-green"},{default:s(()=>e[14]||(e[14]=[i("Confirm Payment")])),_:2},1032,["onClick"]),a(C,{onClick:c=>R(l.id)},{default:s(()=>e[15]||(e[15]=[i("View")])),_:2},1032,["onClick"]),a(X,{onClick:c=>A(l.transactionId)},{default:s(()=>e[16]||(e[16]=[i(" !Report Issue ")])),_:2},1032,["onClick"])])]),_:1},8,["data","sort-field","sort-direction"]),a(I,{show:m.value,onClose:e[9]||(e[9]=l=>m.value=!1),maxWidth:"lg"},{default:s(()=>[t("div",ie,[e[23]||(e[23]=t("h3",{class:"text-lg font-bold mb-4"},"Report an Issue",-1)),e[24]||(e[24]=t("p",{class:"text-gray-600 mb-6"},"Check all that apply",-1)),t("div",re,[t("div",de,[a(_,{value:"Option 1",modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),class:"shadow-black/50"},null,8,["modelValue"]),a(w,null,{default:s(()=>e[17]||(e[17]=[i("Unavailable")])),_:1})]),t("div",ue,[a(_,{value:"Option 2",modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=l=>r.value=l),class:"shadow-black/50"},null,8,["modelValue"]),a(w,null,{default:s(()=>e[18]||(e[18]=[i("Missing Payment Proof")])),_:1})]),t("div",me,[a(_,{value:"Option 3",modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=l=>r.value=l),class:"shadow-black/50"},null,8,["modelValue"]),a(w,null,{default:s(()=>e[19]||(e[19]=[i("Wrong Transaction Information")])),_:1})]),t("div",pe,[e[20]||(e[20]=t("h3",{class:"text-lg font-medium"},"Additional Notes",-1)),H(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>V.value=l),placeholder:"Describe the issue in detail...",class:"w-full h-32 p-3 bg-gray-100 rounded-md border border-black resize-y focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,V.value]])])]),t("div",fe,[a(x,{onClick:e[7]||(e[7]=l=>m.value=!1)},{default:s(()=>e[21]||(e[21]=[i("Cancel")])),_:1}),a(C,{onClick:e[8]||(e[8]=l=>m.value=!1)},{default:s(()=>e[22]||(e[22]=[i("Report")])),_:1})])])]),_:1},8,["show"]),a(I,{show:u.value,onClose:e[12]||(e[12]=l=>u.value=!1),maxWidth:"lg"},{default:s(()=>[t("div",ve,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium mb-4"},"Confirm Payments",-1)),t("p",ce," Confirming payment for Transaction ID: "+g(y.value),1),t("div",ye,[a(x,{onClick:e[10]||(e[10]=l=>u.value=!1)},{default:s(()=>e[25]||(e[25]=[i("Cancel")])),_:1}),a(C,{onClick:e[11]||(e[11]=l=>u.value=!1)},{default:s(()=>e[26]||(e[26]=[i("Confirm")])),_:1})])])]),_:1},8,["show"])])])])])]),_:1}))}};export{qe as default};
