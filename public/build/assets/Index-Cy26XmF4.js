import{c as p,o as u,b as t,g as d,C as $e,i as ie,h as Y,j as pe,W as B,d as C,w as l,a as n,e as F,F as xe,r as ye,u as c,t as r,n as _e,f as m,k as Ve}from"./app-BllHWhcy.js";import{E as je}from"./EmployeeLayout-CgMY_n5V.js";import{M as P}from"./Modal-DAAK_Wm5.js";import{_ as k}from"./PrimaryButton-eC2eu5yQ.js";import{_ as b}from"./SecondaryButton-f4DzqSLc.js";import{_ as Ue}from"./StatusBadge-R9GU_yEO.js";import{D as le}from"./DangerButton-B7_oj2jq.js";import{S as O}from"./SelectInput-BACJkmZB.js";/* empty css                                                                  */import{_ as Le}from"./SearchInput-BSEud9IK.js";import{r as Ee}from"./TruckIcon-CrR13VJY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";/* empty css                                                                    */function Ie(v,x){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function Be(v,x){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Fe(v,x){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Pe(v,x){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function Oe(v,x){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}const qe={class:"flex flex-wrap justify-between items-center gap-4 px-4 md:px-6 max-w-screen-xl mx-auto w-full"},ze={class:"flex flex-wrap items-center gap-2"},Ge={class:"py-6 px-2 md:px-6"},Ze={class:"bg-white shadow-sm rounded-lg overflow-hidden border border-gray-200 max-w-screen-xl mx-auto"},Ke={class:"px-4 py-5 sm:px-6 border-b border-gray-200 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},We={class:"flex flex-wrap items-center gap-2 md:ml-auto"},Ye={class:"overflow-x-auto px-2 md:px-4"},He={class:"min-w-full divide-y divide-gray-200"},Je={class:"bg-white divide-y divide-gray-200"},Qe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Xe={class:"flex items-center"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"flex items-center"},st={class:"text-xs text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm"},it={class:"text-gray-400"},lt={class:"px-6 py-4 whitespace-nowrap text-sm"},rt={class:"px-6 py-4 whitespace-nowrap text-sm"},ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},dt={class:"flex justify-end space-x-2"},ut={key:0},ct={class:"bg-white px-4 py-3 flex items-center justify-center border-t border-gray-200 sm:px-6"},vt={class:"flex items-center space-x-2"},mt=["disabled"],gt=["disabled"],ft={class:"p-6"},pt={class:"space-y-4"},xt={class:"mt-6 flex justify-end space-x-4"},yt={key:0,class:"p-6"},_t={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},kt={class:"bg-gray-50 rounded-lg p-4 shadow-sm border"},bt={class:"space-y-2"},wt={class:"flex justify-between"},ht={class:"font-medium text-gray-900"},At={class:"flex justify-between"},Ct={class:"font-medium text-gray-900"},St={class:"flex justify-between"},Tt={class:"font-medium text-gray-900"},Nt={class:"flex justify-between"},Dt={class:"font-medium text-gray-900"},Rt={class:"bg-gray-50 rounded-lg p-4 shadow-sm border"},Mt={class:"space-y-2"},$t={class:"flex justify-between"},Vt={class:"font-medium text-gray-900"},jt={class:"flex justify-between"},Ut={class:"font-medium text-gray-900"},Lt={class:"flex justify-between"},Et={class:"font-medium text-gray-900"},It={class:"flex justify-between"},Bt={class:"font-medium text-gray-900"},Ft={key:0,class:"mt-8"},Pt={class:"space-y-3"},Ot={class:"font-medium text-gray-800"},qt={class:"text-sm text-gray-500"},zt={class:"mt-8 flex justify-end space-x-2"},Gt={class:"p-6"},Zt={class:"flex justify-end space-x-2"},Kt={class:"p-6"},Wt={class:"flex justify-end space-x-2"},Yt={class:"p-6"},Ht={class:"flex justify-end space-x-2"},cs={__name:"Index",props:{assignments:Object,regions:Array,metrics:Object,filters:Object},setup(v){const x=v,q=d(!1),H=d(!1),J=d(!1),z=d(!1),Q=d(!1),o=d(null),G=d(null),Z=d(null),K=d(null),re=d(!1),X=d(!1),ee=d(!1),te=d(!1),ke=d(!1),w=d([]),h=d([]),W=d(!1),y=d({region_id:x.filters.region_id||"",status:x.filters.status||"active",search:x.filters.search||""}),i=$e({driver_id:null,truck_id:null,region_id:null}),oe=ie(()=>[{value:"",label:"All Regions"},...x.regions.map(a=>({value:a.id,label:a.name}))]),be=ie(()=>{var e;const a=[{value:"",label:"Select Driver"}];return(e=w.value)!=null&&e.length&&a.push(...w.value.map(s=>{var g;return{value:s.id,label:`${s.name} (${((g=s.employeeProfile)==null?void 0:g.employee_id)||"No ID"})`}})),a}),we=ie(()=>{var e;const a=[{value:"",label:"Select Truck"}];return(e=h.value)!=null&&e.length&&a.push(...h.value.map(s=>({value:s.id,label:`${s.license_plate} - ${s.make} ${s.model}`}))),a}),_={STATUS_AVAILABLE:"available",STATUS_NEARLY_FULL:"nearly_full",STATUS_ASSIGNED:"assigned",STATUS_IN_TRANSIT:"in_transit",STATUS_RETURNING:"returning",STATUS_MAINTENANCE:"maintenance",STATUS_UNAVAILABLE:"unavailable"};function de(a){return{[_.STATUS_AVAILABLE]:"Available",[_.STATUS_NEARLY_FULL]:"Nearly Full",[_.STATUS_ASSIGNED]:"Assigned",[_.STATUS_IN_TRANSIT]:"In Transit",[_.STATUS_RETURNING]:"Returning",[_.STATUS_MAINTENANCE]:"Maintenance",[_.STATUS_UNAVAILABLE]:"Unavailable"}[a]||"Unknown"}function ue(a){return a?new Date(a).toLocaleString():"N/A"}function he(a){o.value=a,q.value=!0}const ce=a=>{G.value=a,J.value=!0},Ae=async()=>{if(!G.value){S();return}W.value=!0;try{await B.delete(route("driver-truck-assignments.destroy",{assignment:G.value.id}),{preserveScroll:!0,onFinish:()=>{S()},onError:()=>{alert("Failed to deactivate assignment. Please try again.")}})}catch(a){console.error("Deactivation failed:",a),alert("Failed to deactivate assignment. Please try again."),S()}finally{W.value=!1}},Ce=a=>{Z.value=a,z.value=!0},Se=async()=>{B.put(route("driver-truck-assignments.reactivate",{assignment:Z.value.id}),{},{onSuccess:()=>{ae()},onError:()=>{alert("Failed to reactivate assignment.")}})};function Te(a){K.value=a,Q.value=!0}function se(){Q.value=!1,K.value=null}function ae(){z.value=!1,Z.value=null}function S(){J.value=!1,G.value=null}Y(()=>i.region_id,(a,e)=>{a&&a!==e&&(i.driver_id=null,i.truck_id=null,ve())});async function ve(){if(!i.region_id){w.value=[],h.value=[],i.driver_id=null,i.truck_id=null;return}try{X.value=!0,ee.value=!0;const a=await pe.post(route("driver-truck-assignments.available-resources"),{region_id:i.region_id});w.value=a.data.drivers,h.value=a.data.trucks,i.driver_id&&!w.value.some(e=>e.id===i.driver_id)&&(i.driver_id=null),i.truck_id&&!h.value.some(e=>e.id===i.truck_id)&&(i.truck_id=null)}catch(a){console.error("API Error:",a)}finally{X.value=!1,ee.value=!1}}function Ne(){i.post(route("driver-truck-assignments.store"),{onSuccess:()=>{ne()},preserveScroll:!0})}function me(a){B.get(route("driver-monitoring.index",{page:a,...y.value}),{preserveState:!0,preserveScroll:!0,onStart:()=>re.value=!0,onFinish:()=>re.value=!1})}Y(y,T,{deep:!0});function T(){B.get(route("driver-truck-assignments.index"),y.value,{preserveState:!0,replace:!0})}function De(){y.value={region_id:"",status:"active",search:""},T()}function ne(){H.value=!1,i.reset(),w.value=[],h.value=[]}Y(o,a=>{var e;console.log("Selected Assignment:",a),console.log("Employee Profile:",(e=a==null?void 0:a.driver)==null?void 0:e.employeeProfile)},{deep:!0}),Y(()=>x.assignments,a=>{var e,s;if(a.data.length>0){const g=a.data[0];console.log("First assignment:",{id:g.id,driver:(e=g.driver)==null?void 0:e.name,logs:(s=g.driver)==null?void 0:s.regionLogs,return_status:g.return_status})}},{immediate:!0,deep:!0});const Re=async()=>{if(K.value){te.value=!0;try{await pe.post(route("driver-truck-assignments.verify-return",K.value.id)),B.reload({only:["assignments"]}),se()}catch(a){console.error("Error verifying return:",a),alert("Failed to verify return. Please try again.")}finally{te.value=!1}}};function Me(a){Z.value=a,z.value=!0}return(a,e)=>(u(),C(je,null,{header:l(()=>[t("div",qe,[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Driver-Truck Assignments & Monitoring ",-1)),t("div",ze,[n(Le,{modelValue:y.value.search,"onUpdate:modelValue":e[0]||(e[0]=s=>y.value.search=s),placeholder:"Search by Driver, Truck, or Region",onKeyup:Ve(T,["enter"]),onInput:T,class:"w-64"},null,8,["modelValue"]),n(b,{onClick:De},{default:l(()=>e[13]||(e[13]=[m(" Reset ")])),_:1}),n(k,{onClick:e[1]||(e[1]=s=>H.value=!0)},{default:l(()=>[n(c(Fe),{class:"w-4 h-4 mr-1"}),e[14]||(e[14]=m(" New Assignment "))]),_:1})])])]),default:l(()=>[t("div",Ge,[t("div",Ze,[t("div",Ke,[e[16]||(e[16]=t("div",null,[t("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Driver-Truck Assignments & Monitoring "),t("p",{class:"mt-1 text-sm text-gray-500"}," Monitor and manage driver-truck assignments across regions. ")],-1)),t("div",We,[n(O,{modelValue:y.value.region_id,"onUpdate:modelValue":e[2]||(e[2]=s=>y.value.region_id=s),options:oe.value,placeholder:"Filter by Region",class:"w-44",onChange:T},null,8,["modelValue","options"]),n(O,{modelValue:y.value.status,"onUpdate:modelValue":e[3]||(e[3]=s=>y.value.status=s),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"all",label:"All"}],class:"w-32",placeholder:"Status"},null,8,["modelValue"])])]),t("div",Ye,[t("table",He,[e[19]||(e[19]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Driver"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Truck"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Region"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Assigned At"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Return Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",Je,[(u(!0),p(xe,null,ye(v.assignments.data,s=>{var g,N,D,R,M,$,V,j,U,L,E,f,I;return u(),p("tr",{key:s.id},[t("td",Qe,[t("div",Xe,[n(c(Oe),{class:"h-5 w-5 text-gray-400 mr-2"}),t("span",null,r(((g=s.driver)==null?void 0:g.name)||"N/A"),1)])]),t("td",et,[t("div",tt,[n(c(Ee),{class:"h-5 w-5 text-gray-400 mr-2"}),t("div",null,[t("div",null,r(((N=s.truck)==null?void 0:N.license_plate)||"N/A"),1),t("div",st,r(s.truck?`${s.truck.make} ${s.truck.model}`:""),1)])])]),t("td",at,r(((D=s.region)==null?void 0:D.name)||"N/A"),1),t("td",nt,[t("span",it,r(ue(s.assigned_at)),1)]),t("td",lt,[t("span",{class:_e(["px-2 py-1 rounded-full text-xs font-semibold",s.return_status==="Returned & Verified"?"bg-blue-100 text-blue-800":s.return_status==="Pending Verification"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-500"])},r(s.return_status??"Not Returned"),3)]),t("td",rt,[t("span",{class:_e(["px-2 py-1 rounded-full text-xs font-semibold",((R=s.truck)==null?void 0:R.status)==="available"?"bg-green-100 text-green-700":((M=s.truck)==null?void 0:M.status)==="returning"?"bg-purple-100 text-purple-700":(($=s.truck)==null?void 0:$.status)==="assigned"?"bg-blue-100 text-blue-700":((V=s.truck)==null?void 0:V.status)==="in_transit"?"bg-indigo-100 text-indigo-700":((j=s.truck)==null?void 0:j.status)==="nearly_full"?"bg-yellow-100 text-yellow-700":((U=s.truck)==null?void 0:U.status)==="maintenance"?"bg-red-100 text-red-700":(((L=s.truck)==null?void 0:L.status)==="unavailable","bg-gray-100 text-gray-500")])},r(de((E=s.truck)==null?void 0:E.status)),3)]),t("td",ot,[t("div",dt,[n(b,{onClick:A=>he(s),size:"xs",title:"View Details"},{default:l(()=>[n(c(Be),{class:"w-3 h-3"})]),_:2},1032,["onClick"]),s.is_active&&((f=s.truck)==null?void 0:f.status)!=="returning"?(u(),C(le,{key:0,onClick:A=>ce(s),size:"xs",title:"Deactivate"},{default:l(()=>[n(c(Pe),{class:"w-3 h-3"})]),_:2},1032,["onClick"])):F("",!0),((I=s.truck)==null?void 0:I.status)==="returning"&&s.is_active?(u(),C(k,{key:1,onClick:A=>Te(s),size:"xs",title:"Verify Return"},{default:l(()=>e[17]||(e[17]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])),_:2},1032,["onClick"])):s.is_active?F("",!0):(u(),C(k,{key:2,onClick:A=>Me(s),size:"xs",title:"Reactivate"},{default:l(()=>[n(c(Ie),{class:"w-3 h-3"})]),_:2},1032,["onClick"]))])])])}),128)),!v.assignments.data||v.assignments.data.length===0?(u(),p("tr",ut,e[18]||(e[18]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"}," No assignments found ",-1)]))):F("",!0)])])]),t("div",ct,[t("div",vt,[t("button",{onClick:e[4]||(e[4]=s=>me(v.assignments.current_page-1)),disabled:v.assignments.current_page<=1,class:"px-3 py-1 rounded border text-sm"},"Previous",8,mt),t("span",null,"Page "+r(v.assignments.current_page)+" of "+r(v.assignments.last_page),1),t("button",{onClick:e[5]||(e[5]=s=>me(v.assignments.current_page+1)),disabled:v.assignments.current_page>=v.assignments.last_page,class:"px-3 py-1 rounded border text-sm"},"Next",8,gt)])])])]),n(P,{show:H.value,onClose:ne},{default:l(()=>[t("div",ft,[e[22]||(e[22]=t("h2",{class:"text-lg font-medium mb-4"},"Create New Assignment",-1)),t("div",pt,[n(O,{label:"Region",modelValue:c(i).region_id,"onUpdate:modelValue":e[6]||(e[6]=s=>c(i).region_id=s),options:oe.value.filter(s=>s.value),required:"",onChange:ve},null,8,["modelValue","options"]),n(O,{label:"Driver",modelValue:c(i).driver_id,"onUpdate:modelValue":e[7]||(e[7]=s=>c(i).driver_id=s),options:be.value,required:"",disabled:!c(i).region_id,loading:X.value},null,8,["modelValue","options","disabled","loading"]),n(O,{label:"Truck",modelValue:c(i).truck_id,"onUpdate:modelValue":e[8]||(e[8]=s=>c(i).truck_id=s),options:we.value,required:"",disabled:!c(i).region_id,loading:ee.value},null,8,["modelValue","options","disabled","loading"])]),t("div",xt,[n(b,{onClick:ne},{default:l(()=>e[20]||(e[20]=[m(" Cancel ")])),_:1}),n(k,{onClick:Ne,disabled:c(i).processing||!c(i).region_id,loading:c(i).processing},{default:l(()=>e[21]||(e[21]=[m(" Create Assignment ")])),_:1},8,["disabled","loading"])])])]),_:1},8,["show"]),n(P,{show:q.value,onClose:e[12]||(e[12]=s=>q.value=!1),"max-width":"2xl"},{default:l(()=>{var s,g,N,D,R,M,$,V,j,U,L,E;return[o.value?(u(),p("div",yt,[e[37]||(e[37]=t("h2",{class:"text-xl font-semibold mb-6 text-gray-800"},"Assignment Details",-1)),t("div",_t,[t("div",kt,[e[27]||(e[27]=t("h3",{class:"font-semibold text-gray-700 mb-3 border-b pb-2"},"Driver Information",-1)),t("div",bt,[t("div",wt,[e[23]||(e[23]=t("span",{class:"text-gray-500"},"Name",-1)),t("span",ht,r(((s=o.value.driver)==null?void 0:s.name)||"N/A"),1)]),t("div",At,[e[24]||(e[24]=t("span",{class:"text-gray-500"},"Employee ID",-1)),t("span",Ct,r(((N=(g=o.value.driver)==null?void 0:g.employee_profile)==null?void 0:N.employee_id)||"N/A"),1)]),t("div",St,[e[25]||(e[25]=t("span",{class:"text-gray-500"},"Region",-1)),t("span",Tt,r(((D=o.value.region)==null?void 0:D.name)||"N/A"),1)]),t("div",Nt,[e[26]||(e[26]=t("span",{class:"text-gray-500"},"Assigned At",-1)),t("span",Dt,r(ue(o.value.assigned_at)),1)])])]),t("div",Rt,[e[32]||(e[32]=t("h3",{class:"font-semibold text-gray-700 mb-3 border-b pb-2"},"Truck Information",-1)),t("div",Mt,[t("div",$t,[e[28]||(e[28]=t("span",{class:"text-gray-500"},"License Plate",-1)),t("span",Vt,r(((R=o.value.truck)==null?void 0:R.license_plate)||"N/A"),1)]),t("div",jt,[e[29]||(e[29]=t("span",{class:"text-gray-500"},"Make/Model",-1)),t("span",Ut,r(`${((M=o.value.truck)==null?void 0:M.make)||""} ${(($=o.value.truck)==null?void 0:$.model)||""}`.trim()||"N/A"),1)]),t("div",Lt,[e[30]||(e[30]=t("span",{class:"text-gray-500"},"Status",-1)),t("span",Et,r(de((V=o.value.truck)==null?void 0:V.status)),1)]),t("div",It,[e[31]||(e[31]=t("span",{class:"text-gray-500"},"Current Load",-1)),t("span",Bt,r(`${((j=o.value.truck)==null?void 0:j.current_volume)??0}m³ ${((U=o.value.truck)==null?void 0:U.current_weight)??0}kg`),1)])])])]),(E=(L=o.value.driver)==null?void 0:L.delivery_orders)!=null&&E.length?(u(),p("div",Ft,[e[33]||(e[33]=t("h3",{class:"font-semibold mb-3 text-gray-700"},"Active Deliveries",-1)),t("div",Pt,[(u(!0),p(xe,null,ye(o.value.driver.delivery_orders,f=>{var I,A,ge,fe;return u(),p("div",{key:f.id,class:"p-3 border rounded bg-white flex flex-col md:flex-row md:items-center md:justify-between"},[t("div",null,[t("span",Ot,"Order #"+r(f.id),1),t("div",qt,r((A=(I=f.delivery_request)==null?void 0:I.pick_up_region)==null?void 0:A.name)+" → "+r((fe=(ge=f.delivery_request)==null?void 0:ge.drop_off_region)==null?void 0:fe.name),1)]),n(Ue,{status:f.status,class:"mt-2 md:mt-0"},{default:l(()=>[m(r(f.status),1)]),_:2},1032,["status"])])}),128))])])):F("",!0),t("div",zt,[n(b,{onClick:e[9]||(e[9]=f=>q.value=!1)},{default:l(()=>e[34]||(e[34]=[m(" Close ")])),_:1}),o.value.is_active?(u(),C(le,{key:0,onClick:e[10]||(e[10]=f=>ce(o.value))},{default:l(()=>e[35]||(e[35]=[m(" Deactivate ")])),_:1})):(u(),C(k,{key:1,onClick:e[11]||(e[11]=f=>Ce(o.value))},{default:l(()=>e[36]||(e[36]=[m(" Reactivate ")])),_:1}))])])):F("",!0)]}),_:1},8,["show"]),n(P,{show:Q.value,onClose:se},{default:l(()=>[t("div",Gt,[e[40]||(e[40]=t("h2",{class:"text-lg font-semibold mb-4"},"Verify Driver Return",-1)),e[41]||(e[41]=t("p",{class:"mb-6"}," Are you sure you want to verify the return for this assignment? ",-1)),t("div",Zt,[n(b,{onClick:se},{default:l(()=>e[38]||(e[38]=[m("Cancel")])),_:1}),n(k,{loading:te.value,onClick:Re},{default:l(()=>e[39]||(e[39]=[m(" Verify Return ")])),_:1},8,["loading"])])])]),_:1},8,["show"]),n(P,{show:z.value,onClose:ae},{default:l(()=>[t("div",Kt,[e[44]||(e[44]=t("h2",{class:"text-lg font-semibold mb-4"},"Reactivate Assignment",-1)),e[45]||(e[45]=t("p",{class:"mb-6"}," Are you sure you want to reactivate this driver-truck assignment? ",-1)),t("div",Wt,[n(b,{onClick:ae},{default:l(()=>e[42]||(e[42]=[m("Cancel")])),_:1}),n(k,{loading:ke.value,onClick:Se},{default:l(()=>e[43]||(e[43]=[m(" Reactivate ")])),_:1},8,["loading"])])])]),_:1},8,["show"]),n(P,{show:J.value,onClose:S},{default:l(()=>[t("div",Yt,[e[48]||(e[48]=t("h2",{class:"text-lg font-semibold mb-4"},"Confirm Deactivation",-1)),e[49]||(e[49]=t("p",{class:"mb-6"}," Are you sure you want to deactivate this assignment? ",-1)),t("div",Ht,[n(b,{onClick:S},{default:l(()=>e[46]||(e[46]=[m(" Cancel ")])),_:1}),n(le,{onClick:Ae,loading:W.value,disabled:W.value},{default:l(()=>e[47]||(e[47]=[m(" Deactivate ")])),_:1},8,["loading","disabled"])])])]),_:1},8,["show"])]),_:1}))}};export{cs as default};
