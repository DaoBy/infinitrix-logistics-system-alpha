import{E as ke}from"./EmployeeLayout-HD3iRf9t.js";import{_ as we}from"./PrimaryButton-CQvisOOW.js";import{_ as S}from"./SecondaryButton-B4_LijSy.js";import{D as oe}from"./DangerButton-B9GvHwCg.js";import{_ as Ce}from"./InputLabel-BxIgZQZ8.js";import{_ as je}from"./TextArea-DrfKMXJu.js";import{M as R}from"./Modal-CsHRj0Ox.js";import{_ as Ne}from"./DataTable-3JX1dhV3.js";import{g,i as Ae,M as Se,d as D,o as a,w as i,b as e,a as y,c as n,e as u,t as o,n as V,u as Re,W as _,f as v,F as k,r as N}from"./app-Xu1-QTPS.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Dma88ZBl.js";const Pe={class:"flex justify-between items-center w-full px-6 md:px-8"},Me={class:"flex gap-2"},$e={class:"flex-1 overflow-auto"},Be={class:"zoom-content"},Fe={class:"px-6 py-4"},Ie={key:0,class:"mb-4"},qe={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},Ve={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},Ue={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},Le={class:"justify-center flex items-center"},Te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-full max-w-[75vw]"},ze={class:"p-4 bg-white border-b border-gray-200"},Ee={class:"bg-white shadow-sm rounded-lg border border-gray-200 mb-6"},We={class:"p-6"},He={class:"flex flex-col"},Ge={class:"flex items-center gap-2"},Oe={class:"font-bold text-green-700 tracking-wide"},Je={class:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500"},Ke={key:0},Qe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},Xe={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Ye={class:"p-4 space-y-4"},Ze={class:"grid grid-cols-1 gap-3"},et={class:"mt-1 text-sm text-gray-900"},tt={class:"mt-1 text-sm text-gray-900"},st={class:"mt-1 text-sm text-gray-900"},rt={class:"mt-1 text-sm text-gray-900"},ot={class:"bg-white shadow-sm rounded-lg border border-gray-200"},lt={class:"p-4 space-y-4"},at={class:"grid grid-cols-1 gap-3"},nt={class:"mt-1 text-sm text-gray-900"},it={class:"mt-1 text-sm text-gray-900"},dt={class:"mt-1 text-sm text-gray-900"},ct={class:"mt-1 text-sm text-gray-900"},ut={class:"bg-white shadow-sm rounded-lg border border-gray-200"},mt={class:"p-4 space-y-4"},gt={class:"grid grid-cols-1 gap-3"},yt={class:"mt-1"},ft={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800"},vt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-700"},xt={class:"mt-1 text-sm text-gray-900"},bt={class:"mt-1 text-sm text-gray-900"},pt={class:"mt-1 text-sm text-gray-900"},ht={class:"mt-1 text-sm text-gray-900"},_t={key:0},kt={class:"mt-1 text-sm text-gray-900"},wt={key:1},Ct={class:"mt-1 text-sm text-gray-900"},jt={key:2},Nt={class:"mt-1 text-sm text-gray-900"},At={key:3},St={class:"mt-1 text-sm text-gray-900"},Rt={key:4},Dt={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Pt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Mt={class:"lg:col-span-2 bg-white shadow-sm rounded-lg border border-gray-200"},$t={class:"p-4"},Bt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ft={class:"mt-1 text-lg font-semibold text-gray-900"},It={class:"mt-1 text-sm text-gray-900 capitalize"},qt={class:"mt-1"},Vt={class:"mt-1"},Ut={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800"},Lt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-700"},Tt={key:0,class:"md:col-span-2"},zt={class:"mt-1 text-sm text-gray-900"},Et={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Wt={class:"p-4 border-b border-gray-200"},Ht={class:"text-lg font-medium text-gray-900"},Gt={class:"p-4"},Ot={class:"font-mono text-xs text-gray-600"},Jt={class:"flex flex-col gap-1 max-w-[80px]"},Kt={class:"flex gap-1"},Qt=["src","alt","onClick"],Xt={key:0,class:"flex gap-1"},Yt=["src","alt","onClick"],Zt={key:1,class:"flex gap-1"},es=["src","alt","onClick"],ts=["src","onClick"],ss={key:2,class:"text-gray-400 text-xs"},rs={key:1,class:"text-center py-8 text-gray-500"},os={class:"p-6"},ls={class:"mt-4 space-y-4"},as={class:"flex justify-between"},ns={class:"font-medium"},is={class:"text-sm text-gray-500"},ds={class:"text-sm text-gray-600 mt-1"},cs={class:"text-xs text-gray-500 mt-1"},us={class:"mt-6 flex justify-end"},ms={class:"p-6"},gs={class:"mt-4"},ys={class:"mt-6 flex justify-end space-x-4"},fs={key:0},vs={key:1},xs={class:"p-4"},bs={class:"flex justify-center items-center bg-gray-50 rounded-lg p-3"},ps=["src"],hs={class:"p-4"},_s={class:"flex justify-between items-center mb-4"},ks={class:"text-lg font-medium text-gray-900"},ws={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Cs=["onClick"],js={class:"bg-gray-50 rounded-lg p-3 flex justify-center items-center h-40"},Ns=["src","alt"],As={class:"text-center text-xs text-gray-600 mt-1"},Ss={__name:"Show",props:{delivery:{type:Object,required:!0,default:()=>({id:null,order_number:null,status:null,created_at:null,approved_at:null,approved_by:null,rejected_at:null,rejected_by:null,rejection_reason:null,total_price:0,payment_method:null,payment_status:null,payment_terms:null,payment_due_date:null,pick_up_region:null,drop_off_region:null,sender:null,receiver:null,packages:[]})},packages:{type:Array,default:()=>[]},status:String,success:String,error:String},setup(r){const A=r,P=g(!1),p=g(""),h=g(!1),M=g(!1),$=g(""),U=g(!1),B=g([]),L=g(!1),T=g([]),le=[{field:"item_code",header:"Item Code",sortable:!0},{field:"item_name",header:"Item Name",sortable:!0},{field:"category",header:"Category",sortable:!0},{field:"dimensions",header:"Dimensions",sortable:!1},{field:"volume",header:"Volume",sortable:!0},{field:"weight",header:"Weight",sortable:!0},{field:"value",header:"Value",sortable:!0},{field:"status",header:"Status",sortable:!0},{field:"photo",header:"Photos",sortable:!1,width:"150px"},{field:"status_history",header:"Actions",sortable:!1,width:"120px"}],w=g("item_code"),F=g("asc"),ae=Ae(()=>A.delivery.packages?[...A.delivery.packages].sort((s,t)=>{if(!w.value)return 0;const d=F.value==="asc"?1:-1,x=z(s,w.value),b=z(t,w.value);return x<b?-1*d:x>b?1*d:0}):[]);function z(s,t){return t.split(".").reduce((d,x)=>d==null?void 0:d[x],s)}function E(s){return(Number(s)||0).toFixed(2)}function I(s){return(Number(s)||0).toFixed(0)}function W(s){const t=Number(s)||0;return t===0?"0 m³":t<.001?`${(t*1e6).toFixed(0)} cm³`:t<.1?`${t.toFixed(3)} m³`:t<1?`${t.toFixed(2)} m³`:`${t.toFixed(1)} m³`}function ne(s){const t=Number(s)||0;return t===0?"0 kg":t<.1?`${(t*1e3).toFixed(0)} g`:t<10?`${t.toFixed(1)} kg`:`${t.toFixed(0)} kg`}function ie(s){if(s.height&&s.width&&s.length){const t=parseFloat(s.height)||0,d=parseFloat(s.width)||0,x=parseFloat(s.length)||0,b=t*d*x/1e6;return W(b)}return W(s.volume)}function C(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function de(s){return s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function H(s){return s?[s.building_number,s.street,s.barangay,s.city,s.province,s.zip_code].filter(Boolean).join(", ")||"Address not specified":"N/A"}function ce(s){return s?{piece:"Piece",carton:"Carton",sack:"Sack",bundle:"Bundle",roll:"Roll","B/R":"B/R","C/S":"C/S"}[s]||s.charAt(0).toUpperCase()+s.slice(1):"N/A"}function ue(s){return s?{preparing:"Preparing",ready_for_pickup:"Ready for Pickup",loaded:"Loaded",in_transit:"In Transit",delivered:"Delivered",completed:"Completed",returned:"Returned",rejected:"Rejected",damaged_in_transit:"Damaged in Transit",lost_in_transit:"Lost in Transit"}[s]||s.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):"N/A"}function me(s){return s?{net_7:"Net 7 Days",net_15:"Net 15 Days",net_30:"Net 30 Days",cnd:"Cash on Delivery"}[s]||s.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):"N/A"}function ge(s){if(!s)return"bg-gray-100 text-gray-800";switch(String(s).toLowerCase()){case"piece":return"bg-blue-100 text-blue-800";case"carton":return"bg-green-100 text-green-800";case"sack":return"bg-amber-100 text-amber-800";case"bundle":return"bg-purple-100 text-purple-800";case"roll":return"bg-red-100 text-red-800";case"b/r":return"bg-indigo-100 text-indigo-800";case"c/s":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}}function ye(s){if(!s)return"bg-gray-100 text-gray-800";switch(s){case"delivered":case"completed":return"bg-green-100 text-green-800";case"approved":case"ready_for_pickup":return"bg-blue-100 text-blue-800";case"pending":case"preparing":return"bg-yellow-100 text-yellow-800";case"rejected":case"cancelled":case"damaged_in_transit":case"lost_in_transit":return"bg-red-100 text-red-800";case"in_transit":case"loaded":return"bg-purple-100 text-purple-800";case"returned":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}}function fe(s){if(!s||s==="N/A")return"bg-gray-200 text-gray-700";const t=String(s).toLowerCase().trim();return t==="completed"||t==="complete"||t==="paid"?"bg-green-100 text-green-800":t==="pending"||t==="pending_payment"?"bg-yellow-100 text-yellow-800":t==="unpaid"||t==="uncollectible"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-700"}function ve(s){if(!s||s===""||s==="N/A")return"N/A";const t=String(s).toLowerCase().trim();return t==="paid"?"Paid":t==="complete"?"Complete":t==="completed"?"Completed":t==="pending"?"Pending":t==="pending_payment"?"Pending Payment":t==="unpaid"?"Unpaid":t==="uncollectible"?"Uncollectible":s.charAt(0).toUpperCase()+s.slice(1)}function xe(){P.value=!0}function q(){P.value=!1,p.value=""}function j(s){$.value=s,M.value=!0}function G(){M.value=!1,$.value=""}function O(){U.value=!1,B.value=[]}function J(){L.value=!1,T.value=[]}function be({field:s,direction:t}){w.value=s,F.value=t}async function pe(){if(confirm("Are you sure you want to approve this delivery request?")){h.value=!0;try{await _.post(route("deliveries.approve",A.delivery.id),{},{preserveScroll:!0,onSuccess:()=>{_.reload()}})}catch(s){console.error("Failed to approve request:",s)}finally{h.value=!1}}}function f(s){return s?s.startsWith("http")?s:s.startsWith("package-photos/")?`/storage/${s}`:`/storage/${s}`:""}async function he(){if(p.value.trim()){h.value=!0;try{await _.post(route("deliveries.reject",A.delivery.id),{rejection_reason:p.value},{preserveScroll:!0,onSuccess:()=>{q(),_.reload()}})}catch(s){console.error("Failed to reject request:",s)}finally{h.value=!1}}}Se(),g(document.referrer);function _e(){window.history.length>1?window.history.back():_.visit("/")}return(s,t)=>(a(),D(ke,null,{header:i(()=>[e("div",Pe,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Delivery Request Details"),e("p",{class:"mt-1 text-sm text-gray-500"}," View delivery request information ")],-1)),e("div",Me,[y(S,{onClick:_e},{default:i(()=>t[1]||(t[1]=[v(" Back ")])),_:1}),r.delivery.status==="pending"?(a(),D(oe,{key:0,onClick:xe},{default:i(()=>t[2]||(t[2]=[v(" Reject Request ")])),_:1})):u("",!0),r.delivery.status==="pending"?(a(),D(we,{key:1,onClick:pe},{default:i(()=>t[3]||(t[3]=[v(" Approve Request ")])),_:1})):u("",!0)])])]),default:i(()=>{var d,x,b,K,Q,X,Y,Z,ee,te,se;return[e("div",$e,[e("div",Be,[e("div",Fe,[r.status||r.success||r.error?(a(),n("div",Ie,[r.status?(a(),n("div",qe,o(r.status),1)):u("",!0),r.success?(a(),n("div",Ve,o(r.success),1)):u("",!0),r.error?(a(),n("div",Ue,o(r.error),1)):u("",!0)])):u("",!0),e("div",Le,[e("div",Te,[e("div",ze,[e("div",Ee,[e("div",We,[e("div",He,[e("div",Ge,[t[5]||(t[5]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800"}," Delivery ID: ",-1)),e("span",Oe," DR-"+o(String(r.delivery.id).padStart(6,"0")),1)]),e("div",Je,[e("span",null," Reference # "+o(r.delivery.status==="pending"?"N/A":r.delivery.reference_number||r.delivery.order_number||"DR-"+String(r.delivery.id).padStart(6,"0")),1),r.delivery.created_at?(a(),n("span",Ke," | Created: "+o(C(r.delivery.created_at)),1)):u("",!0)])])])]),e("div",Qe,[e("div",Xe,[t[10]||(t[10]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Sender Information")],-1)),e("div",Ye,[e("div",Ze,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",et,o(((d=r.delivery.sender)==null?void 0:d.name)||((x=r.delivery.sender)==null?void 0:x.company_name)||"N/A"),1)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contact",-1)),e("p",tt,o(((b=r.delivery.sender)==null?void 0:b.phone)||((K=r.delivery.sender)==null?void 0:K.mobile)||"N/A"),1)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",st,o(((Q=r.delivery.sender)==null?void 0:Q.email)||"N/A"),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),e("p",rt,o(H(r.delivery.sender)),1)])])])]),e("div",ot,[t[15]||(t[15]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Receiver Information")],-1)),e("div",lt,[e("div",at,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",nt,o(((X=r.delivery.receiver)==null?void 0:X.name)||((Y=r.delivery.receiver)==null?void 0:Y.company_name)||"N/A"),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contact",-1)),e("p",it,o(((Z=r.delivery.receiver)==null?void 0:Z.phone)||((ee=r.delivery.receiver)==null?void 0:ee.mobile)||"N/A"),1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",dt,o(((te=r.delivery.receiver)==null?void 0:te.email)||"N/A"),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),e("p",ct,o(H(r.delivery.receiver)),1)])])])]),e("div",ut,[t[26]||(t[26]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Information")],-1)),e("div",mt,[e("div",gt,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),e("div",yt,[r.delivery.reference_number?(a(),n("span",ft,o(r.delivery.reference_number),1)):(a(),n("span",vt," N/A "))])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700"},"Order Number",-1)),e("p",xt,o(r.delivery.order_number||"N/A"),1)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700"},"Request Date",-1)),e("p",bt,o(C(r.delivery.created_at)),1)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700"},"Pick Up Region",-1)),e("p",pt,o(r.delivery.pick_up_region||"N/A"),1)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"Drop Off Region",-1)),e("p",ht,o(r.delivery.drop_off_region||"N/A"),1)]),r.delivery.approved_at?(a(),n("div",_t,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Approved Date",-1)),e("p",kt,o(C(r.delivery.approved_at)),1)])):u("",!0),r.delivery.approved_by?(a(),n("div",wt,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Approved By",-1)),e("p",Ct,o(r.delivery.approved_by),1)])):u("",!0),r.delivery.rejected_at?(a(),n("div",jt,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejected Date",-1)),e("p",Nt,o(C(r.delivery.rejected_at)),1)])):u("",!0),r.delivery.rejected_by?(a(),n("div",At,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejected By",-1)),e("p",St,o(r.delivery.rejected_by),1)])):u("",!0),r.delivery.rejection_reason?(a(),n("div",Rt,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejection Reason",-1)),e("p",Dt,o(r.delivery.rejection_reason),1)])):u("",!0)])])])]),e("div",Pt,[e("div",Mt,[t[32]||(t[32]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),e("div",$t,[e("div",Bt,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Total Amount",-1)),e("p",Ft,"₱"+o(E(r.delivery.total_price)),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method",-1)),e("p",It,o(r.delivery.payment_method||"N/A"),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Status",-1)),e("div",qt,[e("span",{class:V(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",fe(r.delivery.payment_status)])},o(ve(r.delivery.payment_status)),3)])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Terms",-1)),e("div",Vt,[r.delivery.payment_terms?(a(),n("span",Ut,o(me(r.delivery.payment_terms)),1)):(a(),n("span",Lt," N/A "))])]),r.delivery.payment_due_date?(a(),n("div",Tt,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Due Date",-1)),e("p",zt,o(C(r.delivery.payment_due_date)),1)])):u("",!0)])])])]),e("div",Et,[e("div",Wt,[e("h3",Ht,"Packages ("+o(((se=r.delivery.packages)==null?void 0:se.length)||0)+")",1)]),e("div",Gt,[r.delivery.packages&&r.delivery.packages.length?(a(),D(Ne,{key:0,columns:le,data:ae.value,"sort-field":w.value,"sort-direction":F.value,onSort:be,class:"compact-table"},{item_code:i(({row:l})=>[e("span",Ot,o(l.item_code||"N/A"),1)]),category:i(({row:l})=>[e("span",{class:V(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",ge(l.category)])},o(ce(l.category)),3)]),dimensions:i(({row:l})=>[v(o(I(l.height))+" × "+o(I(l.width))+" × "+o(I(l.length))+" cm ",1)]),volume:i(({row:l})=>[v(o(ie(l)),1)]),weight:i(({row:l})=>[v(o(ne(l.weight)),1)]),value:i(({row:l})=>[v(" ₱"+o(E(l.value)),1)]),photo:i(({row:l})=>[e("div",Jt,[l.photo_path&&Array.isArray(l.photo_path)&&l.photo_path.length?(a(),n(k,{key:0},[e("div",Kt,[(a(!0),n(k,null,N(l.photo_path.slice(0,2),(c,m)=>(a(),n("img",{key:m,src:f(c),alt:`Package photo ${m+1}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:re=>j(f(c))},null,8,Qt))),128))]),l.photo_path.length>2?(a(),n("div",Xt,[(a(!0),n(k,null,N(l.photo_path.slice(2,4),(c,m)=>(a(),n("img",{key:m+2,src:f(c),alt:`Package photo ${m+3}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:re=>j(f(c))},null,8,Yt))),128))])):u("",!0),l.photo_path.length>4?(a(),n("div",Zt,[(a(!0),n(k,null,N(l.photo_path.slice(4,6),(c,m)=>(a(),n("img",{key:m+4,src:f(c),alt:`Package photo ${m+5}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:re=>j(f(c))},null,8,es))),128))])):u("",!0)],64)):l.photo_path&&typeof l.photo_path=="string"?(a(),n("img",{key:1,src:f(l.photo_path),alt:"Package photo",class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:c=>j(f(l.photo_path))},null,8,ts)):(a(),n("span",ss,"No photos"))])]),status:i(({row:l})=>[e("span",{class:V(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",ye(l.status)])},o(ue(l.status)),3)]),status_history:i(({row:l})=>[y(S,{class:"!px-2 !py-1 !text-xs !font-normal",onClick:()=>Re(_).visit(s.route("packages.track",l.id))},{default:i(()=>t[33]||(t[33]=[v(" Track Package ")])),_:2},1032,["onClick"])]),_:1},8,["data","sort-field","sort-direction"])):(a(),n("div",rs," No packages found for this delivery. "))])])])])])])])]),y(R,{show:L.value,onClose:J,"max-width":"lg"},{default:i(()=>[e("div",os,[t[35]||(t[35]=e("h2",{class:"text-lg font-medium text-gray-900"},"Status History",-1)),e("div",ls,[(a(!0),n(k,null,N(T.value,(l,c)=>{var m;return a(),n("div",{key:c,class:"border-l-4 border-blue-500 pl-4 py-2"},[e("div",as,[e("span",ns,o(l.status),1),e("span",is,o(de(l.created_at)),1)]),e("p",ds,o(l.notes||"No notes provided"),1),e("p",cs,"Updated by: "+o(((m=l.user)==null?void 0:m.name)||"System"),1)])}),128))]),e("div",us,[y(S,{onClick:J},{default:i(()=>t[34]||(t[34]=[v(" Close ")])),_:1})])])]),_:1},8,["show"]),y(R,{show:P.value,onClose:q},{default:i(()=>[e("div",ms,[t[37]||(t[37]=e("h2",{class:"text-lg font-medium text-gray-900"},"Reject Delivery Request?",-1)),t[38]||(t[38]=e("p",{class:"mt-1 text-sm text-gray-600"}," Are you sure you want to reject this delivery request? ",-1)),e("div",gs,[y(Ce,{for:"rejection_reason",value:"Reason for Rejection (Required)"}),y(je,{id:"rejection_reason",class:"mt-1 block w-full",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=l=>p.value=l),rows:3,placeholder:"Enter reason for rejection...",required:""},null,8,["modelValue"])]),e("div",ys,[y(S,{onClick:q},{default:i(()=>t[36]||(t[36]=[v(" Cancel ")])),_:1}),y(oe,{onClick:he,disabled:h.value||!p.value.trim()},{default:i(()=>[h.value?(a(),n("span",fs,"Rejecting...")):(a(),n("span",vs,"Reject"))]),_:1},8,["disabled"])])])]),_:1},8,["show"]),y(R,{show:M.value,onClose:G,"max-width":"2xl"},{default:i(()=>[e("div",xs,[e("div",{class:"flex justify-between items-center mb-4"},[t[40]||(t[40]=e("h3",{class:"text-lg font-medium text-gray-900"},"Package Photo",-1)),e("button",{onClick:G,class:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100"},t[39]||(t[39]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",bs,[e("img",{src:$.value,alt:"Package photo preview",class:"max-h-[65vh] max-w-[90%] rounded-lg shadow-md object-contain"},null,8,ps)])])]),_:1},8,["show"]),y(R,{show:U.value,onClose:O,"max-width":"5xl"},{default:i(()=>[e("div",hs,[e("div",_s,[e("h3",ks,"Package Photos ("+o(B.value.length)+")",1),e("button",{onClick:O,class:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100"},t[41]||(t[41]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ws,[(a(!0),n(k,null,N(B.value,(l,c)=>(a(),n("div",{key:c,class:"cursor-pointer group",onClick:m=>j(f(l))},[e("div",js,[e("img",{src:f(l),alt:`Package photo ${c+1}`,class:"max-h-32 max-w-full object-contain rounded-lg border border-gray-200 group-hover:border-blue-400 transition-colors"},null,8,Ns)]),e("p",As,"Photo "+o(c+1),1)],8,Cs))),128))])])]),_:1},8,["show"])]}),_:1}))}},Ls=De(Ss,[["__scopeId","data-v-31ad17db"]]);export{Ls as default};
