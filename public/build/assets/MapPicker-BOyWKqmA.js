import{g as i,j as p,h as m,c as u,o as c}from"./app-xrBi3RtB.js";const w={__name:"MapPicker",props:{modelValue:{type:Object,default:()=>({lat:14.5995,lng:120.9842})},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","marker-updated"],setup(s,{emit:g}){const a=s,t=g,r=i(null);let l=null,n=null;const d=()=>{if(!window.google||!window.google.maps){console.error("Google Maps not loaded");return}r.value&&(l=new google.maps.Map(r.value,{center:a.modelValue,zoom:13}),n=new google.maps.Marker({position:a.modelValue,map:l,draggable:!a.readonly}),a.readonly||(n.addListener("dragend",e=>{const o={lat:e.latLng.lat(),lng:e.latLng.lng()};t("update:modelValue",o),t("marker-updated",o)}),l.addListener("click",e=>{n.setPosition(e.latLng);const o={lat:e.latLng.lat(),lng:e.latLng.lng()};t("update:modelValue",o),t("marker-updated",o)})))};return p(()=>{if(window.google&&window.google.maps)d();else{const e=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(e),d())},100)}}),m(()=>a.modelValue,e=>{n&&e&&(n.setPosition(e),l&&l.panTo(e))}),(e,o)=>(c(),u("div",{ref_key:"mapContainer",ref:r,class:"w-full h-64 rounded-lg border border-gray-300"},null,512))}};export{w as _};
