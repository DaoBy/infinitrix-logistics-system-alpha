import{E as V}from"./EmployeeLayout-DIT5z9wE.js";import{c as l,o as r,a as x,u as S,m as R,w as d,b as e,e as n,t as i,n as u,f as g,F as p,r as f,d as k,W as c}from"./app-xrBi3RtB.js";import{_ as b}from"./SecondaryButton-BolX5WPO.js";import{_ as m}from"./PrimaryButton-C_K9q06y.js";import{P as N}from"./Pagination-CsoGEKcO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BuzuRvoY.js";import"./DangerButton-C4ke1hY1.js";const H={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},L={class:"text-2xl font-bold leading-tight text-gray-900 dark:text-gray-100"},P={class:"mt-1 flex items-center gap-2"},z={key:0,class:"text-xs text-purple-600 dark:text-purple-400"},E={class:"flex gap-2"},U={class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},O={key:0,"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},$={key:1,"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},I={class:"py-12"},W={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},q={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800 h-full flex flex-col justify-between"},G={class:"flex items-center justify-between"},J={class:"text-2xl font-semibold text-gray-900 dark:text-white"},K={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800 h-full flex flex-col justify-between"},Q={class:"flex items-center justify-between"},X={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Y={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800 h-full flex flex-col justify-between"},Z={class:"flex items-center justify-between"},ee={key:0,class:"text-xs text-purple-600 dark:text-purple-400 mt-1"},te={xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ae={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},se={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"},re={key:0,class:"mb-8"},le={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800"},ie={class:"flex items-center gap-2 mb-4"},oe={key:0,class:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full font-medium dark:bg-purple-900 dark:text-purple-200"},ne={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},de={class:"text-gray-900 dark:text-white"},ue={class:"text-gray-900 dark:text-white"},ce={class:"text-gray-900 dark:text-white"},ge={class:"mb-8"},xe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2"},pe={class:"flex items-center gap-2"},ke={class:"flex gap-1 ml-2"},be={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},me={class:"flex justify-between items-start mb-2"},he={class:"text-sm font-medium text-gray-900 dark:text-white"},ye={class:"flex flex-col items-end gap-1"},fe={key:0,class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full dark:bg-purple-900 dark:text-purple-200"},ve={class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},we={class:"text-sm text-gray-500 dark:text-gray-400"},_e={key:0,class:"mt-2 p-2 bg-purple-50 rounded text-xs text-purple-700 dark:bg-purple-900/20 dark:text-purple-300"},Me={class:"mt-4 flex space-x-2"},Ce={key:1,class:"p-6 text-center bg-white rounded-lg shadow dark:bg-gray-800"},Be={class:"text-gray-500 dark:text-gray-400"},je={class:"overflow-hidden bg-white shadow dark:bg-gray-800 sm:rounded-lg"},De={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Te={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Re={class:"px-6 py-4 whitespace-nowrap text-sm"},Ne={key:0,class:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full dark:bg-purple-900 dark:text-purple-200"},He={key:1,class:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full dark:bg-gray-700 dark:text-gray-300"},Le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Pe={class:"px-6 py-4 whitespace-nowrap text-right text-sm"},ze={key:0},Ge={__name:"Dashboard",props:{stats:Object,activeDeliveries:Array,recentDeliveries:Object,currentTruck:Object,user:Object,backhaul_available:Boolean},setup(a){const v=a,h=o=>(o==null?void 0:o.toLocaleString())??"0";function w(){window.location.href=route("driver.status-update")}function _(o){window.location.href=route("driver.track-package",{package:o})}function M(o){c.visit(route("deliveries.show",{delivery:o}))}function C(){c.visit(route("driver.assigned-deliveries"))}function B(){c.visit(route("driver.assigned-deliveries"))}function y(){v.backhaul_available?c.post(route("driver.backhaul.disable"),{},{preserveScroll:!0,onSuccess:()=>{c.reload()}}):c.post(route("driver.backhaul.enable"),{},{preserveScroll:!0,onSuccess:()=>{c.reload()}})}function j(o){c.visit(route("driver.dashboard",{page:o}),{preserveScroll:!0,preserveState:!0})}function D(o){return o?{in_transit:"In Transit",available:"Available",available_for_backhaul:"Available for Backhaul",maintenance:"Maintenance",returning:"Returning",assigned:"Assigned"}[o]||o.charAt(0).toUpperCase()+o.slice(1).replace("_"," "):"Unknown"}function T(o){return o&&{in_transit:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full font-semibold",available:"bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-semibold",available_for_backhaul:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full font-semibold",maintenance:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full font-semibold",returning:"bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full font-semibold",assigned:"bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full font-semibold"}[o]||"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full"}return(o,t)=>(r(),l(p,null,[x(S(R),{title:"Driver Dashboard"}),x(V,null,{header:d(()=>[e("div",H,[e("div",null,[e("h2",L," Dashboard - Welcome, "+i(a.user.name),1),e("div",P,[e("span",{class:u(["px-2 py-1 text-xs font-medium rounded-full",a.backhaul_available?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"])},i(a.backhaul_available?"ðŸš› Backhaul Available":"ðŸ“¦ Regular Assignment"),3),a.backhaul_available?(r(),l("span",z," Available for return trip assignments ")):n("",!0)])]),e("div",E,[a.stats.backhaul_eligible?(r(),k(m,{key:0,onClick:y,class:u(["ml-0 sm:ml-4 mt-3 sm:mt-0",a.backhaul_available?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"])},{default:d(()=>[(r(),l("svg",U,[a.backhaul_available?(r(),l("path",O)):(r(),l("path",$))])),g(" "+i(a.backhaul_available?"Disable Backhaul":"Enable Backhaul"),1)]),_:1},8,["class"])):n("",!0),x(b,{onClick:C,class:"ml-0 sm:ml-4 mt-3 sm:mt-0"},{default:d(()=>t[0]||(t[0]=[e("svg",{class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),g(" Assigned Deliveries ")])),_:1})])])]),default:d(()=>[e("div",I,[e("div",W,[e("div",F,[e("div",q,[e("div",G,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Active Deliveries",-1)),e("p",J,i(h(a.stats.active_deliveries)),1)]),t[2]||(t[2]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-200"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),e("div",K,[e("div",Q,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Packages In Transit",-1)),e("p",X,i(h(a.stats.packages_in_transit)),1)]),t[4]||(t[4]=e("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-200"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})])],-1))])]),e("div",Y,[e("div",Z,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Assignment Type",-1)),e("p",{class:u(["text-2xl font-semibold",a.backhaul_available?"text-purple-600 dark:text-purple-400":"text-gray-900 dark:text-white"])},i(a.backhaul_available?"Backhaul":"Regular"),3),a.stats.backhaul_eligible&&!a.backhaul_available?(r(),l("p",ee," Eligible for backhaul ")):n("",!0)]),e("div",{class:u(["p-3 rounded-full",a.backhaul_available?"bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"])},[(r(),l("svg",te,[a.backhaul_available?(r(),l("path",ae)):(r(),l("path",se))]))],2)])])]),a.currentTruck?(r(),l("div",re,[e("div",le,[e("div",ie,[t[6]||(t[6]=e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Current Truck Assignment",-1)),a.backhaul_available?(r(),l("span",oe," Backhaul Mode ")):n("",!0)]),e("div",ne,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Make & Model",-1)),e("p",de,i(a.currentTruck.make)+" "+i(a.currentTruck.model),1)]),e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"License Plate",-1)),e("p",ue,i(a.currentTruck.license_plate),1)]),e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Status",-1)),e("p",ce,[e("span",{class:u(T(a.currentTruck.status))},i(D(a.currentTruck.status)),3)])])])])])):n("",!0),e("div",ge,[e("div",xe,[e("div",pe,[t[11]||(t[11]=e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17v-2a4 4 0 018 0v2M12 7a4 4 0 100 8 4 4 0 000-8z"})],-1)),t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Active Deliveries",-1)),e("div",ke,[e("span",{class:u(["px-2 py-1 text-xs rounded-full cursor-pointer transition-colors",a.backhaul_available?"bg-purple-100 text-purple-800 border border-purple-300 dark:bg-purple-900 dark:text-purple-200 dark:border-purple-700":"bg-gray-100 text-gray-800 border border-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600"]),onClick:y},i(a.backhaul_available?"ðŸš› Backhaul":"ðŸ“¦ Regular"),3)])]),x(b,{onClick:B,class:"ml-0 sm:ml-4"},{default:d(()=>t[13]||(t[13]=[g(" View All ")])),_:1})]),a.activeDeliveries.length>0?(r(),l("div",be,[(r(!0),l(p,null,f(a.activeDeliveries.slice(0,3),s=>(r(),l("div",{key:s.id,class:u(["p-4 bg-white rounded-lg shadow dark:bg-gray-800 border-l-4",s.is_backhaul?"border-purple-500":"border-blue-500"])},[e("div",me,[e("span",he,i(s.receiver),1),e("div",ye,[e("span",{class:u(["px-2 py-1 text-xs rounded-full",{"bg-yellow-100 text-yellow-800":s.status==="assigned","bg-blue-100 text-blue-800":s.status==="dispatched","bg-green-100 text-green-800":s.status==="in_transit"}])},i(s.status==="in_transit"?"In Transit":s.status.charAt(0).toUpperCase()+s.status.slice(1)),3),s.is_backhaul?(r(),l("span",fe," Backhaul ")):n("",!0)])]),e("p",ve,i(s.estimated_arrival),1),e("p",we,i(s.package_count)+" packages",1),s.is_backhaul?(r(),l("div",_e,t[14]||(t[14]=[e("strong",null,"Backhaul Assignment:",-1),g(" Return trip to home region ")]))):n("",!0),e("div",Me,[x(m,{type:"button",class:"flex items-center",onClick:w},{default:d(()=>t[15]||(t[15]=[g(" Update Status ")])),_:1}),s.packages&&s.packages.length>0?(r(),k(m,{key:0,type:"button",class:"flex items-center",onClick:A=>_(s.packages[0].id)},{default:d(()=>t[16]||(t[16]=[g(" Track ")])),_:2},1032,["onClick"])):n("",!0)])],2))),128))])):(r(),l("div",Ce,[e("p",Be,i(a.backhaul_available?"No backhaul assignments available":"No active deliveries"),1)]))]),e("div",null,[t[20]||(t[20]=e("div",{class:"flex items-center gap-2 mb-4"},[e("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})]),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Recent Deliveries")],-1)),e("div",je,[e("table",De,[t[19]||(t[19]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Reference # "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Receiver "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Packages "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Type "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Delivered At "),e("th",{scope:"col",class:"px-6 py-3"})])],-1)),e("tbody",Te,[(r(!0),l(p,null,f(a.recentDeliveries.data||[],s=>(r(),l("tr",{key:s.id},[e("td",Ae,i(s.reference_number||"N/A"),1),e("td",Ve,i(s.receiver),1),e("td",Se,i(s.package_count),1),e("td",Re,[s.is_backhaul?(r(),l("span",Ne," Backhaul ")):(r(),l("span",He," Regular "))]),e("td",Le,i(s.delivered_at?s.delivered_at:"â€”"),1),e("td",Pe,[x(b,{type:"button",onClick:A=>M(s.id),class:"px-3 py-1 text-xs"},{default:d(()=>t[17]||(t[17]=[g(" View ")])),_:2},1032,["onClick"])])]))),128)),!a.recentDeliveries.data||a.recentDeliveries.data.length===0?(r(),l("tr",ze,t[18]||(t[18]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300"}," No recent deliveries ",-1)]))):n("",!0)])]),a.recentDeliveries.last_page>1?(r(),k(N,{key:0,pagination:a.recentDeliveries,onPageChanged:j},null,8,["pagination"])):n("",!0)])])])])]),_:1})],64))}};export{Ge as default};
