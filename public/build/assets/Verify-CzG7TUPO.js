import{E as B}from"./EmployeeLayout-CIwV2LFp.js";import{_ as R}from"./PrimaryButton-H84cxS-1.js";import{g as P,d as E,o as r,w as o,b as e,c as n,e as l,t as s,f as C,a as D,u as I,P as L,W as S}from"./app-DfDxEqBg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Dm252fTo.js";import"./DangerButton-CCeglgOy.js";const z={class:"flex justify-between items-center px-2 md:px-8 py-4 max-w-5xl mx-auto w-full"},F={class:"px-1 md:px-8 py-4 max-w-5xl mx-auto"},M={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 mb-6"},O={class:"flex flex-col md:flex-row md:items-center md:justify-between p-4 bg-indigo-50 dark:bg-indigo-900 border-b border-gray-200 dark:border-gray-700"},T={class:"flex items-center gap-2"},U={class:"text-lg font-bold text-indigo-900 dark:text-indigo-100 tracking-wide"},W={class:"mt-1 text-xs text-gray-500 dark:text-gray-300"},$={key:0},G={class:"mt-3 md:mt-0 flex items-center gap-2"},H={class:"font-medium text-gray-900 dark:text-gray-100"},J={key:0,class:"flex justify-between mb-2"},K={class:"font-mono text-gray-900 dark:text-gray-100"},Q={class:"flex justify-between mb-2"},X={class:"capitalize text-gray-900 dark:text-gray-100"},Y={class:"flex justify-between mb-2"},Z={class:"text-gray-900 dark:text-gray-100"},ee={class:"p-4 md:p-6"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},ae={class:"bg-gray-50 dark:bg-gray-700/50 p-3 md:p-4 rounded-lg flex flex-col gap-1"},se={class:"font-medium truncate"},re={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},de={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},ne={class:"bg-gray-50 dark:bg-gray-700/50 p-3 md:p-4 rounded-lg flex flex-col gap-1"},ie={class:"font-medium truncate"},oe={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},le={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},ye={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},me={class:"p-4 md:p-6 space-y-4"},ce={class:"flex flex-col gap-2"},ge={class:"flex justify-between"},xe={class:"capitalize text-gray-900 dark:text-gray-100"},ue={class:"flex justify-between"},fe={class:"text-gray-900 dark:text-gray-100"},be={class:"flex justify-between"},pe={class:"text-gray-900 dark:text-gray-100"},ke={key:0,class:"flex flex-col mt-2"},ve=["src"],he={key:1,class:"mt-2"},_e={class:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded mt-1 text-gray-900 dark:text-gray-100"},we={class:"flex justify-end p-4 border-t border-gray-200 dark:border-gray-700"},Ne={key:0},je={key:1},Ce={key:2},Re={__name:"Verify",props:{payment:Object},setup(a){const y=a,i=P(!1);function q(){y.payment.verified_by||(i.value=!0,S.post(route("staff.payments.verify.action",y.payment.id),{},{onFinish:()=>{i.value=!1},onSuccess:()=>{S.visit(route("staff.payments.dashboard"))}}))}function V(d){if(!d)return"N/A";try{return new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}function A(d){if(!d)return"N/A";try{return new Date(d).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}}return(d,t)=>(r(),E(B,null,{header:o(()=>[e("div",z,[t[1]||(t[1]=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Review & Verify Collection ",-1)),D(I(L),{href:d.route("staff.payments.dashboard"),class:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"},{default:o(()=>t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),C(" Back to payments ")])),_:1},8,["href"])])]),default:o(()=>{var m,c,g,x,u,f,b,p,k,v,h,_,w,N,j;return[e("div",F,[e("div",M,[e("div",O,[e("div",null,[e("div",T,[t[2]||(t[2]=e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-100"}," Reference # ",-1)),e("span",U,s(((m=a.payment.delivery_request)==null?void 0:m.reference_number)||"DR-"+String(a.payment.delivery_request_id).padStart(6,"0")),1)]),e("div",W,[C(" Delivery ID: DO-"+s(String(a.payment.delivery_request_id).padStart(6,"0"))+" ",1),a.payment.created_at?(r(),n("span",$," | Created: "+s(V(a.payment.created_at)),1)):l("",!0)])]),e("div",G,[e("span",H," ₱"+s(Number(a.payment.amount).toFixed(2)),1),t[3]||(t[3]=e("span",{class:"text-xs text-gray-500 dark:text-gray-300"},"Amount Collected",-1))]),a.payment.reference_number?(r(),n("div",J,[t[4]||(t[4]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Reference Number:",-1)),e("span",K,s(a.payment.reference_number),1)])):l("",!0),e("div",Q,[t[5]||(t[5]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Payment Source:",-1)),e("span",X,s(a.payment.source.replace("_"," ")),1)]),e("div",Y,[t[6]||(t[6]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Submitted By:",-1)),e("span",Z,s(((c=a.payment.submitted_by)==null?void 0:c.name)||"N/A"),1)])]),e("div",ee,[e("div",te,[e("div",ae,[t[7]||(t[7]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-2"},"Sender",-1)),e("p",se,s((x=(g=a.payment.delivery_request)==null?void 0:g.sender)==null?void 0:x.name),1),e("p",re,s((f=(u=a.payment.delivery_request)==null?void 0:u.sender)==null?void 0:f.email),1),e("p",de,s((p=(b=a.payment.delivery_request)==null?void 0:b.sender)==null?void 0:p.mobile),1)]),e("div",ne,[t[8]||(t[8]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-2"},"Receiver",-1)),e("p",ie,s((v=(k=a.payment.delivery_request)==null?void 0:k.receiver)==null?void 0:v.name),1),e("p",oe,s((_=(h=a.payment.delivery_request)==null?void 0:h.receiver)==null?void 0:_.email),1),e("p",le,s((N=(w=a.payment.delivery_request)==null?void 0:w.receiver)==null?void 0:N.mobile),1)])])])])]),e("div",ye,[t[14]||(t[14]=e("div",{class:"p-3 md:p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100"}," Collection Details ")],-1)),e("div",me,[e("div",ce,[e("div",ge,[t[9]||(t[9]=e("span",{class:"text-gray-700 dark:text-gray-300"},"Method:",-1)),e("span",xe,s(a.payment.method),1)]),e("div",ue,[t[10]||(t[10]=e("span",{class:"text-gray-700 dark:text-gray-300"},"Collected By:",-1)),e("span",fe,s(((j=a.payment.collected_by)==null?void 0:j.name)||"N/A"),1)]),e("div",be,[t[11]||(t[11]=e("span",{class:"text-gray-700 dark:text-gray-300"},"Collected At:",-1)),e("span",pe,s(a.payment.collected_at?A(a.payment.collected_at):"N/A"),1)]),a.payment.receipt_image?(r(),n("div",ke,[t[12]||(t[12]=e("span",{class:"text-gray-700 dark:text-gray-300 mb-1"},"Receipt:",-1)),e("img",{src:"/storage/"+a.payment.receipt_image,alt:"Receipt",class:"max-w-xs rounded border border-gray-200"},null,8,ve)])):l("",!0),a.payment.notes?(r(),n("div",he,[t[13]||(t[13]=e("span",{class:"text-gray-700 dark:text-gray-300"},"Notes:",-1)),e("div",_e,s(a.payment.notes),1)])):l("",!0)])])]),e("div",we,[D(R,{color:"success",disabled:i.value||a.payment.verified_by,onClick:q},{default:o(()=>[i.value?(r(),n("span",Ne,"Verifying...")):a.payment.verified_by?(r(),n("span",je,"Already Verified")):(r(),n("span",Ce,"Verify Collection"))]),_:1},8,["disabled"])])]}),_:1}))}};export{Re as default};
