import{C as w,i as u,d as v,o as l,w as c,b as e,s as _,v as g,u as i,x,t as r,c as m,F as h,r as N,a as y,f as C,W as B}from"./app-BOCrhSfO.js";import{E as M}from"./EmployeeLayout-D01AghRc.js";import{_ as E}from"./PrimaryButton-7U4Qu6md.js";import{_ as I}from"./SecondaryButton-BoCxbQ9w.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DsrNUkqS.js";import"./DangerButton-CBhu99um.js";const j={class:"flex justify-between items-center px-6"},D={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},S={class:"flex space-x-2"},V={class:"px-6 py-4"},F={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 max-w-7xl mx-auto"},L={class:"p-6"},T={class:"grid grid-cols-1 gap-6"},A={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},O={class:"text-sm text-gray-900 dark:text-gray-100"},W={class:"bg-gray-50 dark:bg-gray-700 p-3 rounded"},q={class:"text-sm text-gray-900 dark:text-gray-100"},z={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},H={class:"overflow-x-auto"},P={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},U={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},$={class:"px-4 py-2 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-gray-100 font-medium"},G={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},J={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},K={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Q={class:"px-4 py-2 whitespace-nowrap text-sm text-green-600 font-semibold"},R={class:"flex justify-end"},X={key:0},Y={key:1},de={__name:"Create",props:{truck:{type:Object,required:!0},driver:{type:Object,default:()=>({id:null,name:null,employee_id:null})},packages:{type:Array,default:()=>[]},manifestNumber:{type:String,required:!0}},setup(o){const n=o,d=w({manifest_number:n.manifestNumber,notes:""}),p=u(()=>{var a;return((a=n.driver)==null?void 0:a.name)||"Not assigned"}),f=u(()=>{var a;return((a=n.driver)==null?void 0:a.employee_id)||"N/A"}),k=()=>{d.post(route("manifests.store",{truck:n.truck.id}),{preserveScroll:!0,onSuccess:()=>{},onError:a=>{console.error("Error creating manifest:",a)}})},b=()=>{B.visit(route("manifests.index"))};return(a,t)=>(l(),v(M,null,{header:c(()=>[e("div",j,[e("h2",D," Create Manifest for Truck: "+r(o.truck.license_plate),1),e("div",S,[y(I,{onClick:b,class:"inline-flex items-center"},{default:c(()=>t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),C(" Back ")])),_:1})])])]),default:c(()=>[e("div",V,[e("div",F,[e("div",L,[e("form",{onSubmit:_(k,["prevent"])},[e("div",T,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Manifest Number ",-1)),g(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>i(d).manifest_number=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",readonly:""},null,512),[[x,i(d).manifest_number]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Truck Information ",-1)),e("div",A,[e("p",O,r(o.truck.make)+" "+r(o.truck.model)+" ("+r(o.truck.license_plate)+")",1)])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Driver Information ",-1)),e("div",W,[e("p",q,r(p.value)+" (ID: "+r(f.value)+")",1)])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Notes ",-1)),g(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>i(d).notes=s),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",placeholder:"Optional notes about this manifest..."},null,512),[[x,i(d).notes]])]),e("div",null,[e("label",z," Packages to Include ("+r(o.packages.length)+") ",1),e("div",H,[e("table",P,[t[7]||(t[7]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Item Code "),e("th",{scope:"col",class:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Category "),e("th",{scope:"col",class:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Package Name "),e("th",{scope:"col",class:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Destination "),e("th",{scope:"col",class:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Waybill # ")])],-1)),e("tbody",U,[(l(!0),m(h,null,N(o.packages,s=>(l(),m("tr",{key:s.id},[e("td",$,r(s.item_code),1),e("td",G,r(s.category),1),e("td",J,r(s.item_name),1),e("td",K,r(s.drop_off_region||"N/A"),1),e("td",Q,r(s.waybill_number),1)]))),128))])])])]),e("div",R,[y(E,{type:"submit",class:"inline-flex items-center",disabled:i(d).processing},{default:c(()=>[t[8]||(t[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),i(d).processing?(l(),m("span",X,"Creating...")):(l(),m("span",Y,"Create Finalized Manifest"))]),_:1},8,["disabled"])])])],32)])])])]),_:1}))}};export{de as default};
