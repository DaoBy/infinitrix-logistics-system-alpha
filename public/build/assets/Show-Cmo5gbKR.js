import{E as j}from"./EmployeeLayout-BQLa5PLV.js";import{_ as b}from"./PrimaryButton-z6gddSkS.js";import{_ as p}from"./SecondaryButton-BDpVYXxA.js";import{D as k}from"./DangerButton-DlTel5kP.js";import{_ as M}from"./DataTable-C_2NMP2T.js";import{M as E}from"./Modal-Oa0ozw3w.js";import{g as C,d as w,o as a,w as s,b as t,a as m,c as i,e as u,t as o,n as V,f as l,u as h,W as f}from"./app-B0R_bMJi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BchASNUp.js";const L={class:"flex justify-between items-center"},T={class:"text-xl font-semibold leading-tight text-gray-800"},A={class:"flex space-x-2"},F={class:"py-6"},q={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},z={key:0,class:"mb-6"},I={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},O={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},P={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},G={class:"p-6 bg-white border-b border-gray-200"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={class:"space-y-4"},J={class:"space-y-4"},K={class:"mt-1 text-sm text-gray-900"},Q={class:"mt-1 text-sm text-gray-900 capitalize"},U={class:"space-y-4"},X={class:"space-y-4"},Y={key:0},Z={class:"mt-1 text-sm text-gray-900"},ee={class:"mt-1 text-sm text-gray-900"},te={key:1},ne={class:"mt-1 text-sm text-gray-900"},oe={key:0,class:"md:col-span-2 space-y-4"},se={class:"mt-1 text-sm text-gray-900 whitespace-pre-line"},ae={class:"md:col-span-2 space-y-4"},ie=["onClick"],le={key:1,class:"text-gray-500"},de={class:"mt-6 flex justify-end space-x-4"},re={class:"p-6"},me={class:"mt-1 text-sm text-gray-600"},ce={class:"mt-6 flex justify-end space-x-4"},ue={key:0},xe={key:1},De={__name:"Show",props:{truck:{type:Object,required:!0},component:{type:Object,required:!0},status:{type:String,default:""},success:{type:String,default:""},error:{type:String,default:""}},setup(n){const c=n,x=C(!1),g=C(!1),D={new:"New",good:"Good",fair:"Fair",poor:"Poor",needs_replacement:"Needs Replacement"},N=[{field:"maintenance_date",header:"Date"},{field:"service_provider",header:"Provider"},{field:"service_details",header:"Details"},{field:"cost",header:"Cost"},{field:"actions",header:"Actions"}],y=r=>r?new Date(r).toLocaleDateString():"N/A",_=r=>({new:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",needs_replacement:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",v=()=>{f.get(route("admin.trucks.components.edit",{truck:c.truck.id,component:c.component.id}))},$=r=>{f.get(route("admin.trucks.maintenance.index",c.truck.id),{search:c.component.name,component_id:c.component.id})},S=()=>{x.value=!0},B=()=>{g.value=!0,f.delete(route("admin.trucks.components.destroy",{truck:c.truck.id,component:c.component.id}),{preserveScroll:!0,onSuccess:()=>{x.value=!1},onFinish:()=>{g.value=!1}})};return(r,e)=>(a(),w(j,null,{header:s(()=>[t("div",L,[t("h2",T," Component Details - "+o(n.component.name),1),t("div",A,[m(p,{onClick:e[0]||(e[0]=d=>h(f).get(r.route("admin.trucks.components.index",n.truck.id)))},{default:s(()=>e[4]||(e[4]=[l(" Back to Components ")])),_:1}),m(b,{onClick:v},{default:s(()=>e[5]||(e[5]=[l(" Edit ")])),_:1}),m(k,{onClick:S},{default:s(()=>e[6]||(e[6]=[l(" Delete ")])),_:1})])])]),default:s(()=>[t("div",F,[t("div",q,[n.status||n.success||n.error?(a(),i("div",z,[n.status?(a(),i("div",I,o(n.status),1)):u("",!0),n.success?(a(),i("div",O,o(n.success),1)):u("",!0),n.error?(a(),i("div",P,o(n.error),1)):u("",!0)])):u("",!0),t("div",W,[t("div",G,[t("div",H,[t("div",R,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900"},"Component Information",-1)),t("div",J,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-500"},"Name",-1)),t("p",K,o(n.component.name),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-500"},"Type",-1)),t("p",Q,o(n.component.type.replace("_"," ")),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-500"},"Condition",-1)),t("span",{class:V(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_(n.component.condition)}`)},o(D[n.component.condition]),3)])])]),t("div",U,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900"},"Technical Details",-1)),t("div",X,[n.component.serial_number?(a(),i("div",Y,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-500"},"Serial Number",-1)),t("p",Z,o(n.component.serial_number),1)])):u("",!0),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-500"},"Installation Date",-1)),t("p",ee,o(y(n.component.installation_date)),1)]),n.component.last_maintenance_date?(a(),i("div",te,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-500"},"Last Maintenance",-1)),t("p",ne,o(y(n.component.last_maintenance_date)),1)])):u("",!0)])]),n.component.notes?(a(),i("div",oe,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900"},"Notes",-1)),t("p",se,o(n.component.notes),1)])):u("",!0),t("div",ae,[e[16]||(e[16]=t("div",{class:"flex justify-between items-center"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Maintenance History")],-1)),n.component.maintenance_records&&n.component.maintenance_records.length?(a(),w(M,{key:0,columns:N,data:n.component.maintenance_records},{maintenance_date:s(({row:d})=>[l(o(y(d.maintenance_date)),1)]),cost:s(({row:d})=>[l(" $"+o(Number(d.cost).toFixed(2)),1)]),actions:s(({row:d})=>[t("button",{onClick:fe=>$(d),class:"text-blue-600 hover:text-blue-900 mr-3"}," View ",8,ie)]),_:1},8,["data"])):(a(),i("div",le," No maintenance records found for this component. "))])]),t("div",de,[m(p,{onClick:e[1]||(e[1]=d=>h(f).get(r.route("admin.trucks.components.index",n.truck.id)))},{default:s(()=>e[17]||(e[17]=[l(" Back to Components ")])),_:1}),m(b,{onClick:v},{default:s(()=>e[18]||(e[18]=[l(" Edit Component ")])),_:1})])])])])]),m(E,{show:x.value,onClose:e[3]||(e[3]=d=>x.value=!1)},{default:s(()=>[t("div",re,[e[22]||(e[22]=t("h2",{class:"text-lg font-medium text-gray-900"},"Delete Component?",-1)),t("p",me,[e[19]||(e[19]=l(" Are you sure you want to delete ")),t("strong",null,o(n.component.name),1),e[20]||(e[20]=l("? This action cannot be undone. "))]),t("div",ce,[m(p,{onClick:e[2]||(e[2]=d=>x.value=!1)},{default:s(()=>e[21]||(e[21]=[l(" Cancel ")])),_:1}),m(k,{onClick:B,disabled:g.value},{default:s(()=>[g.value?(a(),i("span",ue,"Deleting...")):(a(),i("span",xe,"Delete"))]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1}))}};export{De as default};
