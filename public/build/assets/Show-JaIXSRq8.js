import{_ as M}from"./GuestLayout-LvOLjsCz.js";import{i as l,d as b,o,w as i,b as e,n as p,c as f,e as m,E as N,t as a,f as y,a as d,u as c,P as g}from"./app-7ARdHXBa.js";import{_ as S}from"./PrimaryButton-v78qpko7.js";import{_ as v}from"./SecondaryButton-CtLoK5i5.js";import{r as T}from"./CheckCircleIcon-Be_StQ-5.js";import{r as V}from"./XCircleIcon-OBzMDNhs.js";import{r as W}from"./ClockIcon-CZreQYMH.js";import{r as q}from"./InformationCircleIcon-OFv3E1Y7.js";import"./NavLink-DmzxVQVl.js";import"./NavBar-DJpsOqgO.js";import"./DropdownLink-hRK6mJp4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ExclamationTriangleIcon-BSpdFicH.js";import"./TruckIcon-wHqkhfVt.js";const A={class:"flex justify-between items-center"},G={class:"text-xl font-semibold text-gray-800"},R={class:"text-sm text-gray-600 mt-1"},z={class:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},H={class:"flex items-center"},$={class:"font-medium"},Y={class:"mt-1 text-sm"},J={key:0,class:"mt-2 text-sm bg-white bg-opacity-30 p-2 rounded"},E={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},L={class:"lg:col-span-2 space-y-6"},U={class:"bg-white shadow rounded-lg overflow-hidden"},F={class:"px-6 py-4"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={key:0,class:"mb-4"},K={class:"mt-1 text-sm text-gray-900"},X={class:"mb-4"},ee={class:"mt-1 text-sm text-gray-900 capitalize"},te={class:"mb-4"},se={class:"mt-1 text-sm text-gray-900"},re={class:"mb-4"},ae={class:"mt-1 text-sm text-gray-900 capitalize"},ne={class:"mt-4 pt-4 border-t border-gray-200"},ie={class:"flex justify-between items-center"},le={class:"text-2xl font-bold text-blue-700"},oe={key:0,class:"bg-white shadow rounded-lg overflow-hidden"},de={class:"px-6 py-4"},me=["src"],ue={key:1,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},ye={class:"flex"},ce={class:"flex-shrink-0"},be={class:"space-y-6"},fe={class:"bg-white shadow rounded-lg overflow-hidden"},ge={class:"px-6 py-4"},xe={class:"mb-4"},pe={class:"mt-1 text-sm text-gray-900"},ve={class:"mb-4"},_e={class:"mt-1 text-sm text-gray-900"},he={class:"mb-4"},we={class:"mt-1 text-sm text-gray-900"},Ie={class:"bg-white shadow rounded-lg overflow-hidden"},je={class:"px-6 py-4 space-y-3"},Ge={__name:"Show",props:{payment:Object},setup(s){const r=s,u=l(()=>r.payment.method==="cash"),I=l(()=>"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs"),j=l(()=>r.payment.verified_by?"text-green-800 bg-green-100 px-2 py-1 rounded-full text-xs":r.payment.rejected_by?"text-red-800 bg-red-100 px-2 py-1 rounded-full text-xs":"text-yellow-800 bg-yellow-100 px-2 py-1 rounded-full text-xs"),k=l(()=>r.payment.verified_by?"verified":r.payment.rejected_by?"rejected":"pending verification"),P=l(()=>r.payment.verified_by?"bg-green-50 border border-green-200 text-green-800":r.payment.rejected_by?"bg-red-50 border border-red-200 text-red-800":"bg-yellow-50 border border-yellow-200 text-yellow-800"),C=l(()=>r.payment.verified_by?T:r.payment.rejected_by?V:W),Z=l(()=>r.payment.verified_by?"Payment Verified":r.payment.rejected_by?"Payment Rejected":"Pending Verification"),D=l(()=>{var n;return r.payment.verified_by?`Verified by ${(n=r.payment.verified_by)==null?void 0:n.name} on ${x(r.payment.verified_at)}`:r.payment.rejected_by?`Rejected on ${x(r.payment.rejected_at)}`:"Your payment is being reviewed by our team. This usually takes 1-2 business days."}),x=n=>{if(!n)return"N/A";try{return new Date(n).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}},B=n=>{n.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YzZjNmMyIvPgogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkeT0iLjM1ZW0iIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjOTk5Ij5ObyBJbWFnZTwvdGV4dD4KICA8dGV4dCB4PSI1MCUiIHk9IjUwJSIgZHk9IjEuMzVlbSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9IiM5OTkiPkF2YWlsYWJsZTwvdGV4dD4KPC9zdmc+"};return(n,t)=>(o(),b(M,null,{header:i(()=>[e("div",A,[e("div",null,[e("h2",G," Payment Details - #"+a(s.payment.delivery_request.reference_number),1),e("p",R,[e("span",{class:p(I.value)},a(s.payment.delivery_request.status),3),e("span",{class:p([j.value,"ml-2"])}," Payment: "+a(k.value),3)])]),d(c(g),{href:n.route("customer.delivery-requests.show",s.payment.delivery_request_id),class:"text-sm text-blue-600 hover:text-blue-800"},{default:i(()=>[d(v,null,{default:i(()=>t[0]||(t[0]=[y(" ← Back to Delivery ")])),_:1})]),_:1},8,["href"])])]),default:i(()=>{var _,h,w;return[e("div",z,[e("div",{class:p([P.value,"mb-6 rounded-lg p-4"])},[e("div",H,[(o(),b(N(C.value),{class:"h-5 w-5 mr-2"})),e("span",$,a(Z.value),1)]),e("p",Y,a(D.value),1),s.payment.rejection_reason?(o(),f("p",J,[t[1]||(t[1]=e("strong",null,"Reason:",-1)),y(" "+a(s.payment.rejection_reason),1)])):m("",!0)],2),e("div",E,[e("div",L,[e("div",U,[t[7]||(t[7]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),e("div",F,[e("div",Q,[e("div",null,[u.value?m("",!0):(o(),f("div",O,[t[2]||(t[2]=e("label",{class:"block text-sm font-medium text-gray-500"},"Reference Number",-1)),e("p",K,a(s.payment.reference_number||"N/A"),1)])),e("div",X,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-500"},"Method",-1)),e("p",ee,a(s.payment.method),1)])]),e("div",null,[e("div",te,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-500"},"Date",-1)),e("p",se,a(x(s.payment.paid_at)),1)]),e("div",re,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-500"},"Type",-1)),e("p",ae,a(s.payment.type),1)])])]),e("div",ne,[e("div",ie,[t[6]||(t[6]=e("span",{class:"text-lg font-semibold text-gray-900"},"Amount Paid:",-1)),e("span",le,"₱"+a(parseFloat(s.payment.amount).toFixed(2)),1)])])])]),u.value?m("",!0):(o(),f("div",oe,[t[8]||(t[8]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Proof")],-1)),e("div",de,[e("img",{src:s.payment.receipt_image_url,alt:"Payment receipt",class:"max-w-full h-auto rounded-lg border border-gray-200 mx-auto max-h-64 object-contain",onError:B},null,40,me)])])),u.value?(o(),f("div",ue,[e("div",ye,[e("div",ce,[d(c(q),{class:"h-5 w-5 text-blue-400"})]),t[9]||(t[9]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"},"Cash Payment"),e("div",{class:"mt-2 text-sm text-blue-700"},[e("p",null,"This payment was made in cash. No digital receipt or reference number is available.")])],-1))])])):m("",!0)]),e("div",be,[e("div",fe,[t[13]||(t[13]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Summary")],-1)),e("div",ge,[e("div",xe,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-500"},"Reference #",-1)),e("p",pe,a(s.payment.delivery_request.reference_number),1)]),e("div",ve,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-500"},"Route",-1)),e("p",_e,a((_=s.payment.delivery_request.pick_up_region)==null?void 0:_.name)+" → "+a((h=s.payment.delivery_request.drop_off_region)==null?void 0:h.name),1)]),e("div",he,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-500"},"Packages",-1)),e("p",we,a((w=s.payment.delivery_request.packages)==null?void 0:w.length)+" items",1)])])]),e("div",Ie,[t[17]||(t[17]=e("div",{class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Actions")],-1)),e("div",je,[d(c(g),{href:n.route("customer.delivery-requests.show",s.payment.delivery_request_id),class:"w-full"},{default:i(()=>[d(S,{class:"w-full justify-center"},{default:i(()=>t[14]||(t[14]=[y(" View Delivery Details ")])),_:1})]),_:1},8,["href"]),s.payment.rejected_by&&!u.value?(o(),b(c(g),{key:0,href:n.route("customer.payments.create",s.payment.delivery_request_id),class:"w-full"},{default:i(()=>[d(v,{class:"w-full justify-center"},{default:i(()=>t[15]||(t[15]=[y(" Submit New Payment ")])),_:1})]),_:1},8,["href"])):m("",!0),s.payment.rejected_by&&u.value?(o(),b(c(g),{key:1,href:n.route("customer.delivery-requests.show",s.payment.delivery_request_id),class:"w-full"},{default:i(()=>[d(v,{class:"w-full justify-center"},{default:i(()=>t[16]||(t[16]=[y(" Contact Support ")])),_:1})]),_:1},8,["href"])):m("",!0)])])])])])]}),_:1}))}};export{Ge as default};
