import{E as Z}from"./EmployeeLayout-BQLa5PLV.js";import{P as L}from"./Pagination-Cqnyvcnt.js";import{_ as ee}from"./SearchInput-BHbkz-wy.js";import{S as te}from"./SelectInput-f4kpY-DU.js";import{_ as M}from"./PaymentStatusBadge-C7Ui0v1p.js";import{_ as ae}from"./SecondaryButton-BDpVYXxA.js";import{g as E,h as se,W as m,d as re,o as r,w as D,b as e,a as n,c as d,e as o,F as I,r as F,t as l,n as W,f as B}from"./app-B0R_bMJi.js";import{d as le}from"./debounce-DyxySDrG.js";import{_ as Y}from"./PrimaryButton-z6gddSkS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BchASNUp.js";import"./DangerButton-DlTel5kP.js";/* empty css                                                                    */const de={class:"flex justify-between items-center px-6"},ie={class:"flex space-x-2 items-center"},ne={class:"px-2 py-4 max-w-5xl mx-auto"},oe={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700"},pe={class:"overflow-x-auto"},ce={class:"min-w-[900px] w-full divide-y divide-gray-200 dark:divide-gray-700 text-xs md:text-sm"},ye={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},me={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},xe={class:"flex flex-col"},ge={class:"flex items-center gap-2"},ue={class:"font-bold text-indigo-900 dark:text-indigo-100 tracking-wide"},fe={class:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500 dark:text-gray-300"},ve={key:0},_e={key:1,class:"flex items-center gap-1"},he={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},ke={class:"px-6 py-4 whitespace-nowrap"},we={key:0,class:"ml-2"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},qe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ce={class:"flex justify-end space-x-2"},Se={key:0},Oe={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 mt-6"},Re={class:"overflow-x-auto"},Pe={class:"min-w-[900px] w-full divide-y divide-gray-200 dark:divide-gray-700 text-xs md:text-sm"},Ve={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},De={class:"flex flex-col"},Ne={class:"flex items-center gap-2"},je={class:"font-bold text-indigo-900 dark:text-indigo-100 tracking-wide"},Be={class:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500 dark:text-gray-300"},Te={key:0},He={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Ue={class:"px-6 py-4 whitespace-nowrap"},$e={key:0,class:"ml-2"},ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Le={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Me={class:"flex justify-end space-x-2"},Ee={key:0},st={__name:"ReleaseIndex",props:{orders:{type:Object,default:()=>({data:[]})},filters:{type:Object,default:()=>({})},completedOrders:{type:Object,default:()=>({data:[]})}},setup(i){const T=i,p=E(T.filters.search||""),c=E(T.filters.payment_type||"");function G(s){m.get(route("cargo-assignments.delivery-completion.ready-for-release",{page:s,search:p.value,payment_type:c.value}),{preserveState:!0,preserveScroll:!0,only:["orders","completedOrders","filters"]})}function J(){m.get(route("cargo-assignments.delivery-completion.ready-for-release"),{search:p.value,payment_type:c.value},{preserveState:!0,replace:!0,only:["orders","completedOrders","filters"]})}se([p,c],le(([s,a])=>{m.get(route("cargo-assignments.delivery-completion.ready-for-release"),{search:s,payment_type:a},{preserveState:!0,preserveScroll:!0,replace:!0,only:["orders","completedOrders","filters"]})},300));function K(s){m.get(route("cargo-assignments.delivery-completion.ready-for-release",{completed_page:s,search:p.value,payment_type:c.value}),{preserveState:!0,preserveScroll:!0,only:["orders","completedOrders","filters"]})}function H(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function Q(s){m.visit(route("cargo-assignments.delivery-completion.release",s))}function X(s){s&&m.visit(route("deliveries.show",s))}return(s,a)=>(r(),re(Z,null,{header:D(()=>[e("div",de,[a[3]||(a[3]=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Ready for Release ",-1)),e("div",ie,[n(ee,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=y=>p.value=y),placeholder:"Search by DO#, Reference #, customer...",class:"w-[28rem]"},null,8,["modelValue"]),n(te,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=y=>c.value=y),options:[{value:"",label:"All Payment Types"},{value:"prepaid",label:"Prepaid"},{value:"postpaid",label:"Postpaid"}],placeholder:"Payment Type",class:"w-60"},null,8,["modelValue"]),n(Y,{onClick:J,class:"inline-flex items-center"},{default:D(()=>a[2]||(a[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1),B(" Refresh ")])),_:1})])])]),default:D(()=>{var y,U,$,z;return[e("div",ne,[e("div",oe,[a[8]||(a[8]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Pending Release of Packages "),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," These are delivery orders that have been delivered and are now ready for package release. Use the release action to confirm and complete the delivery process. ")])],-1)),e("div",pe,[e("table",ce,[a[7]||(a[7]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Reference # "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Customer "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Payment "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Destination "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ye,[(r(!0),d(I,null,F(((y=i.orders)==null?void 0:y.data)||[],t=>{var x,g,u,f,v,_,h,k,w,b,q,C,S,O,R,P,V,A,N;return r(),d("tr",{key:t.id},[e("td",me,[e("div",xe,[e("div",ge,[a[4]||(a[4]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-100"}," Reference # ",-1)),e("span",ue,l(((x=t.delivery_request)==null?void 0:x.reference_number)||"DR-"+(((g=t.delivery_request)==null?void 0:g.id)??t.id).toString().padStart(6,"0")),1)]),e("div",fe,[e("span",null," Order ID: DO-"+l(t.id.toString().padStart(6,"0")),1),(u=t.delivery_request)!=null&&u.created_at?(r(),d("span",ve," | Created: "+l(H(t.delivery_request.created_at)),1)):o("",!0),(f=t.delivery_request)!=null&&f.status?(r(),d("span",_e)):o("",!0)])])]),e("td",he,l(((_=(v=t.delivery_request)==null?void 0:v.sender)==null?void 0:_.name)||((k=(h=t.delivery_request)==null?void 0:h.sender)==null?void 0:k.company_name)||((b=(w=t.delivery_request)==null?void 0:w.receiver)==null?void 0:b.name)||((C=(q=t.delivery_request)==null?void 0:q.receiver)==null?void 0:C.company_name)||"N/A"),1),e("td",ke,[e("span",{class:W(["cash","gcash","bank"].includes((((S=t.delivery_request)==null?void 0:S.payment_method)||((O=t.delivery_request)==null?void 0:O.payment_type)||"").toLowerCase())?"px-2 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"px-2 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200")},l((((R=t.delivery_request)==null?void 0:R.payment_type)||((P=t.delivery_request)==null?void 0:P.payment_method)||"N/A").toUpperCase()),3),(V=t.delivery_request)!=null&&V.payment_status?(r(),d("span",we,[n(M,{payment:t.delivery_request.payment,delivery:t.delivery_request},null,8,["payment","delivery"])])):o("",!0)]),e("td",be,l(((N=(A=t.delivery_request)==null?void 0:A.drop_off_region)==null?void 0:N.name)||"N/A"),1),e("td",qe,[e("div",Ce,[n(Y,{onClick:j=>Q(t.id),class:"inline-flex items-center",title:"Release Packages",style:{"padding-left":"0.75rem","padding-right":"0.75rem"}},{default:D(()=>a[5]||(a[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12V7a2 2 0 00-2-2H6a2 2 0 00-2 2v5m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0H4"})],-1),B(" Release ")])),_:2},1032,["onClick"])])])])}),128)),!((U=i.orders)!=null&&U.data)||i.orders.data.length===0?(r(),d("tr",Se,a[6]||(a[6]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," No orders ready for release ",-1)]))):o("",!0)])])]),n(L,{pagination:i.orders,onPageChanged:G},null,8,["pagination"])]),e("div",Oe,[a[13]||(a[13]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Completed Releases "),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," All delivery orders that have been fully released and marked as completed. You can view the details of each completed release. ")])],-1)),e("div",Re,[e("table",Pe,[a[12]||(a[12]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Reference # "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Customer "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Payment "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Destination "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ve,[(r(!0),d(I,null,F((($=i.completedOrders)==null?void 0:$.data)||[],t=>{var x,g,u,f,v,_,h,k,w,b,q,C,S,O,R,P,V,A;return r(),d("tr",{key:t.id},[e("td",Ae,[e("div",De,[e("div",Ne,[a[9]||(a[9]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-100"}," Reference # ",-1)),e("span",je,l(((x=t.delivery_request)==null?void 0:x.reference_number)||"DR-"+(((g=t.delivery_request)==null?void 0:g.id)??t.id).toString().padStart(6,"0")),1)]),e("div",Be,[e("span",null," Order ID: DO-"+l(t.id.toString().padStart(6,"0")),1),(u=t.delivery_request)!=null&&u.created_at?(r(),d("span",Te," | Created: "+l(H(t.delivery_request.created_at)),1)):o("",!0)])])]),e("td",He,l(((v=(f=t.delivery_request)==null?void 0:f.sender)==null?void 0:v.name)||((h=(_=t.delivery_request)==null?void 0:_.sender)==null?void 0:h.company_name)||((w=(k=t.delivery_request)==null?void 0:k.receiver)==null?void 0:w.name)||((q=(b=t.delivery_request)==null?void 0:b.receiver)==null?void 0:q.company_name)||"N/A"),1),e("td",Ue,[e("span",{class:W(["cash","gcash","bank"].includes((((C=t.delivery_request)==null?void 0:C.payment_method)||((S=t.delivery_request)==null?void 0:S.payment_type)||"").toLowerCase())?"px-2 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"px-2 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200")},l((((O=t.delivery_request)==null?void 0:O.payment_type)||((R=t.delivery_request)==null?void 0:R.payment_method)||"N/A").toUpperCase()),3),(P=t.delivery_request)!=null&&P.payment_status?(r(),d("span",$e,[n(M,{payment:t.delivery_request.payment,delivery:t.delivery_request},null,8,["payment","delivery"])])):o("",!0)]),e("td",ze,l(((A=(V=t.delivery_request)==null?void 0:V.drop_off_region)==null?void 0:A.name)||"N/A"),1),e("td",Le,[e("div",Me,[n(ae,{onClick:N=>{var j;return X((j=t.delivery_request)==null?void 0:j.id)},class:"inline-flex items-center",title:"View",style:{"padding-left":"0.75rem","padding-right":"0.75rem"}},{default:D(()=>a[10]||(a[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),B(" View ")])),_:2},1032,["onClick"])])])])}),128)),!((z=i.completedOrders)!=null&&z.data)||i.completedOrders.data.length===0?(r(),d("tr",Ee,a[11]||(a[11]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," No completed releases ",-1)]))):o("",!0)])])]),n(L,{pagination:i.completedOrders,onPageChanged:K},null,8,["pagination"])])])]}),_:1}))}};export{st as default};
