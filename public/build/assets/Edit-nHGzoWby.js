import{C as S,d as T,o as r,w as v,b as o,c as u,e as f,t as p,s as U,a as n,u as e,W as b,f as k}from"./app-AKIpI5kC.js";import{E as C}from"./EmployeeLayout-BOs8DfTq.js";import{_ as $}from"./PrimaryButton-C4c8jBYk.js";import{_ as y}from"./SecondaryButton-piyuntTR.js";import{_ as d}from"./InputLabel-C8m8AA1I.js";import{T as g}from"./TextInput-BuJEjECB.js";import{S as x}from"./SelectInput-Cl2C_FMi.js";import{_ as V}from"./TextArea-CJ6eL6IV.js";import{_ as m}from"./InputError-O10pyaQH.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BIDGqMa0.js";import"./DangerButton-ttTomH3t.js";/* empty css                                                                  */const I={class:"flex justify-between items-center w-full px-6 md:px-8"},N={class:"text-xl font-semibold leading-tight text-gray-800"},h={class:"flex gap-2"},q={class:"zoom-content"},B={class:"px-6 py-4"},D={key:0,class:"mb-4"},O={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},j={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},M={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-6 bg-white border-b border-gray-200"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={class:"md:col-span-2"},L={class:"md:col-span-2"},P={class:"md:col-span-2"},F={class:"mt-6 flex justify-end space-x-3"},G={key:0},H={key:1},J={__name:"Edit",props:{truck:Object,maintenance:Object,maintenanceTypes:{type:Array,default:()=>[{value:"routine",text:"Routine Maintenance"},{value:"repair",text:"Repair"},{value:"component_replacement",text:"Component Replacement"},{value:"inspection",text:"Inspection"}]},status:String,success:String,error:String},setup(a){var _;const i=a,t=S({maintenance_date:((_=i.maintenance.maintenance_date)==null?void 0:_.split("T")[0])||new Date().toISOString().split("T")[0],type:i.maintenance.type||"routine",service_details:i.maintenance.service_details||"",cost:i.maintenance.cost?String(i.maintenance.cost):"",service_provider:i.maintenance.service_provider||"",notes:i.maintenance.notes||"",component_id:i.maintenance.component_id||null}),w=()=>{t.transform(c=>({...c,cost:c.cost?Number(c.cost):0})).put(route("admin.trucks.maintenance.update",{truck:i.truck.id,maintenance:i.maintenance.id}),{preserveScroll:!0})};return(c,s)=>(r(),T(C,null,{header:v(()=>[o("div",I,[o("div",null,[o("h2",N," Edit Maintenance - "+p(a.truck.make)+" "+p(a.truck.model)+" ("+p(a.truck.license_plate)+") ",1),s[9]||(s[9]=o("p",{class:"mt-1 text-sm text-gray-500"}," Update maintenance record details ",-1))]),o("div",h,[n(y,{onClick:s[0]||(s[0]=l=>e(b).get(c.route("admin.trucks.show",a.truck.id)))},{default:v(()=>s[10]||(s[10]=[k(" Back to Truck ")])),_:1})])])]),default:v(()=>[o("div",q,[o("div",B,[a.status||a.success||a.error?(r(),u("div",D,[a.status?(r(),u("div",O,p(a.status),1)):f("",!0),a.success?(r(),u("div",j,p(a.success),1)):f("",!0),a.error?(r(),u("div",M,p(a.error),1)):f("",!0)])):f("",!0),o("div",R,[o("div",W,[o("form",{onSubmit:U(w,["prevent"])},[o("div",z,[o("div",null,[n(d,{for:"maintenance_date",value:"Date *"}),n(g,{id:"maintenance_date",type:"date",class:"mt-1 block w-full",modelValue:e(t).maintenance_date,"onUpdate:modelValue":s[1]||(s[1]=l=>e(t).maintenance_date=l),required:"",max:new Date().toISOString().split("T")[0]},null,8,["modelValue","max"]),n(m,{class:"mt-2",message:e(t).errors.maintenance_date},null,8,["message"])]),o("div",null,[n(d,{for:"type",value:"Type *"}),n(x,{id:"type",modelValue:e(t).type,"onUpdate:modelValue":s[2]||(s[2]=l=>e(t).type=l),options:a.maintenanceTypes,"option-value":"value","option-label":"text",class:"mt-1 block w-full",required:""},null,8,["modelValue","options"]),n(m,{class:"mt-2",message:e(t).errors.type},null,8,["message"])]),o("div",null,[n(d,{for:"service_provider",value:"Service Provider *"}),n(g,{id:"service_provider",type:"text",class:"mt-1 block w-full",modelValue:e(t).service_provider,"onUpdate:modelValue":s[3]||(s[3]=l=>e(t).service_provider=l),required:""},null,8,["modelValue"]),n(m,{class:"mt-2",message:e(t).errors.service_provider},null,8,["message"])]),o("div",null,[n(d,{for:"cost",value:"Cost *"}),n(g,{id:"cost",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:e(t).cost,"onUpdate:modelValue":s[4]||(s[4]=l=>e(t).cost=l),required:""},null,8,["modelValue"]),n(m,{class:"mt-2",message:e(t).errors.cost},null,8,["message"])]),o("div",A,[n(d,{for:"component_id",value:"Related Component (Optional)"}),n(x,{id:"component_id",modelValue:e(t).component_id,"onUpdate:modelValue":s[5]||(s[5]=l=>e(t).component_id=l),options:a.truck.components,"option-value":"id","option-label":"name",class:"mt-1 block w-full"},null,8,["modelValue","options"]),n(m,{class:"mt-2",message:e(t).errors.component_id},null,8,["message"])]),o("div",L,[n(d,{for:"service_details",value:"Service Details *"}),n(V,{id:"service_details",class:"mt-1 block w-full",modelValue:e(t).service_details,"onUpdate:modelValue":s[6]||(s[6]=l=>e(t).service_details=l),required:"",rows:4},null,8,["modelValue"]),n(m,{class:"mt-2",message:e(t).errors.service_details},null,8,["message"])]),o("div",P,[n(d,{for:"notes",value:"Notes"}),n(V,{id:"notes",class:"mt-1 block w-full",modelValue:e(t).notes,"onUpdate:modelValue":s[7]||(s[7]=l=>e(t).notes=l),rows:3},null,8,["modelValue"]),n(m,{class:"mt-2",message:e(t).errors.notes},null,8,["message"])])]),o("div",F,[n(y,{type:"button",onClick:s[8]||(s[8]=l=>e(b).get(c.route("admin.trucks.maintenance.index",a.truck.id)))},{default:v(()=>s[11]||(s[11]=[k(" Cancel ")])),_:1}),n($,{type:"submit",disabled:e(t).processing},{default:v(()=>[e(t).processing?(r(),u("span",G,"Updating...")):(r(),u("span",H,"Update Maintenance"))]),_:1},8,["disabled"])])],32)])])])])]),_:1}))}},re=E(J,[["__scopeId","data-v-e3e55f97"]]);export{re as default};
