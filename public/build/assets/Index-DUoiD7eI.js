import{E as L}from"./EmployeeLayout-BQLa5PLV.js";import{_ as S}from"./PrimaryButton-z6gddSkS.js";import{_ as k}from"./SecondaryButton-BDpVYXxA.js";import{D as A}from"./DangerButton-DlTel5kP.js";import{_ as O}from"./SearchInput-BHbkz-wy.js";import{S as W}from"./SelectInput-f4kpY-DU.js";import{_ as z}from"./DataTable-C_2NMP2T.js";import{M as J}from"./Modal-Oa0ozw3w.js";import{g as u,i as P,d as T,o as r,w as o,b as s,a as i,c as d,e as b,t as l,f as c,u as U,n as q,q as G,W as m}from"./app-B0R_bMJi.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as K}from"./MapPinIcon-DoT6zZtf.js";import"./NavLink-BchASNUp.js";/* empty css                                                                    */const Q={class:"flex justify-between items-center px-6"},X={class:"flex space-x-2"},Y={class:"px-6 sm:px-8"},Z={key:0,class:"mb-6"},ee={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},te={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},se={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},oe={class:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 w-full mx-auto"},ae={class:"flex flex-wrap gap-2 w-full md:w-auto"},ie={class:"flex justify-center"},le={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-center"},ne={class:"p-5 bg-white border-b border-gray-200"},re={class:"truncate block w-48"},de={class:"flex items-center"},ce={class:"text-sm"},ue={class:"truncate block w-48"},me={class:"flex items-center"},fe={key:0},ve={key:1},ge={class:"flex space-x-2 min-w-[200px]"},_e={class:"p-6"},he={class:"mt-1 text-sm text-gray-600"},xe={class:"mt-6 flex justify-end space-x-4"},pe={key:0},be={key:1},we={__name:"Index",props:{regions:Array,status:String,success:String,error:String},setup(n){const V=n,h=u(""),x=u("active"),f=u("created_at"),v=u("desc"),w=u(!1),g=u(null),p=u(!1),F=[{value:"active",text:"Active"},{value:"inactive",text:"Inactive"}],N=[{field:"name",header:"Name",sortable:!0},{field:"color_hex",header:"Color",sortable:!1},{field:"warehouse_address",header:"Warehouse Address",sortable:!1},{field:"status",header:"Status",sortable:!0},{field:"actions",header:"Actions",sortable:!1}],R=P(()=>V.regions.filter(a=>{const t=h.value===""||a.name.toLowerCase().includes(h.value.toLowerCase()),e=x.value===""||(x.value==="active"?a.is_active:!a.is_active);return t&&e}).sort((a,t)=>{const e=v.value==="asc"?1:-1;return a[f.value]<t[f.value]?-1*e:1*e}));function $(a){f.value===a?v.value=v.value==="asc"?"desc":"asc":(f.value=a,v.value="asc")}function D(){m.get(route("admin.regions.create"))}function I(a){m.get(route("admin.regions.show",a))}function j(a){m.get(route("admin.regions.edit",a))}function B(){m.get(route("admin.regions.archived"))}function E(a){g.value=a,w.value=!0}function y(){w.value=!1,g.value=null,p.value=!1}function M(){g.value&&(p.value=!0,m.put(route("admin.regions.archive",g.value.id),{},{preserveScroll:!0,onSuccess:()=>m.reload({only:["regions"]}),onError:()=>alert("Failed to archive region"),onFinish:()=>y()}))}return(a,t)=>(r(),T(L,null,{header:o(()=>[s("div",Q,[t[4]||(t[4]=s("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Region Management",-1)),s("div",X,[i(S,{onClick:D},{default:o(()=>t[2]||(t[2]=[c("Add New Region")])),_:1}),i(k,{onClick:B},{default:o(()=>t[3]||(t[3]=[c("View Disabled")])),_:1})])])]),default:o(()=>[s("div",Y,[n.status||n.success||n.error?(r(),d("div",Z,[n.status?(r(),d("div",ee,l(n.status),1)):b("",!0),n.success?(r(),d("div",te,l(n.success),1)):b("",!0),n.error?(r(),d("div",se,l(n.error),1)):b("",!0)])):b("",!0),s("div",oe,[i(O,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),placeholder:"Search regions...",class:"w-full md:w-72"},null,8,["modelValue"]),s("div",ae,[i(W,{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=e=>x.value=e),options:F,"option-value":"value","option-label":"text",placeholder:"Filter by status",class:"w-full md:w-48"},null,8,["modelValue"])])]),s("div",ie,[s("div",le,[s("div",ne,[i(z,{columns:N,data:R.value,"sort-field":f.value,"sort-direction":v.value,onSort:$,class:"w-full"},{name:o(({row:e})=>[s("span",re,l(e.name),1)]),color_hex:o(({row:e})=>[s("div",de,[s("div",{class:"w-4 h-4 rounded-full mr-2 border border-gray-300",style:G({backgroundColor:e.color_hex})},null,4),s("span",ce,l(e.color_hex),1)])]),warehouse_address:o(({row:e})=>[s("span",ue,l(e.warehouse_address||"N/A"),1)]),status:o(({row:e})=>[s("span",{class:q([[e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"],"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(e.is_active?"Active":"Inactive"),3)]),geographic_location:o(({row:e})=>{var _,C;return[s("div",me,[i(U(K),{class:"h-4 w-4 mr-1 text-gray-400"}),typeof e.geographic_location=="object"?(r(),d("span",fe,l((_=e.geographic_location.latitude)==null?void 0:_.toFixed(4))+", "+l((C=e.geographic_location.longitude)==null?void 0:C.toFixed(4)),1)):(r(),d("span",ve,l(JSON.parse(e.geographic_location).latitude.toFixed(4))+", "+l(JSON.parse(e.geographic_location).longitude.toFixed(4)),1))])]}),actions:o(({row:e})=>[s("div",ge,[i(k,{onClick:_=>I(e.id)},{default:o(()=>t[5]||(t[5]=[c("View")])),_:2},1032,["onClick"]),i(S,{onClick:_=>j(e.id)},{default:o(()=>t[6]||(t[6]=[c("Edit")])),_:2},1032,["onClick"]),i(A,{onClick:_=>E(e)},{default:o(()=>t[7]||(t[7]=[c("Disable")])),_:2},1032,["onClick"])])]),_:1},8,["data","sort-field","sort-direction"])])])])]),i(J,{show:w.value,onClose:y},{default:o(()=>{var e;return[s("div",_e,[t[11]||(t[11]=s("h2",{class:"text-lg font-medium text-gray-900"},"Archive Region?",-1)),s("p",he,[t[8]||(t[8]=c(" Are you sure you want to archive ")),s("strong",null,l((e=g.value)==null?void 0:e.name),1),t[9]||(t[9]=c("? "))]),s("div",xe,[i(k,{onClick:y},{default:o(()=>t[10]||(t[10]=[c("Cancel")])),_:1}),i(A,{onClick:M,disabled:p.value},{default:o(()=>[p.value?(r(),d("span",pe,"Processing...")):(r(),d("span",be,"Archive"))]),_:1},8,["disabled"])])])]}),_:1},8,["show"])]),_:1}))}},Be=H(we,[["__scopeId","data-v-47de1f57"]]);export{Be as default};
