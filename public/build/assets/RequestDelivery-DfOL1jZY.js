import{i as te,g as M,h as ie,j as at,Q as nt,c as u,o as i,b as e,W as ee,C as Ft,d as Me,w as I,e as f,t as m,n as v,F as U,r as z,f as n,a,u as o,v as O,L as W,M as Nt,P as It,l as H}from"./app-BOCrhSfO.js";import{_ as Lt}from"./GuestLayout-Bmew_7hi.js";import{_ as y}from"./InputLabel-ByB8oFns.js";import{T as k}from"./TextInput-fgBIPllX.js";import{_ as b}from"./InputError-D12BKN4o.js";import{_ as ae}from"./PrimaryButton-7U4Qu6md.js";import{_ as ge}from"./SecondaryButton-BoCxbQ9w.js";import{S as ve}from"./SelectInput-BaEQ9Gfo.js";import{L as ne}from"./leaflet-src-CJK7rgcM.js";import{_ as Dt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DsrNUkqS.js";import"./NavBar-ByZU6fph.js";import"./DropdownLink-vABlD6WO.js";import"./XCircleIcon-Cn1mNIqH.js";import"./CheckCircleIcon-Dbb38Iy-.js";import"./ExclamationTriangleIcon-bsFJTzra.js";import"./InformationCircleIcon-DPlpC7PP.js";import"./TruckIcon-D8KGEWsD.js";/* empty css                                                                  */const Tt={key:1,class:"w-full h-full bg-gray-100 rounded flex items-center justify-center text-gray-500 text-sm"},Ot={__name:"LeafletMap",props:{latitude:{type:Number,default:null},longitude:{type:Number,default:null},regionName:{type:String,default:"Location"},zoom:{type:Number,default:15},height:{type:String,default:"200px"}},setup(fe){delete ne.Icon.Default.prototype._getIconUrl,ne.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const E=fe,N=te(()=>E.latitude!==null&&E.latitude!==void 0&&E.longitude!==null&&E.longitude!==void 0&&!isNaN(E.latitude)&&!isNaN(E.longitude)),G=M(null);let L=null,se=null;const ye=()=>{!G.value||!N.value||(L=ne.map(G.value).setView([E.latitude,E.longitude],E.zoom),ne.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(L),se=ne.marker([E.latitude,E.longitude]).addTo(L).bindPopup(`<strong>${E.regionName}</strong><br>Branch Location`).openPopup())},B=()=>{L&&N.value&&(L.setView([E.latitude,E.longitude],E.zoom),se&&se.setLatLng([E.latitude,E.longitude]).bindPopup(`<strong>${E.regionName}</strong><br>Branch Location`).openPopup())};return ie(()=>[E.latitude,E.longitude],()=>{N.value&&B()}),at(()=>{N.value&&ye()}),nt(()=>{L&&L.remove()}),(Y,Q)=>N.value?(i(),u("div",{key:0,ref_key:"mapContainer",ref:G,class:"w-full h-full rounded"},null,512)):(i(),u("div",Tt,Q[0]||(Q[0]=[e("div",{class:"text-center"},[e("svg",{class:"w-8 h-8 mx-auto mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",null,"Map unavailable"),e("p",{class:"text-xs"},"Location coordinates not available")],-1)])))}},ot=Dt(Ot,[["__scopeId","data-v-84524ade"]]),At={class:"min-h-screen bg-gray-50 py-8"},Wt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ht={key:0,class:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"},Gt={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},Qt={class:"mb-8"},Zt={class:"flex items-center justify-between"},Yt={class:"flex justify-between mt-2 text-sm text-gray-600"},Xt={class:"mb-8"},Kt={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Jt={class:"text-sm text-blue-700 mt-1"},es=["href"],ts={key:1,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},ss={key:2,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},rs={key:3,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},ls={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},os={key:0,class:"space-y-6"},as={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ns={class:"lg:col-span-2 space-y-6"},is={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"},ds={class:"flex items-center"},us={class:"flex items-center"},ms={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},cs={key:0,class:"space-y-2"},ps={class:"space-y-6"},gs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},vs={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},fs={class:"lg:col-span-1 space-y-6"},ys={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},bs={class:"font-semibold text-blue-800 mb-3 flex items-center"},hs={class:"space-y-2"},_s={class:"text-sm text-blue-700"},xs={key:0,class:"text-sm text-blue-700"},ws={key:1,class:"text-sm text-blue-700"},ks={class:"mt-4"},Ps={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 h-48 flex items-center justify-center"},Cs={class:"flex justify-end pt-6"},Vs={key:1,class:"space-y-6"},Es={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},qs={class:"mt-2"},Ms=["value"],Bs={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Rs={class:"lg:col-span-2 space-y-6"},Ss={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"},js={class:"flex items-center"},$s=["value"],Us={class:"ml-3 text-sm font-medium text-gray-900"},zs={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Fs={key:0,class:"space-y-2"},Ns={class:"space-y-6"},Is={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ls={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ds={class:"lg:col-span-1 space-y-6"},Ts={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Os={class:"font-semibold text-blue-800 mb-3 flex items-center"},As={class:"space-y-2"},Ws={class:"text-sm text-blue-700"},Hs={key:0,class:"text-sm text-blue-700"},Gs={key:1,class:"text-sm text-blue-700"},Qs={class:"mt-4"},Zs={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 h-48 flex items-center justify-center"},Ys={class:"flex justify-between pt-6"},Xs={key:2,class:"space-y-6"},Ks={class:"flex items-center justify-between"},Js={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},er={class:"lg:col-span-1 space-y-6"},tr={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},sr={key:0,class:"text-sm text-yellow-700 mt-2"},rr={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},lr={key:0,class:"text-sm text-blue-700 mt-2 space-y-2"},or={class:"bg-green-50 border border-green-200 rounded-lg p-4"},ar={key:0,class:"text-sm text-green-700 mt-2 space-y-2"},nr={class:"lg:col-span-3 space-y-6"},ir={class:"flex items-center justify-between"},dr={class:"text-lg font-medium text-gray-900"},ur={class:"flex space-x-2"},mr=["onClick"],cr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pr={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2"},gr=["onUpdate:modelValue","value","onChange"],vr={class:"flex flex-col items-center"},fr={class:"w-12 h-12 mb-2 flex items-center justify-center"},yr=["src","alt"],br={key:1,class:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center"},hr={class:"text-xs font-medium text-gray-900"},_r={class:"text-xs text-gray-500 mt-1"},xr={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},wr={key:0,class:"text-xs text-gray-500 mt-1"},kr={key:0,class:"text-xs text-gray-500 mt-1"},Pr={key:0,class:"text-xs text-gray-500 mt-1"},Cr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vr={class:"mt-2"},Er=["onChange"],qr={class:"text-xs text-gray-500 mt-1"},Mr={key:0,class:"font-semibold"},Br={key:1,class:"font-semibold"},Rr={key:0,class:"mt-2 bg-yellow-50 border border-yellow-200 rounded-lg p-3"},Sr={key:0,class:"mt-3"},jr={class:"flex flex-wrap gap-3 mb-3"},$r=["src","alt"],Ur={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-1 text-center rounded-b-lg"},zr=["onClick"],Fr={class:"flex items-center justify-between text-sm text-gray-600 bg-gray-50 rounded-lg p-3"},Nr={class:"flex items-center space-x-2"},Ir={class:"font-semibold"},Lr={class:"text-blue-600 font-medium"},Dr={class:"flex gap-3"},Tr=["onClick"],Or={key:1,class:"mt-2 bg-blue-50 border border-blue-200 rounded-lg p-2"},Ar={class:"text-xs text-blue-700"},Wr={class:"block ml-2 mt-1"},Hr={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4 mt-6"},Gr={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},Qr={class:"font-semibold text-green-800"},Zr={class:"font-semibold text-green-800"},Yr={class:"font-semibold text-green-800"},Xr={class:"font-semibold text-green-800"},Kr={class:"mt-3 pt-3 border-t border-green-200"},Jr={class:"flex justify-between items-center"},el={class:"text-xl font-bold text-green-800"},tl={class:"flex justify-between pt-6"},sl={key:3},rl={key:0,class:"space-y-6"},ll={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ol={class:"text-center py-8"},al={class:"text-gray-500 mb-8"},nl={class:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6 mb-8 text-left max-w-4xl mx-auto"},il={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},dl={class:"bg-white rounded-lg p-4 border border-green-100"},ul={class:"flex items-center space-x-3"},ml={class:"font-semibold text-green-700"},cl={class:"bg-white rounded-lg p-4 border border-green-100"},pl={class:"flex items-center space-x-3"},gl={class:"font-semibold text-green-700"},vl={class:"bg-white rounded-lg p-4 border border-green-100 mb-6"},fl={class:"space-y-2"},yl={class:"flex justify-between items-center py-2"},bl={class:"text-sm text-gray-600"},hl={class:"text-green-600 font-semibold"},_l={class:"font-medium text-gray-900"},xl={class:"text-sm text-gray-600"},wl={class:"text-green-600 font-semibold"},kl={class:"bg-white rounded-lg p-4 border border-green-100"},Pl={key:0,class:"space-y-3"},Cl={class:"flex justify-between text-sm"},Vl={class:"text-xs text-gray-500"},El={class:"block text-purple-600 font-semibold"},ql={class:"text-right"},Ml={class:"font-medium"},Bl={class:"text-xs text-gray-500"},Rl={class:"flex justify-between text-sm"},Sl={class:"text-xs text-gray-500"},jl={class:"block text-purple-600 font-semibold"},$l={key:0,class:"block text-green-600 font-semibold"},Ul={class:"text-right"},zl={class:"font-medium"},Fl={class:"text-xs text-gray-500"},Nl={class:"flex justify-between text-sm"},Il={class:"text-xs text-gray-500"},Ll={class:"block text-purple-600 font-semibold"},Dl={key:0,class:"block text-orange-600 font-semibold"},Tl={class:"text-right"},Ol={class:"font-medium"},Al={class:"text-xs text-gray-500"},Wl={class:"flex justify-between text-sm"},Hl={class:"text-xs text-gray-500"},Gl={class:"block text-purple-600 font-semibold"},Ql={key:0,class:"block text-blue-600 font-semibold"},Zl={class:"text-right"},Yl={class:"font-medium"},Xl={class:"text-xs text-gray-500"},Kl={key:0,class:"bg-gray-50 rounded-lg p-3 mt-2 border border-gray-200"},Jl={class:"space-y-2 text-xs"},eo={class:"flex-1"},to={class:"font-medium text-gray-700"},so={class:"text-gray-500"},ro={class:"text-right"},lo={class:"font-semibold text-blue-600"},oo={class:"text-gray-500"},ao={class:"border-t border-gray-300 pt-2 mt-2 flex justify-between font-semibold text-gray-700"},no={class:"bg-blue-50 rounded-lg p-3 border border-blue-200 mt-3"},io={class:"grid grid-cols-2 gap-2 text-xs"},uo={class:"text-blue-600"},mo={class:"text-blue-600"},co={class:"text-blue-600"},po={class:"text-blue-600"},go={class:"border-t border-green-200 pt-3 mt-3"},vo={class:"flex justify-between items-center"},fo={key:0,class:"text-xs text-gray-600"},yo={class:"text-right"},bo={class:"text-xl font-bold text-green-800"},ho={class:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8 text-left max-w-4xl mx-auto"},_o={class:"space-y-4 text-sm text-blue-700"},xo={key:0,class:"flex items-start"},wo={key:1,class:"flex items-start"},ko={key:2,class:"flex items-start"},Po={key:3,class:"flex items-start"},Co={key:4,class:"flex items-start"},Vo={key:5,class:"flex items-start"},Eo={key:6,class:"flex items-start"},qo={key:7,class:"flex items-start"},Mo={key:0},Bo={key:1},Ro={key:2},So={key:3},jo={key:8,class:"flex items-start"},$o={key:9,class:"flex items-start"},Uo={class:"flex items-start"},zo={class:"flex flex-col sm:flex-row gap-4 justify-center"},Fo=["href"],No={key:1,class:"space-y-6"},Io={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Lo={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Do={class:"lg:col-span-2 space-y-6"},To={class:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6"},Oo={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Ao={class:"bg-white rounded-lg p-4 border border-green-100"},Wo={class:"flex items-center space-x-3"},Ho={class:"font-semibold text-green-700"},Go={class:"bg-white rounded-lg p-4 border border-green-100"},Qo={class:"flex items-center space-x-3"},Zo={class:"font-semibold text-green-700"},Yo={class:"bg-white rounded-lg p-4 border border-green-100 mb-6"},Xo={class:"space-y-2"},Ko={class:"flex justify-between items-center py-2"},Jo={class:"text-sm text-gray-600"},ea={class:"text-green-600 font-semibold"},ta={class:"font-medium text-gray-900"},sa={class:"text-sm text-gray-600"},ra={class:"text-green-600 font-semibold"},la={class:"bg-white rounded-lg p-4 border border-green-100"},oa={key:0,class:"space-y-3"},aa={class:"flex justify-between text-sm"},na={class:"text-xs text-gray-500"},ia={class:"block text-purple-600 font-semibold"},da={class:"text-right"},ua={class:"font-medium"},ma={class:"text-xs text-gray-500"},ca={class:"flex justify-between text-sm"},pa={class:"text-xs text-gray-500"},ga={class:"block text-purple-600 font-semibold"},va={class:"text-right"},fa={class:"font-medium"},ya={class:"text-xs text-gray-500"},ba={class:"flex justify-between text-sm"},ha={class:"text-xs text-gray-500"},_a={class:"block text-purple-600 font-semibold"},xa={class:"text-right"},wa={class:"font-medium"},ka={class:"text-xs text-gray-500"},Pa={class:"flex justify-between text-sm"},Ca={class:"text-xs text-gray-500"},Va={class:"block text-purple-600 font-semibold"},Ea={class:"text-right"},qa={class:"font-medium"},Ma={class:"text-xs text-gray-500"},Ba={class:"border-t border-green-200 pt-3 mt-3"},Ra={class:"flex justify-between items-center pt-3 border-t border-green-200"},Sa={class:"text-right"},ja={class:"text-xl font-bold text-green-800"},$a={class:"text-xs text-gray-500"},Ua={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},za={class:"mb-4"},Fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"},Na={class:"flex items-center"},Ia=["value"],La={class:"ml-3 text-sm font-medium text-gray-900"},Da={class:"mb-4"},Ta={key:0,class:"mt-3"},Oa=["src"],Aa={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Wa={key:1,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Ha={key:2,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Ga={key:3,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Qa={class:"space-y-4 text-sm text-blue-700"},Za={class:"flex items-start"},Ya={key:0},Xa={key:1},Ka={key:2},Ja={key:3},en={key:4},tn={key:4,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},sn={class:"lg:col-span-1"},rn={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-6"},ln={class:"mb-6"},on={class:"space-y-3 mt-2"},an={class:"flex items-start w-full"},nn=["value"],dn={class:"ml-3 flex-1 min-w-0"},un={class:"text-sm font-medium text-gray-900 block"},mn={key:0,class:"text-xs text-green-600 mt-1"},cn={key:1,class:"text-xs text-gray-500 mt-1"},pn={key:0,class:"mb-6"},gn={class:"space-y-3 mt-2"},vn={class:"flex items-start w-full"},fn=["value"],yn={class:"ml-3 flex-1 min-w-0"},bn={class:"text-sm font-medium text-gray-900 block"},hn={class:"text-xs text-gray-500 mt-1"},_n={key:0},xn={key:1},wn={key:2},kn={key:1,class:"mb-6"},Pn={class:"space-y-3 mt-2"},Cn={class:"flex items-start w-full"},Vn=["value"],En={class:"ml-3 flex-1 min-w-0"},qn={class:"text-sm font-medium text-gray-900 block"},Mn={class:"text-xs text-gray-500 mt-1"},Bn={key:0},Rn={key:1},Sn={key:2},jn={key:3},$n={class:"flex justify-between pt-6"},Un={key:0,class:"flex items-center"},zn={key:1},si={__name:"RequestDelivery",props:{authCustomer:Object,categories:Array,regions:Array,priceMatrix:Object},setup(fe){var Ae,We,He,Ge,Qe,Ze,Ye,Xe,Ke,Je,et,tt,st,rt;const E=[{value:"gcash",label:"GCash"},{value:"bank",label:"Bank Transfer"}],N=M([]),G=M(""),L=async()=>{try{const r=await H.get(route("customer.delivery-requests.past-receivers"));N.value=r.data,console.log("ðŸ“‹ Loaded past receivers:",N.value.length)}catch(r){console.error("Failed to fetch past receivers:",r),N.value=[]}},se=r=>{if(!r){s.receiver={customer_category:"individual",first_name:"",middle_name:"",last_name:"",company_name:"",email:"",mobile:"",phone:"",building_number:"",street:"",barangay:"",city:"",province:"",zip_code:"",notes:""};return}const t=N.value.find(d=>d.id==r);t&&(s.receiver={customer_category:t.customer_category||"individual",first_name:t.first_name||"",middle_name:t.middle_name||"",last_name:t.last_name||"",company_name:t.company_name||"",email:t.email||"",mobile:t.mobile||"",phone:t.phone||"",building_number:t.building_number||"",street:t.street||"",barangay:t.barangay||"",city:t.city||"",province:t.province||"",zip_code:t.zip_code||"",notes:""},console.log("âœ… Prefilled receiver details:",t.display_name))};ee.on("before",r=>{console.log("ðŸ”„ Inertia BEFORE event:",r)}),ee.on("start",r=>{console.log("ðŸš€ Inertia START event:",r)}),ee.on("progress",r=>{console.log("ðŸ“Š Inertia PROGRESS event:",r)}),ee.on("success",r=>{console.log("âœ… Inertia SUCCESS event:",r),console.log("   Page:",r.detail.page),console.log("   URL:",window.location.href)}),ee.on("error",r=>{console.log("âŒ Inertia ERROR event:",r)}),ee.on("finish",r=>{console.log("ðŸ Inertia FINISH event:",r),console.log("   Current URL:",window.location.href)}),window.addEventListener("popstate",r=>{console.log("ðŸ§­ Browser history changed:",r),console.log("   Current URL:",window.location.href)});const ye=r=>{s.clearErrors(`packages.${r}.photos`),me.value[r]=!1},B=fe;M(1);const Y=M([]);M(!0);const Q=M(!0),de=M(!0),ue=M(!0),me=M({}),re=M([]),it=te(()=>{const r=re.value.map(t=>({label:t.dimensions&&t.dimensions.length&&t.dimensions.height&&t.dimensions.width?`${t.name} (L ${t.dimensions.length}cm Ã— H ${t.dimensions.height}cm Ã— W ${t.dimensions.width}cm)`:t.name,value:t.id,dimensions:t.dimensions||null,category:t.code,image:t.image_url||"/images/presets/default.png",is_custom:t.code==="custom",original_category:t}));return r.find(t=>t.is_custom)||r.push({label:"Custom Size",value:"custom",dimensions:null,category:"C/S",image:"/images/presets/custom.png",is_custom:!0}),r}),Be=r=>{const t=parseFloat(r.length)/100,d=parseFloat(r.height)/100,c=parseFloat(r.width)/100,h=parseInt(r.quantity)||1;return t*d*c*h},be=()=>s.packages.reduce((r,t)=>r+Be(t),0),he=()=>s.packages.reduce((r,t)=>{const d=parseFloat(t.weight)||0,c=parseInt(t.quantity)||1;return r+d*c},0),dt=()=>{if(s.packages.length<=1)return!1;const r=s.packages.map(d=>d.weight);return[...new Set(r)].length>1},ut=async()=>{try{const r=await H.get("/package-categories");re.value=r.data.categories||[],console.log("ðŸ“¦ Loaded package categories:",re.value.length)}catch(r){console.error("Failed to fetch package categories:",r),re.value=mt()}},mt=()=>[{id:1,name:"Small Pouch",code:"piece",description:"Small documents and letters",dimensions:{length:25,height:1,width:15},image_url:"/images/presets/small_pouch.png",is_active:!0,sort_order:1},{id:2,name:"Medium Box",code:"carton",description:"Standard medium-sized boxes",dimensions:{length:30,height:20,width:25},image_url:"/images/presets/medium_box.png",is_active:!0,sort_order:2},{id:3,name:"Large Box",code:"carton",description:"Large boxes for bigger items",dimensions:{length:50,height:35,width:40},image_url:"/images/presets/large_box.png",is_active:!0,sort_order:3},{id:4,name:"Extra Large Box",code:"carton",description:"Extra large boxes for bulky items",dimensions:{length:70,height:50,width:50},image_url:"/images/presets/xl_box.png",is_active:!0,sort_order:4},{id:5,name:"Large Sack",code:"sack",description:"Large sacks for loose items",dimensions:{length:60,height:40,width:40},image_url:"/images/presets/large_sack.png",is_active:!0,sort_order:5},{id:6,name:"Standard Roll",code:"roll",description:"Standard rolls for cylindrical items",dimensions:{length:50,height:10,width:10},image_url:"/images/presets/standard_roll.png",is_active:!0,sort_order:6},{id:7,name:"Bundle Roll",code:"bundle",description:"Bundle rolls for larger cylindrical items",dimensions:{length:100,height:10,width:10},image_url:"/images/presets/bundle_roll.png",is_active:!0,sort_order:7}],ct=[{value:5,label:"0-5 kg"},{value:10,label:"6-10 kg"},{value:15,label:"11-15 kg"},{value:20,label:"16-20 kg"},{value:25,label:"21-25 kg"},{value:30,label:"26-30 kg"},{value:40,label:"31-40 kg"},{value:50,label:"41-50 kg"},{value:60,label:"51-60 kg"},{value:70,label:"61-70 kg"},{value:80,label:"71-80 kg"},{value:90,label:"81-90 kg"},{value:100,label:"91-100 kg"}],pt=[{value:500,label:"Value: â‚±500 or less"},{value:1e3,label:"Value: â‚±1,000 or less"},{value:2e3,label:"Value: â‚±2,000 or less"},{value:4e3,label:"Value: â‚±4,000 or less"},{value:6e3,label:"Value: â‚±6,000 or less"},{value:1e4,label:"Value: â‚±10,000 or less"},{value:2e4,label:"Value: â‚±20,000 or less"},{value:3e4,label:"Value: â‚±30,000 or less"},{value:5e4,label:"Value: â‚±50,000 or less"},{value:7e4,label:"Value: â‚±70,000 or less"},{value:1e5,label:"Value: â‚±100,000 or less"}],V=M(1),A=M(!1);M(!1);const Re=M(null),ce=M(!1),le=M([]),q=M({base_fee:0,volume_rate:0,weight_rate:0,package_rate:0}),j=M(null),$=M(null),gt=async()=>{try{const r=await H.get("/api/delivery/regions"),t=r.data.data||r.data;if(!Array.isArray(t))return;le.value=t.map(d=>({value:d.id,label:d.name?d.name.replace(/\b\w/g,c=>c.toUpperCase()):""})),Y.value=le.value,t.forEach(d=>{Z.value[d.id]={id:d.id,name:d.name?d.name.replace(/\b\w/g,c=>c.toUpperCase()):"",warehouse_address:d.warehouse_address?d.warehouse_address.replace(/\b\w/g,c=>c.toUpperCase()):"",latitude:d.latitude,longitude:d.longitude,is_active:d.is_active,color_hex:d.color_hex}}),t.length>0&&(s.pick_up_region_id=t[0].id,j.value=Z.value[t[0].id],t.length>1&&(s.drop_off_region_id=t[1].id,$.value=Z.value[t[1].id]))}catch{le.value=[],Y.value=[]}},Z=M({}),vt=r=>({base_fee:50,volume_rate:10,weight_rate:5,package_rate:2})[r]||0,Se=()=>({base_fee:50,volume_rate:10,weight_rate:5,package_rate:2});q.value=Se();const ft=async()=>{var r;try{const t=await H.get("/api/price-matrix",{timeout:5e3,headers:{"Cache-Control":"no-cache"}}),d=((r=t.data)==null?void 0:r.data)||t.data;if(!d)throw new Error("Invalid price matrix response");q.value={base_fee:Number(d.base_fee)||50,volume_rate:Number(d.volume_rate)||10,weight_rate:Number(d.weight_rate)||5,package_rate:Number(d.package_rate)||2},Object.entries(q.value).forEach(([c,h])=>{(isNaN(h)||h<0)&&(q.value[c]=vt(c))})}catch{q.value=Se()}},x=r=>{const t=Number(r);return isNaN(t)?"0.00":t.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})},X=r=>{if(!r)return"0 B";const t=1024,d=["B","KB","MB","GB"],c=Math.floor(Math.log(r)/Math.log(t));return parseFloat((r/Math.pow(t,c)).toFixed(2))+" "+d[c]},yt=r=>{if(!r||!r.length)return"0 B";const t=r.reduce((d,c)=>d+(c.size||0),0);return X(t)},bt=[{value:"individual",label:"Individual"},{value:"company",label:"Company"}],ht=[{value:"net_7",label:"Net 7 (Pay within 7 days)"},{value:"net_15",label:"Net 15 (Pay within 15 days)"},{value:"net_30",label:"Net 30 (Pay within 30 days)"},{value:"cnd",label:"CND (Cash Next Delivery)"}],s=Ft({sender:{customer_category:((Ae=B.authCustomer)==null?void 0:Ae.customer_category)||"individual",first_name:((We=B.authCustomer)==null?void 0:We.first_name)||"",middle_name:((He=B.authCustomer)==null?void 0:He.middle_name)||"",last_name:((Ge=B.authCustomer)==null?void 0:Ge.last_name)||"",company_name:((Qe=B.authCustomer)==null?void 0:Qe.company_name)||"",email:((Ze=B.authCustomer)==null?void 0:Ze.email)||"",mobile:((Ye=B.authCustomer)==null?void 0:Ye.mobile)||"",phone:((Xe=B.authCustomer)==null?void 0:Xe.phone)||"",building_number:((Ke=B.authCustomer)==null?void 0:Ke.building_number)||"",street:((Je=B.authCustomer)==null?void 0:Je.street)||"",barangay:((et=B.authCustomer)==null?void 0:et.barangay)||"",city:((tt=B.authCustomer)==null?void 0:tt.city)||"",province:((st=B.authCustomer)==null?void 0:st.province)||"",zip_code:((rt=B.authCustomer)==null?void 0:rt.zip_code)||"",notes:""},receiver:{customer_category:"individual",first_name:"",middle_name:"",last_name:"",company_name:"",email:"",mobile:"",phone:"",building_number:"",street:"",barangay:"",city:"",province:"",zip_code:"",notes:""},pick_up_region_id:"",drop_off_region_id:"",payment_type:"",payment_method:"",payment_terms:"",total_price:0,downpayment_method:"",downpayment_reference:"",downpayment_receipt:null,downpayment_receipt_url:null,priceBreakdown:null,packages:[{item_name:"",description:"",category:"",length:"",height:"",width:"",weight:"",value:"",quantity:1,photos:[],photo_urls:[],preset:""}]}),_t=async r=>{const t=r.target.files[0];if(t){if(!t.type.match("image.*")){s.setError("downpayment_receipt","Only image files are allowed"),r.target.value="";return}if(t.size>5*1024*1024){s.setError("downpayment_receipt","File size must be less than 5MB"),r.target.value="";return}try{const d=await Oe(t,1200,.7);s.downpayment_receipt=d,s.downpayment_receipt_url=URL.createObjectURL(d),s.clearErrors("downpayment_receipt"),console.log("ðŸ“„ Downpayment receipt processed:",{name:d.name,size:X(d.size),type:d.type})}catch(d){console.error("âŒ Failed to process downpayment receipt:",d),s.setError("downpayment_receipt","Failed to process image. Please try another file."),r.target.value=""}}else s.downpayment_receipt=null,s.downpayment_receipt_url=null,s.clearErrors("downpayment_receipt")},xt=()=>{s.downpayment_receipt_url&&URL.revokeObjectURL(s.downpayment_receipt_url),s.downpayment_receipt=null,s.downpayment_receipt_url=null,s.clearErrors("downpayment_receipt");const r=document.querySelector('input[type="file"][accept="image/*"]');r&&(r.value="")},wt=te(()=>{const r=[{value:"prepaid",label:"Prepaid (Pay now)"}];return je.value&&r.push({value:"postpaid",label:"Postpaid (Pay after delivery)"}),r}),kt=[{value:"cash",label:"Cash"},{value:"gcash",label:"GCash"},{value:"bank",label:"Bank Transfer"}],je=te(()=>{var r;return((r=B.authCustomer)==null?void 0:r.completed_deliveries_count)>=3}),F=te(()=>s.packages.reduce((r,t)=>r+(parseInt(t.quantity)||1),0)),Pt=async()=>{if(A.value=!0,!q.value||!s.pick_up_region_id||!s.drop_off_region_id||!s.packages.every(r=>parseFloat(r.height)>0&&parseFloat(r.width)>0&&parseFloat(r.length)>0&&parseFloat(r.weight)>0)){s.priceBreakdown=null,s.total_price=0,A.value=!1;return}try{let r=0;const t=[];s.packages.forEach(c=>{const h=parseInt(c.quantity)||1;r+=h;for(let w=0;w<h;w++)t.push({height:parseFloat(c.height)||0,width:parseFloat(c.width)||0,length:parseFloat(c.length)||0,weight:parseFloat(c.weight)||0})});const d=await H.post(route("customer.delivery-requests.calculate-price"),{packages:t,pick_up_region_id:s.pick_up_region_id,drop_off_region_id:s.drop_off_region_id});d.data&&d.data.breakdown&&typeof d.data.total_price<"u"?(s.priceBreakdown=d.data.breakdown,s.total_price=d.data.total_price):(s.priceBreakdown=null,s.total_price=0)}catch{s.priceBreakdown=null,s.total_price=0}finally{A.value=!1}},Ct=(r,t)=>{var c,h,w;if(r==="custom"){s.packages[t]={...s.packages[t],length:"",height:"",width:"",category:"C/S",preset:"custom"};return}const d=re.value.find(l=>l.id==r);d&&(s.packages[t]={...s.packages[t],length:((c=d.dimensions)==null?void 0:c.length)||"",height:((h=d.dimensions)==null?void 0:h.height)||"",width:((w=d.dimensions)==null?void 0:w.width)||"",category:d.code,preset:d.id})},_e=r=>r.replace(/\b\w/g,t=>t.toUpperCase()),xe=(r,t,d=null)=>{let c=r.target.value;if(c=Ie(c),c=_e(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},pe=(r,t,d=null)=>{let c=r.target.value;if(c=Le(c),c=_e(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},Vt=(r,t,d=null)=>{let c=r.target.value;if(c=De(c),c=_e(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},we=te(()=>s.pick_up_region_id?le.value.filter(r=>r.value!==s.pick_up_region_id):le.value),$e=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),Ue=r=>/^(09|\+639)\d{9}$/.test(r),ze=r=>r===""||/^[0-9]{7,15}$/.test(r),Fe=r=>/^[0-9]{4}$/.test(r),K=r=>/^[A-Za-z\sÃ‘Ã±.-]+$/.test(r),Ne=r=>/^[A-Za-z0-9\sÃ‘Ã±.,!?@#$%^&*()_+-=]+$/.test(r),D=r=>/^[A-Za-z0-9\sÃ‘Ã±.,#-]+$/.test(r),Et=r=>r.replace(/[^\d]/g,""),Ie=r=>r.replace(/[^A-Za-z\sÃ‘Ã±.-]/g,""),Le=r=>r.replace(/[^A-Za-z0-9\sÃ‘Ã±.,#-]/g,""),De=r=>r.replace(/[^A-Za-z0-9\sÃ‘Ã±.,!?@#$%^&*()_+-=]/g,""),T=(r,t,d=null)=>{let c=r.target.value;if(c=Et(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},ke=(r,t,d=null)=>{let c=r.target.value;if(c=Ie(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},J=(r,t,d=null)=>{let c=r.target.value;if(c=Le(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},Pe=(r,t,d=null)=>{let c=r.target.value;if(c=De(c),d!==null)s.packages[d][t]=c;else if(t.includes(".")){const[h,w]=t.split(".");s[h][w]=c}else s[t]=c},Te=()=>{s.clearErrors();let r=!0;return V.value===1&&(s.sender.customer_category||(s.setError("sender.customer_category","Customer category is required."),r=!1),s.sender.first_name.trim()?K(s.sender.first_name)||(s.setError("sender.first_name","First name can only contain letters, spaces, dots, and hyphens."),r=!1):(s.setError("sender.first_name","First name is required."),r=!1),s.sender.middle_name.trim()&&!K(s.sender.middle_name)&&(s.setError("sender.middle_name","Middle name can only contain letters, spaces, dots, and hyphens."),r=!1),s.sender.last_name.trim()?K(s.sender.last_name)||(s.setError("sender.last_name","Last name can only contain letters, spaces, dots, and hyphens."),r=!1):(s.setError("sender.last_name","Last name is required."),r=!1),s.sender.customer_category==="company"&&!s.sender.company_name.trim()&&(s.setError("sender.company_name","Company Name is required for companies."),r=!1),s.sender.email.trim()?$e(s.sender.email)||(s.setError("sender.email","Please enter a valid email address."),r=!1):(s.setError("sender.email","Email is required."),r=!1),s.sender.mobile.trim()?Ue(s.sender.mobile)||(s.setError("sender.mobile","Please enter a valid Philippine mobile number (e.g. 09123456789)."),r=!1):(s.setError("sender.mobile","Mobile number is required."),r=!1),s.sender.phone&&!ze(s.sender.phone)&&(s.setError("sender.phone","Please enter a valid phone number (7-15 digits)."),r=!1),s.sender.building_number.trim()&&!D(s.sender.building_number)&&(s.setError("sender.building_number","Building number can only contain letters, numbers, spaces, and basic punctuation."),r=!1),s.sender.street.trim()?D(s.sender.street)||(s.setError("sender.street","Street can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("sender.street","Street is required."),r=!1),s.sender.barangay.trim()?D(s.sender.barangay)||(s.setError("sender.barangay","Barangay can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("sender.barangay","Barangay is required."),r=!1),s.sender.city.trim()?D(s.sender.city)||(s.setError("sender.city","City can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("sender.city","City is required."),r=!1),s.sender.province.trim()?D(s.sender.province)||(s.setError("sender.province","Province can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("sender.province","Province is required."),r=!1),s.sender.zip_code.trim()?Fe(s.sender.zip_code)||(s.setError("sender.zip_code","Please enter a valid 4-digit ZIP code."),r=!1):(s.setError("sender.zip_code","ZIP Code is required."),r=!1),s.pick_up_region_id||(s.setError("pick_up_region_id","Pick-up region is required."),r=!1)),V.value===2&&(s.receiver.customer_category||(s.setError("receiver.customer_category","Customer category is required."),r=!1),s.receiver.first_name.trim()?K(s.receiver.first_name)||(s.setError("receiver.first_name","First name can only contain letters, spaces, dots, and hyphens."),r=!1):(s.setError("receiver.first_name","First name is required."),r=!1),s.receiver.middle_name.trim()&&!K(s.receiver.middle_name)&&(s.setError("receiver.middle_name","Middle name can only contain letters, spaces, dots, and hyphens."),r=!1),s.receiver.last_name.trim()?K(s.receiver.last_name)||(s.setError("receiver.last_name","Last name can only contain letters, spaces, dots, and hyphens."),r=!1):(s.setError("receiver.last_name","Last name is required."),r=!1),s.receiver.customer_category==="company"&&!s.receiver.company_name.trim()&&(s.setError("receiver.company_name","Company Name is required for companies."),r=!1),s.receiver.email.trim()?$e(s.receiver.email)||(s.setError("receiver.email","Please enter a valid email address."),r=!1):(s.setError("receiver.email","Email is required."),r=!1),s.receiver.mobile.trim()?Ue(s.receiver.mobile)||(s.setError("receiver.mobile","Please enter a valid Philippine mobile number (e.g. 09123456789)."),r=!1):(s.setError("receiver.mobile","Mobile number is required."),r=!1),s.receiver.phone&&!ze(s.receiver.phone)&&(s.setError("receiver.phone","Please enter a valid phone number (7-15 digits)."),r=!1),s.receiver.building_number.trim()&&!D(s.receiver.building_number)&&(s.setError("receiver.building_number","Building number can only contain letters, numbers, spaces, and basic punctuation."),r=!1),s.receiver.street.trim()?D(s.receiver.street)||(s.setError("receiver.street","Street can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("receiver.street","Street is required."),r=!1),s.receiver.barangay.trim()?D(s.receiver.barangay)||(s.setError("receiver.barangay","Barangay can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("receiver.barangay","Barangay is required."),r=!1),s.receiver.city.trim()?D(s.receiver.city)||(s.setError("receiver.city","City can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("receiver.city","City is required."),r=!1),s.receiver.province.trim()?D(s.receiver.province)||(s.setError("receiver.province","Province can only contain letters, numbers, spaces, and basic punctuation."),r=!1):(s.setError("receiver.province","Province is required."),r=!1),s.receiver.zip_code.trim()?Fe(s.receiver.zip_code)||(s.setError("receiver.zip_code","Please enter a valid 4-digit ZIP code."),r=!1):(s.setError("receiver.zip_code","ZIP Code is required."),r=!1),s.drop_off_region_id||(s.setError("drop_off_region_id","Drop-off region is required."),r=!1)),V.value===3&&s.packages.forEach((t,d)=>{if(t.item_name.trim()?Ne(t.item_name)||(s.setError(`packages.${d}.item_name`,"Package name contains invalid characters."),r=!1):(s.setError(`packages.${d}.item_name`,"Package name is required."),r=!1),t.description.trim()&&!Ne(t.description)&&(s.setError(`packages.${d}.description`,"Description contains invalid characters."),r=!1),t.preset||(s.setError(`packages.${d}.preset`,"Package type is required."),r=!1),t.preset==="custom"){const l=oe(t.height)/100,g=oe(t.width)/100,p=oe(t.length)/100;(!t.height||l<=0)&&(s.setError(`packages.${d}.height`,"Height must be greater than 0 for custom packages."),r=!1),(!t.width||g<=0)&&(s.setError(`packages.${d}.width`,"Width must be greater than 0 for custom packages."),r=!1),(!t.length||p<=0)&&(s.setError(`packages.${d}.length`,"Length must be greater than 0 for custom packages."),r=!1),p*l*g>10&&(s.setError(`packages.${d}.height`,"Package volume exceeds 10 mÂ³."),r=!1)}const c=oe(t.weight);!t.weight||c<=0?(s.setError(`packages.${d}.weight`,"Weight range is required."),r=!1):c>100&&(s.setError(`packages.${d}.weight`,"Package weight exceeds 100 kg."),r=!1);const h=oe(t.value);(!t.value||h<0)&&(s.setError(`packages.${d}.value`,"Package value is required."),r=!1);const w=parseInt(t.quantity)||1;w<1?(s.setError(`packages.${d}.quantity`,"Quantity must be at least 1."),r=!1):w>100&&(s.setError(`packages.${d}.quantity`,"Quantity cannot exceed 100."),r=!1),!t.photos||t.photos.length===0?(s.setError(`packages.${d}.photos`,"Package photos are required. Minimum 6 photos for all packages."),r=!1):t.photos.length<6&&(s.setError(`packages.${d}.photos`,`Minimum 6 photos required for all packages. You have ${t.photos.length}/6 photos.`+(t.quantity>1?" Must include group photo and weighing scale.":" Must include all sides and weighing scale.")),r=!1)}),V.value===4&&(s.downpayment_method||(s.setError("downpayment_method","Processing fee payment method is required"),r=!1),s.downpayment_reference||(s.setError("downpayment_reference","Reference number is required"),r=!1),s.downpayment_receipt||(s.setError("downpayment_receipt","Payment receipt is required"),r=!1),s.payment_type||(s.setError("payment_type","Payment type is required"),r=!1),s.payment_type==="prepaid"&&!s.payment_method&&(s.setError("payment_method","Payment method is required for prepaid"),r=!1),s.payment_type==="postpaid"&&!s.payment_terms&&(s.setError("payment_terms","Payment terms are required for postpaid"),r=!1)),r},Oe=(r,t=1200,d=.7)=>new Promise(c=>{const h=new FileReader;h.readAsDataURL(r),h.onload=w=>{const l=new Image;l.src=w.target.result,l.onload=()=>{const g=document.createElement("canvas"),p=g.getContext("2d");let C=l.width,R=l.height;C>t&&(R=R*t/C,C=t),g.width=C,g.height=R,p.drawImage(l,0,0,C,R),g.toBlob(S=>{c(new File([S],r.name,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",d)}}}),qt=async(r,t)=>{const d=Array.from(r.target.files);if(d&&d.length>0){s.clearErrors(`packages.${t}.photos`);const c=d.find(R=>R.size>5*1024*1024);if(c){s.setError(`packages.${t}.photos`,`File "${c.name}" exceeds 5MB limit. Please choose a smaller image.`),r.target.value="";return}const h=s.packages[t].photos||[],w=s.packages[t].photo_urls||[],l=[...h],g=[...w];let p=!1,C=null;for(let R=0;R<d.length;R++){const S=d[R];if(!S.type.match("image.*")){C="Only image files are allowed";break}if(l.some(P=>P.name===S.name&&P.size===S.size)){console.log(`Skipping duplicate file: ${S.name}`);continue}S.size>1024*1024&&(p=!0);try{let P=S;S.size>1024*1024&&(P=await Oe(S),console.log(`Compressed ${S.name}: ${X(S.size)} â†’ ${X(P.size)}`)),l.push(P),g.push(URL.createObjectURL(P))}catch(P){console.error("Image processing failed:",P),C="Failed to process some images. Please try again.";break}}C?s.setError(`packages.${t}.photos`,C):(s.packages[t].photos=l,s.packages[t].photo_urls=g,me.value[t]=p,p&&setTimeout(()=>{me.value[t]=!1},5e3)),r.target.value=""}},Mt=(r,t)=>{s.packages[r].photo_urls&&s.packages[r].photo_urls[t]&&URL.revokeObjectURL(s.packages[r].photo_urls[t]),s.packages[r].photos.splice(t,1),s.packages[r].photo_urls.splice(t,1),console.log(`ðŸ—‘ï¸ Removed photo ${t+1} from package ${r+1}`)},Bt=()=>{s.packages.push({item_name:"",description:"",category:"",length:"",height:"",width:"",weight:"",value:"",quantity:1,photos:[],photo_urls:[],preset:""})},Rt=r=>{s.packages.length>1&&(s.packages[r].photo_urls&&s.packages[r].photo_urls.forEach(t=>{URL.revokeObjectURL(t)}),s.packages.splice(r,1))},Ce=()=>{Te()&&(V.value++,window.scrollTo({top:0,behavior:"smooth"}))},Ve=()=>{V.value--,window.scrollTo({top:0,behavior:"smooth"})},oe=r=>{const t=parseFloat(r);return isNaN(t)?0:t},St=async(r,t)=>{var c;const d=[];for(const h of r)try{const w=new FormData;w.append("photos[]",h);const l=await H.post(route("customer.delivery-requests.upload-photos"),w,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":(c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"),"X-Requested-With":"XMLHttpRequest"},timeout:3e4});l.data.photo_paths&&l.data.photo_paths.length>0&&(d.push(...l.data.photo_paths),console.log(`âœ… Uploaded: ${h.name} (${X(h.size)})`))}catch(w){throw console.error(`âŒ Failed to upload ${h.name}:`,w),new Error(`Failed to upload ${h.name}: ${w.message}`)}return d},jt=async()=>{var d,c,h,w,l,g;if(console.log("ðŸ” SUBMIT REQUEST STARTED - currentStep:",V.value),!Te()){console.log("âŒ Validation failed - form errors:",s.errors);return}console.log("âœ… Validation passed"),A.value=!0;const r=new window.FormData,t=(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content");console.log("ðŸ” CSRF Token:",t?"Found":"NOT FOUND"),Object.entries(s.sender).forEach(([p,C])=>{r.append(`sender[${p}]`,C??"")}),Object.entries(s.receiver).forEach(([p,C])=>{r.append(`receiver[${p}]`,C??"")}),r.append("pick_up_region_id",s.pick_up_region_id),r.append("drop_off_region_id",s.drop_off_region_id),r.append("payment_type",s.payment_type||"prepaid"),r.append("payment_method",s.payment_method||""),r.append("payment_terms",s.payment_terms||""),r.append("downpayment_method",s.downpayment_method),r.append("downpayment_reference",s.downpayment_reference),s.priceBreakdown&&(r.append("total_price",s.total_price),r.append("base_fee",s.priceBreakdown.base_fee),r.append("volume_fee",s.priceBreakdown.volume_fee),r.append("weight_fee",s.priceBreakdown.weight_fee),r.append("package_fee",s.priceBreakdown.package_fee),r.append("price_breakdown",JSON.stringify(s.priceBreakdown)));try{let p=null;if(s.downpayment_receipt instanceof File){console.log("ðŸ“„ Uploading downpayment receipt...");const _=new FormData;_.append("receipt",s.downpayment_receipt);const P=await H.post(route("customer.delivery-requests.upload-downpayment-receipt"),_,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(P.data.success)p=P.data.file_path,r.append("downpayment_receipt",p),console.log("âœ… Downpayment receipt uploaded:",p);else throw new Error("Failed to upload downpayment receipt")}else if(typeof s.downpayment_receipt=="string")r.append("downpayment_receipt",s.downpayment_receipt),console.log("âœ… Using existing downpayment receipt data");else throw new Error("Downpayment receipt is required");const C={};for(let _=0;_<s.packages.length;_++){const P=s.packages[_];P.photos&&P.photos.length>0?(console.log(`ðŸ“¸ Uploading ${P.photos.length} photos for package ${_}`),C[_]=await St(P.photos,_),console.log(`âœ… Successfully uploaded ${C[_].length} photos for package ${_}`)):(C[_]=[],console.log(`â„¹ï¸ No photos to upload for package ${_}`))}const R=[];s.packages.forEach((_,P)=>{const Ee=parseInt(_.quantity)||1,qe=C[P]||[];for(let lt=0;lt<Ee;lt++){const zt={item_name:_.item_name,category:_.category,description:_.description||"",value:_.value||0,height:_.height,width:_.width,length:_.length,weight:_.weight,preset:_.preset||"",photo_path:[...qe]};R.push(zt)}}),R.forEach((_,P)=>{r.append(`packages[${P}][item_name]`,_.item_name),r.append(`packages[${P}][category]`,_.category),r.append(`packages[${P}][description]`,_.description||""),r.append(`packages[${P}][value]`,_.value||0),r.append(`packages[${P}][height]`,_.height),r.append(`packages[${P}][width]`,_.width),r.append(`packages[${P}][length]`,_.length),r.append(`packages[${P}][weight]`,_.weight),r.append(`packages[${P}][preset]`,_.preset||""),_.photo_path&&_.photo_path.length>0&&_.photo_path.forEach((Ee,qe)=>{r.append(`packages[${P}][photo_path][${qe}]`,Ee)})}),console.log("ðŸš€ Making final submission with CSRF token..."),console.log("ðŸ“¦ Packages to submit:",R.length),console.log("ðŸ’° Downpayment method:",s.downpayment_method),console.log("ðŸ”¢ Downpayment reference:",s.downpayment_reference),console.log("ðŸ’³ Payment type:",s.payment_type),console.log("ðŸ’¸ Payment method:",s.payment_method);const S=await H.post(route("customer.delivery-requests.store"),r,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest"},timeout:6e4});console.log("âœ… Success response:",S.data),Re.value=S.data.delivery_request_id,ce.value=!0,A.value=!1,s.packages.forEach(_=>{_.photo_urls&&_.photo_urls.forEach(P=>{URL.revokeObjectURL(P)})}),s.downpayment_receipt_url&&URL.revokeObjectURL(s.downpayment_receipt_url)}catch(p){if(console.error("âŒ Error response:",((c=p.response)==null?void 0:c.data)||p.message),A.value=!1,(w=(h=p.response)==null?void 0:h.data)!=null&&w.errors)s.errors=p.response.data.errors,console.log("ðŸ“‹ Form errors:",s.errors);else if(p.code==="NETWORK_ERROR"||p.code==="ECONNABORTED")s.setError("submit","Network error. Please check your connection and try again.");else{const C=((g=(l=p.response)==null?void 0:l.data)==null?void 0:g.message)||p.message||"Failed to submit request. Please try again.";s.setError("submit",C)}window.scrollTo({top:0,behavior:"smooth"})}},$t=()=>"DR-"+Date.now().toString().slice(-6),Ut=()=>{s.packages=[{item_name:"",description:"",category:"",length:"",height:"",width:"",weight:"",value:"",quantity:1,photos:[],photo_urls:[],preset:""}],s.priceBreakdown=null,s.total_price=0,ce.value=!1,V.value=3};return at(()=>{gt(),ft(),ut(),L()}),nt(()=>{s.packages.forEach(r=>{r.photo_urls&&r.photo_urls.forEach(t=>{URL.revokeObjectURL(t)})})}),ie(()=>s.pick_up_region_id,r=>{r&&Z.value[r]?j.value=Z.value[r]:j.value=null}),ie(()=>s.drop_off_region_id,r=>{r&&Z.value[r]?$.value=Z.value[r]:$.value=null}),ie(()=>[s.pick_up_region_id,s.drop_off_region_id,...s.packages.map(r=>[r.height,r.width,r.length,r.weight,r.quantity]).flat()],()=>{const r=s.packages.every(t=>parseFloat(t.height)>0&&parseFloat(t.width)>0&&parseFloat(t.length)>0&&parseFloat(t.weight)>0);s.pick_up_region_id&&s.drop_off_region_id&&r&&Pt()}),ie(()=>s.payment_type,r=>{s.payment_terms="",s.payment_method="",r==="postpaid"&&!je.value&&(s.payment_type="prepaid",s.setError("payment_type","Postpaid is only available after 3 completed deliveries.")),r==="postpaid"&&(s.payment_method="postpaid")}),(r,t)=>(i(),Me(Lt,null,{default:I(()=>{var d,c,h,w;return[e("div",At,[e("div",Wt,[r.$page.props.flash.success?(i(),u("div",Ht,m(r.$page.props.flash.success),1)):f("",!0),t[226]||(t[226]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Request Delivery"),e("p",{class:"text-gray-600 mt-2"},"Fill out the form below to schedule your delivery")],-1)),e("div",Gt,[e("div",{class:v(["lg:col-span-4",(V.value===3,"lg:col-span-4")])},[e("div",Qt,[e("div",Zt,[(i(),u(U,null,z(4,l=>e("div",{key:l,class:"flex items-center"},[e("div",{class:v(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium",V.value>l?"bg-green-600 text-white":V.value===l?"bg-green-500 text-white ring-4 ring-green-100":"bg-gray-300 text-gray-600"])},m(l),3),l<4?(i(),u("div",{key:0,class:v(["flex-1 h-1 mx-2",V.value>l?"bg-green-600":"bg-gray-300"])},null,2)):f("",!0)])),64))]),e("div",Yt,[e("span",{class:v({"text-green-600 font-medium":V.value>=1})},"Sender",2),e("span",{class:v({"text-green-600 font-medium":V.value>=2})},"Receiver",2),e("span",{class:v({"text-green-600 font-medium":V.value>=3})},"Package",2),e("span",{class:v({"text-green-600 font-medium":V.value>=4})},"Payment",2)])]),e("div",Xt,[V.value===1?(i(),u("div",Kt,[t[67]||(t[67]=e("h3",{class:"font-semibold text-blue-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),n(" Sender Information ")],-1)),e("p",Jt,[t[65]||(t[65]=n(" Your sender information is pulled from your profile. To update your details, please visit your ")),e("a",{href:r.route("customer.profile.update"),class:"text-blue-800 font-semibold underline hover:text-blue-600 transition-colors"}," Delivery Information Page ",8,es),t[66]||(t[66]=n(". This ensures all profile modifications are properly verified and recorded. "))])])):f("",!0),V.value===2?(i(),u("div",ts,t[68]||(t[68]=[e("h3",{class:"font-semibold text-blue-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})]),n(" Receiver Information ")],-1),e("p",{class:"text-sm text-blue-700 mt-1"}," Accurate receiver information is crucial for successful delivery. Please double-check all contact details and address information. ",-1)]))):f("",!0),V.value===3?(i(),u("div",ss,t[69]||(t[69]=[e("h3",{class:"font-semibold text-blue-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),n(" Package Information ")],-1),e("p",{class:"text-sm text-blue-700 mt-1"}," Provide accurate package details including dimensions, weight, and clear photos for proper documentation and pricing. ",-1)]))):f("",!0),V.value===4&&!ce.value?(i(),u("div",rs,t[70]||(t[70]=[e("h3",{class:"font-semibold text-blue-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),n(" Payment Information ")],-1),e("p",{class:"text-sm text-blue-700 mt-1"}," Review your delivery summary and select your preferred payment method. All prices are final and include applicable fees. ",-1)]))):f("",!0)]),e("div",ls,[V.value===1?(i(),u("div",os,[t[82]||(t[82]=e("div",{class:"flex items-center justify-between"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Sender Information"),e("div",{class:"text-sm text-gray-500"}," Your information is pre-filled from your profile ")],-1)),e("div",as,[e("div",ns,[e("div",null,[a(y,{value:"Customer Category *"}),e("div",is,[e("label",{class:v(["border rounded-lg p-4 cursor-pointer transition-all duration-200 bg-gray-100",o(s).sender.customer_category==="individual"?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300"])},[e("div",ds,[O(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=l=>o(s).sender.customer_category=l),value:"individual",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300",disabled:""},null,512),[[W,o(s).sender.customer_category]]),t[71]||(t[71]=e("span",{class:"ml-3 text-sm font-medium text-gray-900"},"Individual",-1))])],2),e("label",{class:v(["border rounded-lg p-4 cursor-pointer transition-all duration-200 bg-gray-100",o(s).sender.customer_category==="company"?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300"])},[e("div",us,[O(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=l=>o(s).sender.customer_category=l),value:"company",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300",disabled:""},null,512),[[W,o(s).sender.customer_category]]),t[72]||(t[72]=e("span",{class:"ml-3 text-sm font-medium text-gray-900"},"Company",-1))])],2)]),a(b,{message:o(s).errors["sender.customer_category"]},null,8,["message"])]),e("div",ms,[e("div",null,[a(y,{value:"First Name *"}),a(k,{modelValue:o(s).sender.first_name,"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).sender.first_name=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.first_name"]}]),readonly:"",onInput:t[3]||(t[3]=l=>ke(l,"sender.first_name"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.first_name"]},null,8,["message"])]),e("div",null,[a(y,{value:"Middle Name"}),a(k,{modelValue:o(s).sender.middle_name,"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).sender.middle_name=l),type:"text",class:"mt-1 block w-full bg-gray-100",readonly:"",onInput:t[5]||(t[5]=l=>ke(l,"sender.middle_name"))},null,8,["modelValue"]),a(b,{message:o(s).errors["sender.middle_name"]},null,8,["message"])]),e("div",null,[a(y,{value:"Last Name *"}),a(k,{modelValue:o(s).sender.last_name,"onUpdate:modelValue":t[6]||(t[6]=l=>o(s).sender.last_name=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.last_name"]}]),readonly:"",onInput:t[7]||(t[7]=l=>ke(l,"sender.last_name"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.last_name"]},null,8,["message"])])]),o(s).sender.customer_category==="company"?(i(),u("div",cs,[a(y,{value:"Company Name *"}),a(k,{modelValue:o(s).sender.company_name,"onUpdate:modelValue":t[8]||(t[8]=l=>o(s).sender.company_name=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.company_name"]}]),readonly:"",onInput:t[9]||(t[9]=l=>Pe(l,"sender.company_name"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.company_name"]},null,8,["message"])])):f("",!0),e("div",ps,[e("div",null,[a(y,{value:"Email Address *"}),a(k,{modelValue:o(s).sender.email,"onUpdate:modelValue":t[10]||(t[10]=l=>o(s).sender.email=l),type:"email",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.email"]}]),readonly:""},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.email"]},null,8,["message"])]),e("div",gs,[e("div",null,[a(y,{value:"Mobile Number *"}),a(k,{modelValue:o(s).sender.mobile,"onUpdate:modelValue":t[11]||(t[11]=l=>o(s).sender.mobile=l),type:"tel",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.mobile"]}]),readonly:"",onInput:t[12]||(t[12]=l=>T(l,"sender.mobile")),maxlength:"11"},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.mobile"]},null,8,["message"])]),e("div",null,[a(y,{value:"Phone Number (Optional)"}),a(k,{modelValue:o(s).sender.phone,"onUpdate:modelValue":t[13]||(t[13]=l=>o(s).sender.phone=l),type:"tel",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.phone"]}]),readonly:"",onInput:t[14]||(t[14]=l=>T(l,"sender.phone")),maxlength:"15"},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.phone"]},null,8,["message"])])])]),e("div",vs,[e("div",null,[a(y,{value:"Building Number"}),a(k,{modelValue:o(s).sender.building_number,"onUpdate:modelValue":t[15]||(t[15]=l=>o(s).sender.building_number=l),type:"text",class:"mt-1 block w-full bg-gray-100",readonly:"",onInput:t[16]||(t[16]=l=>J(l,"sender.building_number"))},null,8,["modelValue"]),a(b,{message:o(s).errors["sender.building_number"]},null,8,["message"])]),e("div",null,[a(y,{value:"Street *"}),a(k,{modelValue:o(s).sender.street,"onUpdate:modelValue":t[17]||(t[17]=l=>o(s).sender.street=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.street"]}]),readonly:"",onInput:t[18]||(t[18]=l=>J(l,"sender.street"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.street"]},null,8,["message"])]),e("div",null,[a(y,{value:"Barangay"}),a(k,{modelValue:o(s).sender.barangay,"onUpdate:modelValue":t[19]||(t[19]=l=>o(s).sender.barangay=l),type:"text",class:"mt-1 block w-full bg-gray-100",readonly:"",onInput:t[20]||(t[20]=l=>J(l,"sender.barangay"))},null,8,["modelValue"]),a(b,{message:o(s).errors["sender.barangay"]},null,8,["message"])]),e("div",null,[a(y,{value:"City *"}),a(k,{modelValue:o(s).sender.city,"onUpdate:modelValue":t[21]||(t[21]=l=>o(s).sender.city=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.city"]}]),readonly:"",onInput:t[22]||(t[22]=l=>J(l,"sender.city"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.city"]},null,8,["message"])]),e("div",null,[a(y,{value:"Province *"}),a(k,{modelValue:o(s).sender.province,"onUpdate:modelValue":t[23]||(t[23]=l=>o(s).sender.province=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.province"]}]),readonly:"",onInput:t[24]||(t[24]=l=>J(l,"sender.province"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.province"]},null,8,["message"])]),e("div",null,[a(y,{value:"ZIP Code *"}),a(k,{modelValue:o(s).sender.zip_code,"onUpdate:modelValue":t[25]||(t[25]=l=>o(s).sender.zip_code=l),type:"text",class:v(["mt-1 block w-full bg-gray-100",{"border-red-500":o(s).errors["sender.zip_code"]}]),maxlength:"4",readonly:"",onInput:t[26]||(t[26]=l=>T(l,"sender.zip_code"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["sender.zip_code"]},null,8,["message"])])])]),e("div",fs,[e("div",null,[a(y,{value:"Select Pick-up Region *"}),a(ve,{modelValue:o(s).pick_up_region_id,"onUpdate:modelValue":t[27]||(t[27]=l=>o(s).pick_up_region_id=l),class:v(["mt-1 block w-full",{"border-red-500":o(s).errors.pick_up_region_id}]),options:Y.value,placeholder:""},null,8,["modelValue","class","options"]),a(b,{message:o(s).errors.pick_up_region_id},null,8,["message"])]),j.value?(i(),u("div",ys,[e("h3",bs,[t[73]||(t[73]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),n(" "+m(j.value.name||"Branch")+" Information ",1)]),e("div",hs,[e("p",_s,[t[74]||(t[74]=e("strong",{class:"text-blue-800"},"Address:",-1)),t[75]||(t[75]=e("br",null,null,-1)),n(" "+m(j.value.warehouse_address||"Address information not available"),1)]),j.value.latitude&&j.value.longitude?(i(),u("p",xs,[t[76]||(t[76]=e("strong",{class:"text-blue-800"},"Coordinates:",-1)),t[77]||(t[77]=e("br",null,null,-1)),n(" "+m(j.value.latitude)+", "+m(j.value.longitude),1)])):(i(),u("p",ws,t[78]||(t[78]=[e("strong",{class:"text-blue-800"},"Coordinates:",-1),e("br",null,null,-1),e("span",{class:"text-orange-600"},"Coordinates not available - please contact administrator",-1)]))),t[79]||(t[79]=e("div",{class:"pt-2"},[e("p",{class:"text-xs text-blue-600"},[e("strong",null,"Note:"),n(" This is your selected pick-up location. Please bring your packages to this branch address. ")])],-1))]),e("div",ks,[j.value.latitude&&j.value.longitude?(i(),Me(ot,{key:0,latitude:j.value.latitude,longitude:j.value.longitude,"region-name":j.value.name,zoom:15,height:"200px"},null,8,["latitude","longitude","region-name"])):(i(),u("div",Ps,t[80]||(t[80]=[e("div",{class:"text-center"},[e("svg",{class:"w-8 h-8 mx-auto mb-2 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),e("p",{class:"text-yellow-700 font-medium"},"Map Unavailable"),e("p",{class:"text-yellow-600 text-sm"},"Location coordinates not configured")],-1)])))])])):f("",!0)])]),e("div",Cs,[a(ae,{onClick:Ce,class:"px-6"},{default:I(()=>t[81]||(t[81]=[n(" Continue to Receiver ")])),_:1})])])):f("",!0),V.value===2?(i(),u("div",Vs,[t[96]||(t[96]=e("div",{class:"flex items-center justify-between"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Receiver Information"),e("div",{class:"text-sm text-gray-500"}," Enter receiver details ")],-1)),e("div",Es,[e("div",{class:"flex items-center justify-between"},[t[83]||(t[83]=e("h3",{class:"font-semibold text-blue-800 flex items-center text-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})]),n(" Quick Select from Past Receivers ")],-1)),e("button",{onClick:L,type:"button",class:"text-blue-600 hover:text-blue-700 text-sm font-medium"}," Refresh ")]),e("div",qs,[O(e("select",{"onUpdate:modelValue":t[28]||(t[28]=l=>G.value=l),onChange:t[29]||(t[29]=l=>se(G.value)),class:"block w-full rounded-md border border-blue-300 bg-white py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm"},[t[84]||(t[84]=e("option",{value:""},"Select a past receiver...",-1)),(i(!0),u(U,null,z(N.value,l=>(i(),u("option",{key:l.id,value:l.id,class:"text-sm"},m(l.display_name)+" - "+m(l.email)+" ("+m(l.created_at)+") ",9,Ms))),128))],544),[[Nt,G.value]]),t[85]||(t[85]=e("p",{class:"text-xs text-blue-600 mt-1"}," Select a receiver from your past delivery requests to prefill their details ",-1))])]),e("div",Bs,[e("div",Rs,[e("div",null,[a(y,{value:"Customer Category *"}),e("div",Ss,[(i(),u(U,null,z(bt,l=>e("label",{key:l.value,class:v(["border rounded-lg p-4 cursor-pointer transition-all duration-200",o(s).receiver.customer_category===l.value?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300 hover:border-gray-400"])},[e("div",js,[O(e("input",{type:"radio","onUpdate:modelValue":t[30]||(t[30]=g=>o(s).receiver.customer_category=g),value:l.value,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"},null,8,$s),[[W,o(s).receiver.customer_category]]),e("span",Us,m(l.label),1)])],2)),64))]),a(b,{message:o(s).errors["receiver.customer_category"]},null,8,["message"])]),e("div",zs,[e("div",null,[a(y,{value:"First Name *"}),a(k,{modelValue:o(s).receiver.first_name,"onUpdate:modelValue":t[31]||(t[31]=l=>o(s).receiver.first_name=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.first_name"]}]),placeholder:"Enter first name",onInput:t[32]||(t[32]=l=>xe(l,"receiver.first_name"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.first_name"]},null,8,["message"])]),e("div",null,[a(y,{value:"Middle Name"}),a(k,{modelValue:o(s).receiver.middle_name,"onUpdate:modelValue":t[33]||(t[33]=l=>o(s).receiver.middle_name=l),type:"text",class:"mt-1 block w-full",placeholder:"Enter middle name",onInput:t[34]||(t[34]=l=>xe(l,"receiver.middle_name"))},null,8,["modelValue"]),a(b,{message:o(s).errors["receiver.middle_name"]},null,8,["message"])]),e("div",null,[a(y,{value:"Last Name *"}),a(k,{modelValue:o(s).receiver.last_name,"onUpdate:modelValue":t[35]||(t[35]=l=>o(s).receiver.last_name=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.last_name"]}]),placeholder:"Enter last name",onInput:t[36]||(t[36]=l=>xe(l,"receiver.last_name"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.last_name"]},null,8,["message"])])]),o(s).receiver.customer_category==="company"?(i(),u("div",Fs,[a(y,{value:"Company Name *"}),a(k,{modelValue:o(s).receiver.company_name,"onUpdate:modelValue":t[37]||(t[37]=l=>o(s).receiver.company_name=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.company_name"]}]),placeholder:"Enter company name",onInput:t[38]||(t[38]=l=>Pe(l,"receiver.company_name"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.company_name"]},null,8,["message"])])):f("",!0),e("div",Ns,[e("div",null,[a(y,{value:"Email Address *"}),a(k,{modelValue:o(s).receiver.email,"onUpdate:modelValue":t[39]||(t[39]=l=>o(s).receiver.email=l),type:"email",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.email"]}]),placeholder:"receiver.email@example.com"},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.email"]},null,8,["message"])]),e("div",Is,[e("div",null,[a(y,{value:"Mobile Number *"}),a(k,{modelValue:o(s).receiver.mobile,"onUpdate:modelValue":t[40]||(t[40]=l=>o(s).receiver.mobile=l),type:"tel",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.mobile"]}]),placeholder:"09123456789",onInput:t[41]||(t[41]=l=>T(l,"receiver.mobile")),maxlength:"11"},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.mobile"]},null,8,["message"])]),e("div",null,[a(y,{value:"Phone Number (Optional)"}),a(k,{modelValue:o(s).receiver.phone,"onUpdate:modelValue":t[42]||(t[42]=l=>o(s).receiver.phone=l),type:"tel",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.phone"]}]),placeholder:"Enter landline number",onInput:t[43]||(t[43]=l=>T(l,"receiver.phone")),maxlength:"15"},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.phone"]},null,8,["message"])])])]),e("div",Ls,[e("div",null,[a(y,{value:"Building Number"}),a(k,{modelValue:o(s).receiver.building_number,"onUpdate:modelValue":t[44]||(t[44]=l=>o(s).receiver.building_number=l),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 123",onInput:t[45]||(t[45]=l=>J(l,"receiver.building_number"))},null,8,["modelValue"]),a(b,{message:o(s).errors["receiver.building_number"]},null,8,["message"])]),e("div",null,[a(y,{value:"Street *"}),a(k,{modelValue:o(s).receiver.street,"onUpdate:modelValue":t[46]||(t[46]=l=>o(s).receiver.street=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.street"]}]),placeholder:"e.g., Main Street",onInput:t[47]||(t[47]=l=>pe(l,"receiver.street"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.street"]},null,8,["message"])]),e("div",null,[a(y,{value:"Barangay"}),a(k,{modelValue:o(s).receiver.barangay,"onUpdate:modelValue":t[48]||(t[48]=l=>o(s).receiver.barangay=l),type:"text",class:"mt-1 block w-full",placeholder:"Enter barangay",onInput:t[49]||(t[49]=l=>pe(l,"receiver.barangay"))},null,8,["modelValue"]),a(b,{message:o(s).errors["receiver.barangay"]},null,8,["message"])]),e("div",null,[a(y,{value:"City *"}),a(k,{modelValue:o(s).receiver.city,"onUpdate:modelValue":t[50]||(t[50]=l=>o(s).receiver.city=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.city"]}]),placeholder:"Enter city",onInput:t[51]||(t[51]=l=>pe(l,"receiver.city"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.city"]},null,8,["message"])]),e("div",null,[a(y,{value:"Province *"}),a(k,{modelValue:o(s).receiver.province,"onUpdate:modelValue":t[52]||(t[52]=l=>o(s).receiver.province=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.province"]}]),placeholder:"Enter province",onInput:t[53]||(t[53]=l=>pe(l,"receiver.province"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.province"]},null,8,["message"])]),e("div",null,[a(y,{value:"ZIP Code *"}),a(k,{modelValue:o(s).receiver.zip_code,"onUpdate:modelValue":t[54]||(t[54]=l=>o(s).receiver.zip_code=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors["receiver.zip_code"]}]),placeholder:"e.g., 1000",maxlength:"4",onInput:t[55]||(t[55]=l=>T(l,"receiver.zip_code"))},null,8,["modelValue","class"]),a(b,{message:o(s).errors["receiver.zip_code"]},null,8,["message"])])])]),e("div",Ds,[e("div",null,[a(y,{value:"Select Drop-off Region *"}),a(ve,{modelValue:o(s).drop_off_region_id,"onUpdate:modelValue":t[56]||(t[56]=l=>o(s).drop_off_region_id=l),class:v(["mt-1 block w-full",{"border-red-500":o(s).errors.drop_off_region_id}]),options:we.value,placeholder:""},null,8,["modelValue","class","options"]),a(b,{message:o(s).errors.drop_off_region_id},null,8,["message"])]),$.value?(i(),u("div",Ts,[e("h3",Os,[t[86]||(t[86]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),n(" "+m($.value.name||"Branch")+" Information ",1)]),e("div",As,[e("p",Ws,[t[87]||(t[87]=e("strong",{class:"text-blue-800"},"Address:",-1)),t[88]||(t[88]=e("br",null,null,-1)),n(" "+m($.value.warehouse_address||"Address information not available"),1)]),$.value.latitude&&$.value.longitude?(i(),u("p",Hs,[t[89]||(t[89]=e("strong",{class:"text-blue-800"},"Coordinates:",-1)),t[90]||(t[90]=e("br",null,null,-1)),n(" "+m($.value.latitude)+", "+m($.value.longitude),1)])):(i(),u("p",Gs,t[91]||(t[91]=[e("strong",{class:"text-blue-800"},"Coordinates:",-1),e("br",null,null,-1),e("span",{class:"text-orange-600"},"Coordinates not available - please contact administrator",-1)]))),t[92]||(t[92]=e("div",{class:"pt-2"},[e("p",{class:"text-xs text-blue-600"},[e("strong",null,"Note:"),n(" This is the selected drop-off location for your packages. ")])],-1))]),e("div",Qs,[$.value.latitude&&$.value.longitude?(i(),Me(ot,{key:0,latitude:$.value.latitude,longitude:$.value.longitude,"region-name":$.value.name,zoom:15,height:"200px"},null,8,["latitude","longitude","region-name"])):(i(),u("div",Zs,t[93]||(t[93]=[e("div",{class:"text-center"},[e("svg",{class:"w-8 h-8 mx-auto mb-2 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),e("p",{class:"text-yellow-700 font-medium"},"Map Unavailable"),e("p",{class:"text-yellow-600 text-sm"},"Location coordinates not configured")],-1)])))])])):f("",!0)])]),e("div",Ys,[a(ge,{onClick:Ve,class:"px-6"},{default:I(()=>t[94]||(t[94]=[n(" Back ")])),_:1}),a(ae,{onClick:Ce,class:"px-6"},{default:I(()=>t[95]||(t[95]=[n(" Continue to Package ")])),_:1})])])):f("",!0),V.value===3?(i(),u("div",Xs,[e("div",Ks,[t[98]||(t[98]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Package Information",-1)),a(ge,{onClick:Bt,class:"text-sm"},{default:I(()=>t[97]||(t[97]=[n(" + Add Package ")])),_:1})]),e("div",Js,[e("div",er,[e("div",tr,[e("div",{class:"flex items-center justify-between cursor-pointer",onClick:t[57]||(t[57]=l=>Q.value=!Q.value)},[t[100]||(t[100]=e("h3",{class:"font-semibold text-yellow-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),n(" Advisory Notice ")],-1)),(i(),u("svg",{class:v(["w-4 h-4 transition-transform",Q.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[99]||(t[99]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),Q.value?(i(),u("div",sr,t[101]||(t[101]=[e("p",null," We only carry individual packages up to 10 cubic meters in volume (calculated as Length Ã— Height Ã— Width in cm Ã· 1,000,000) and 100 kg in weight. Items exceeding these limits require special freight arrangements. Please ensure your items meet these requirements before booking. ",-1)]))):f("",!0)]),e("div",rr,[e("div",{class:"flex items-center justify-between cursor-pointer",onClick:t[58]||(t[58]=l=>de.value=!de.value)},[t[103]||(t[103]=e("h3",{class:"font-semibold text-blue-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),n(" Photo Requirements ")],-1)),(i(),u("svg",{class:v(["w-4 h-4 transition-transform",de.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[102]||(t[102]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),de.value?(i(),u("div",lr,t[104]||(t[104]=[e("p",null,[e("strong",null,"Package photos are mandatory for documentation and verification purposes.")],-1),e("div",{class:"ml-4 space-y-1"},[e("p",null,[n("â€¢ "),e("strong",null,"All Packages:"),n(" Minimum 6 images required regardless of quantity")]),e("p",null,[n("â€¢ "),e("strong",null,"Single Package (quantity = 1):"),n(" Front, back, left, right, top, bottom views, plus weighing scale")]),e("p",null,[n("â€¢ "),e("strong",null,"Multiple Packages (quantity > 1):"),n(" Must include 1 group photo showing all packages together, 1 weighing scale photo, plus 4 detailed photos")]),e("p",null,[n("â€¢ "),e("strong",null,"File Size:"),n(" Maximum 5MB per image (automatically compressed if larger)")]),e("p",null,[n("â€¢ "),e("strong",null,"Format:"),n(" JPEG, PNG, GIF")])],-1),e("p",{class:"font-semibold mt-2"},"Ensure photos are clear, well-lit, and show all packages properly for documentation.",-1)]))):f("",!0)]),e("div",or,[e("div",{class:"flex items-center justify-between cursor-pointer",onClick:t[59]||(t[59]=l=>ue.value=!ue.value)},[t[106]||(t[106]=e("h3",{class:"font-semibold text-green-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),n(" Package Type Guide ")],-1)),(i(),u("svg",{class:v(["w-4 h-4 transition-transform",ue.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[105]||(t[105]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),ue.value?(i(),u("div",ar,t[107]||(t[107]=[e("p",null,[e("strong",null,"Select the appropriate package type for your items:")],-1),e("div",{class:"space-y-1"},[e("p",null,[n("â€¢ "),e("strong",null,"Small Pouch:"),n(" Documents, letters, compact tools")]),e("p",null,[n("â€¢ "),e("strong",null,"Medium Box:"),n(" Books, shoes, small appliances")]),e("p",null,[n("â€¢ "),e("strong",null,"Large Box:"),n(" Safety gear, toolkits, clothing")]),e("p",null,[n("â€¢ "),e("strong",null,"XL Box:"),n(" Power tools, helmets, small furniture")]),e("p",null,[n("â€¢ "),e("strong",null,"Large Sack:"),n(" Work gloves, fabric, plastic fittings")]),e("p",null,[n("â€¢ "),e("strong",null,"Standard Roll:"),n(" Blueprints, rolls of wire")]),e("p",null,[n("â€¢ "),e("strong",null,"Bundle Roll:"),n(" Metal pipes, PVC tubes, carpets")]),e("p",null,[n("â€¢ "),e("strong",null,"Custom Size:"),n(" Generators, concrete molds, oversized items")])],-1)]))):f("",!0)]),t[108]||(t[108]=e("div",{class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},[e("h4",{class:"font-semibold text-gray-800 text-sm mb-2"},"Quick Tips"),e("ul",{class:"text-xs text-gray-700 space-y-1"},[e("li",null,"â€¢ Measure in centimeters"),e("li",null,"â€¢ Use accurate weights"),e("li",null,"â€¢ Take clear photos"),e("li",null,"â€¢ Select appropriate package type")])],-1))]),e("div",nr,[(i(!0),u(U,null,z(o(s).packages,(l,g)=>(i(),u("div",{key:g,class:"border border-gray-200 rounded-lg p-6 space-y-4"},[e("div",ir,[e("h3",dr,"Package "+m(g+1),1),e("div",ur,[o(s).packages.length>1?(i(),u("button",{key:0,onClick:p=>Rt(g),type:"button",class:"text-red-600 hover:text-red-700 text-sm font-medium"}," Remove ",8,mr)):f("",!0)])]),e("div",cr,[e("div",null,[a(y,{value:"Package Name *"}),a(k,{modelValue:l.item_name,"onUpdate:modelValue":p=>l.item_name=p,type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors[`packages.${g}.item_name`]}]),placeholder:"e.g., Documents, Electronics, Clothes",onInput:p=>Vt(p,"item_name",g)},null,8,["modelValue","onUpdate:modelValue","class","onInput"]),t[109]||(t[109]=e("p",{class:"text-xs text-gray-500 mt-1"},"Descriptive name for identification and tracking",-1)),a(b,{message:o(s).errors[`packages.${g}.item_name`]},null,8,["message"])]),e("div",null,[a(y,{value:"Special Handling Instructions (Optional)"}),a(k,{modelValue:l.description,"onUpdate:modelValue":p=>l.description=p,type:"text",class:"mt-1 block w-full",placeholder:"For fragile items, perishable goods, etc.",onInput:p=>Pe(p,"description",g)},null,8,["modelValue","onUpdate:modelValue","onInput"]),t[110]||(t[110]=e("p",{class:"text-xs text-gray-500 mt-1"},"Special instructions or handling requirements",-1)),a(b,{message:o(s).errors[`packages.${g}.description`]},null,8,["message"])])]),e("div",null,[a(y,{value:"Package Type *"}),e("div",pr,[(i(!0),u(U,null,z(it.value,p=>(i(),u("label",{key:p.value,class:v(["border rounded-lg p-3 cursor-pointer transition-all duration-200 text-center",l.preset===p.value?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300 hover:border-gray-400"])},[O(e("input",{type:"radio","onUpdate:modelValue":C=>l.preset=C,value:p.value,onChange:C=>Ct(p.value,g),class:"sr-only"},null,40,gr),[[W,l.preset]]),e("div",vr,[e("div",fr,[p.image?(i(),u("img",{key:0,src:p.image,alt:p.label,class:"max-w-full max-h-full object-contain"},null,8,yr)):(i(),u("div",br,t[111]||(t[111]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)])))]),e("div",hr,m(p.label.split(" (")[0]),1),e("div",_r,m(p.category),1)])],2))),128))]),a(b,{message:o(s).errors[`packages.${g}.preset`]},null,8,["message"]),t[112]||(t[112]=e("p",{class:"text-xs text-gray-500 mt-2"},"Select the container type that matches your item",-1))]),e("div",xr,[e("div",null,[a(y,{value:"Length (cm) *"}),a(k,{modelValue:l.length,"onUpdate:modelValue":p=>l.length=p,type:"text",step:"0.1",min:"0.1",class:v(["mt-1 block w-full",[{"border-red-500":o(s).errors[`packages.${g}.length`]},l.preset!=="custom"?"bg-gray-100 text-gray-600":""]]),placeholder:"0.0",readonly:l.preset!=="custom",onInput:p=>T(p,"length",g),maxlength:"6"},null,8,["modelValue","onUpdate:modelValue","class","readonly","onInput"]),t[113]||(t[113]=e("p",{class:"text-xs text-gray-500 mt-1"},"Longest side measurement in centimeters",-1)),a(b,{message:o(s).errors[`packages.${g}.length`]},null,8,["message"]),l.preset!=="custom"?(i(),u("p",wr,"Preset dimension")):f("",!0)]),e("div",null,[a(y,{value:"Height (cm) *"}),a(k,{modelValue:l.height,"onUpdate:modelValue":p=>l.height=p,type:"text",step:"0.1",min:"0.1",class:v(["mt-1 block w-full",[{"border-red-500":o(s).errors[`packages.${g}.height`]},l.preset!=="custom"?"bg-gray-100 text-gray-600":""]]),placeholder:"0.0",readonly:l.preset!=="custom",onInput:p=>T(p,"height",g),maxlength:"6"},null,8,["modelValue","onUpdate:modelValue","class","readonly","onInput"]),t[114]||(t[114]=e("p",{class:"text-xs text-gray-500 mt-1"},"Vertical measurement in centimeters",-1)),a(b,{message:o(s).errors[`packages.${g}.height`]},null,8,["message"]),l.preset!=="custom"?(i(),u("p",kr,"Preset dimension")):f("",!0)]),e("div",null,[a(y,{value:"Width (cm) *"}),a(k,{modelValue:l.width,"onUpdate:modelValue":p=>l.width=p,type:"text",step:"0.1",min:"0.1",class:v(["mt-1 block w-full",[{"border-red-500":o(s).errors[`packages.${g}.width`]},l.preset!=="custom"?"bg-gray-100 text-gray-600":""]]),placeholder:"0.0",readonly:l.preset!=="custom",onInput:p=>T(p,"width",g),maxlength:"6"},null,8,["modelValue","onUpdate:modelValue","class","readonly","onInput"]),t[115]||(t[115]=e("p",{class:"text-xs text-gray-500 mt-1"},"Side-to-side measurement in centimeters",-1)),a(b,{message:o(s).errors[`packages.${g}.width`]},null,8,["message"]),l.preset!=="custom"?(i(),u("p",Pr,"Preset dimension")):f("",!0)]),e("div",null,[a(y,{value:"Weight Range (kg) *"}),a(ve,{modelValue:l.weight,"onUpdate:modelValue":p=>l.weight=p,class:v(["mt-1 block w-full",{"border-red-500":o(s).errors[`packages.${g}.weight`]}]),options:ct,placeholder:""},null,8,["modelValue","onUpdate:modelValue","class"]),t[116]||(t[116]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select weight range - charged at upper limit",-1)),a(b,{message:o(s).errors[`packages.${g}.weight`]},null,8,["message"])])]),e("div",Cr,[e("div",null,[a(y,{value:"Package Value (â‚±) *"}),a(ve,{modelValue:l.value,"onUpdate:modelValue":p=>l.value=p,class:v(["mt-1 block w-full",{"border-red-500":o(s).errors[`packages.${g}.value`]}]),options:pt,placeholder:""},null,8,["modelValue","onUpdate:modelValue","class"]),t[117]||(t[117]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select the estimated value range for insurance purposes",-1)),a(b,{message:o(s).errors[`packages.${g}.value`]},null,8,["message"])]),e("div",null,[a(y,{value:"Quantity *"}),a(k,{modelValue:l.quantity,"onUpdate:modelValue":p=>l.quantity=p,type:"text",min:"1",max:"100",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors[`packages.${g}.quantity`]}]),placeholder:"1",onInput:p=>T(p,"quantity",g),maxlength:"3"},null,8,["modelValue","onUpdate:modelValue","class","onInput"]),t[118]||(t[118]=e("p",{class:"text-xs text-gray-500 mt-1"},"Number of identical packages",-1)),a(b,{message:o(s).errors[`packages.${g}.quantity`]},null,8,["message"])])]),e("div",null,[a(y,{value:"Package Photos * (Minimum 6 photos required for all packages)"}),e("div",Vr,[e("input",{type:"file",onChange:p=>qt(p,g),multiple:"",accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"},null,40,Er),e("p",qr,[t[119]||(t[119]=n(" Required: Minimum 6 photos for all packages. ")),l.quantity>1?(i(),u("span",Mr,"Must include group photo and weighing scale.")):(i(),u("span",Br,"Must include all sides and weighing scale.")),t[120]||(t[120]=n(" Max 5MB each, will be automatically compressed. "))]),a(b,{message:o(s).errors[`packages.${g}.photos`]},null,8,["message"]),me.value[g]?(i(),u("div",Rr,t[121]||(t[121]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),e("p",{class:"text-sm text-yellow-700"}," Large images detected. They will be compressed automatically for faster upload. ")],-1)]))):f("",!0)]),l.photo_urls&&l.photo_urls.length>0?(i(),u("div",Sr,[e("div",jr,[(i(!0),u(U,null,z(l.photo_urls,(p,C)=>{var R;return i(),u("div",{key:C,class:"relative group"},[e("img",{src:p,alt:`Package ${g+1} photo ${C+1}`,class:"w-24 h-24 object-cover rounded-lg border-2 border-gray-300 shadow-sm transition-all duration-200 group-hover:border-red-400"},null,8,$r),e("div",Ur,m(X((R=l.photos[C])==null?void 0:R.size)),1),e("button",{type:"button",onClick:S=>Mt(g,C),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold shadow-lg transition-all duration-200 hover:bg-red-600 hover:scale-110 hover:shadow-xl border-2 border-white",title:"Remove this photo"}," Ã— ",8,zr)])}),128))]),e("div",Fr,[e("div",Nr,[e("span",Ir,"Total: "+m(l.photo_urls.length)+" photo(s)",1),t[122]||(t[122]=e("span",{class:"text-gray-400"},"â€¢",-1)),e("span",Lr,m(yt(l.photos)),1)]),e("div",Dr,[e("button",{type:"button",onClick:p=>{o(s).packages[g].photos=[],o(s).packages[g].photo_urls=[],ye(g)},class:"text-red-600 hover:text-red-700 font-semibold text-sm bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md transition-colors duration-200"}," Remove All ",8,Tr)])])])):f("",!0),l.quantity>1&&l.photo_urls&&l.photo_urls.length>0?(i(),u("div",Or,[e("p",Ar,[t[127]||(t[127]=n(" ðŸ’¡ ")),t[128]||(t[128]=e("strong",null,"Multiple Package Checklist:",-1)),t[129]||(t[129]=n(" Make sure your 6+ photos include: ")),e("span",Wr,[n(" â€¢ 1 group photo showing all "+m(l.quantity)+" packages together",1),t[123]||(t[123]=e("br",null,null,-1)),t[124]||(t[124]=n(" â€¢ 1 weighing scale photo")),t[125]||(t[125]=e("br",null,null,-1)),t[126]||(t[126]=n(" â€¢ 4+ detailed photos of individual packages "))])])])):f("",!0)])]))),128)),o(s).priceBreakdown?(i(),u("div",Hr,[t[135]||(t[135]=e("h3",{class:"text-lg font-semibold text-green-800 mb-3"},"Price Estimate",-1)),e("div",Gr,[e("div",null,[t[130]||(t[130]=e("p",{class:"text-green-600"},"Base Fee",-1)),e("p",Qr,"â‚±"+m(x(o(s).priceBreakdown.base_fee)),1)]),e("div",null,[t[131]||(t[131]=e("p",{class:"text-green-600"},"Volume Fee",-1)),e("p",Zr,"â‚±"+m(x(o(s).priceBreakdown.volume_fee)),1)]),e("div",null,[t[132]||(t[132]=e("p",{class:"text-green-600"},"Weight Fee",-1)),e("p",Yr,"â‚±"+m(x(o(s).priceBreakdown.weight_fee)),1)]),e("div",null,[t[133]||(t[133]=e("p",{class:"text-green-600"},"Package Fee",-1)),e("p",Xr,"â‚±"+m(x(o(s).priceBreakdown.package_fee)),1)])]),e("div",Kr,[e("div",Jr,[t[134]||(t[134]=e("p",{class:"text-lg font-semibold text-green-800"},"Total Estimated Cost",-1)),e("p",el,"â‚±"+m(x(o(s).total_price)),1)])])])):f("",!0),e("div",tl,[a(ge,{onClick:Ve,class:"px-6"},{default:I(()=>t[136]||(t[136]=[n(" Back ")])),_:1}),a(ae,{onClick:Ce,class:"px-6"},{default:I(()=>t[137]||(t[137]=[n(" Continue to Payment ")])),_:1})])])])])):f("",!0),V.value===4?(i(),u("div",sl,[ce.value?(i(),u("div",rl,[t[189]||(t[189]=e("div",{class:"bg-green-50 border border-green-200 rounded-lg p-4"},[e("h3",{class:"font-semibold text-green-800 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),n(" Request Submitted Successfully! ")]),e("p",{class:"text-sm text-green-700 mt-1"}," Your delivery request has been submitted and is pending approval. Check your email for confirmation. ")],-1)),e("div",ll,[e("div",ol,[t[185]||(t[185]=e("div",{class:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6"},[e("svg",{class:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),t[186]||(t[186]=e("h2",{class:"text-3xl font-bold text-gray-900 mb-4"},"Delivery Request Submitted!",-1)),t[187]||(t[187]=e("p",{class:"text-lg text-gray-600 mb-2"},"Your request has been received and is pending approval",-1)),e("p",al,"Request ID: #"+m(Re.value||$t()),1),e("div",nl,[t[166]||(t[166]=e("h3",{class:"text-lg font-semibold text-green-800 mb-4"},"Request Summary",-1)),e("div",il,[e("div",dl,[e("div",ul,[t[139]||(t[139]=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1)),e("div",null,[t[138]||(t[138]=e("p",{class:"text-sm text-gray-600"},"Pick-up From",-1)),e("p",ml,m(((d=Y.value.find(l=>l.value==o(s).pick_up_region_id))==null?void 0:d.label)||"Not selected"),1)])])]),e("div",cl,[e("div",pl,[t[141]||(t[141]=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1)),e("div",null,[t[140]||(t[140]=e("p",{class:"text-sm text-gray-600"},"Deliver To",-1)),e("p",gl,m(((c=we.value.find(l=>l.value==o(s).drop_off_region_id))==null?void 0:c.label)||"Not selected"),1)])])])]),e("div",vl,[t[143]||(t[143]=e("h4",{class:"font-semibold text-green-700 mb-3"},"Package Summary",-1)),e("div",fl,[e("div",yl,[e("div",null,[t[142]||(t[142]=e("p",{class:"font-medium text-gray-900"},"Total Packages",-1)),e("p",bl,m(F.value)+" items across "+m(o(s).packages.length)+" package type(s)",1)]),e("span",hl,"Qty: "+m(F.value),1)]),(i(!0),u(U,null,z(o(s).packages,(l,g)=>(i(),u("div",{key:g,class:"flex justify-between items-center py-2 border-t border-green-50"},[e("div",null,[e("p",_l,m(l.item_name||`Package ${g+1}`),1),e("p",xl,m(l.length)+"cm Ã— "+m(l.height)+"cm Ã— "+m(l.width)+"cm â€¢ "+m(l.weight)+"kg ",1)]),e("span",wl,"Qty: "+m(l.quantity||1),1)]))),128))])]),e("div",kl,[t[165]||(t[165]=e("h4",{class:"font-semibold text-green-700 mb-3"},"Price Breakdown",-1)),o(s).priceBreakdown?(i(),u("div",Pl,[e("div",Cl,[e("div",null,[t[145]||(t[145]=e("span",{class:"text-gray-600"},"Base Delivery Fee",-1)),e("p",Vl,[t[144]||(t[144]=n(" Standard delivery charge ")),e("span",El," Rate: â‚±"+m(x(q.value.base_fee)),1)])]),e("div",ql,[e("span",Ml,"â‚±"+m(x(o(s).priceBreakdown.base_fee)),1),e("p",Bl,"1 Ã— â‚±"+m(x(q.value.base_fee)),1)])]),e("div",Rl,[e("div",null,[t[147]||(t[147]=e("span",{class:"text-gray-600"},"Volume Charge",-1)),e("p",Sl,[t[146]||(t[146]=n(" Total volume Ã— volume rate ")),e("span",jl," Rate: â‚±"+m(x(q.value.volume_rate))+" per mÂ³ ",1),o(s).packages.length>1?(i(),u("span",$l," ("+m(o(s).packages.length)+" package types) ",1)):f("",!0)])]),e("div",Ul,[e("span",zl,"â‚±"+m(x(o(s).priceBreakdown.volume_fee)),1),e("p",Fl,m(x(be()))+"mÂ³ Ã— â‚±"+m(x(q.value.volume_rate)),1)])]),e("div",Nl,[e("div",null,[t[149]||(t[149]=e("span",{class:"text-gray-600"},"Weight Charge",-1)),e("p",Il,[t[148]||(t[148]=n(" Total weight Ã— weight rate ")),e("span",Ll," Rate: â‚±"+m(x(q.value.weight_rate))+" per kg ",1),dt()?(i(),u("span",Dl," (Different weight ranges) ")):f("",!0)])]),e("div",Tl,[e("span",Ol,"â‚±"+m(x(o(s).priceBreakdown.weight_fee)),1),e("p",Al,m(x(he()))+"kg Ã— â‚±"+m(x(q.value.weight_rate)),1)])]),e("div",Wl,[e("div",null,[t[151]||(t[151]=e("span",{class:"text-gray-600"},"Package Handling Fee",-1)),e("p",Hl,[t[150]||(t[150]=n(" Packages Ã— handling rate ")),e("span",Gl," Rate: â‚±"+m(x(q.value.package_rate))+" per package ",1),F.value>1?(i(),u("span",Ql," ("+m(F.value)+" individual packages) ",1)):f("",!0)])]),e("div",Zl,[e("span",Yl,"â‚±"+m(x(o(s).priceBreakdown.package_fee)),1),e("p",Xl,m(F.value)+" Ã— â‚±"+m(x(q.value.package_rate)),1)])]),o(s).packages.length>1?(i(),u("div",Kl,[t[153]||(t[153]=e("h5",{class:"font-semibold text-gray-700 text-xs mb-2"},"Package Details:",-1)),e("div",Jl,[(i(!0),u(U,null,z(o(s).packages,(l,g)=>(i(),u("div",{key:g,class:"flex justify-between items-center border-b border-gray-200 pb-2 last:border-0"},[e("div",eo,[e("span",to,m(l.item_name||`Package ${g+1}`),1),e("p",so,m(l.length)+"Ã—"+m(l.height)+"Ã—"+m(l.width)+"cm â€¢ "+m(l.weight)+"kg ",1)]),e("div",ro,[e("span",lo,"Qty: "+m(l.quantity||1),1),e("p",oo," Vol: "+m(x(Be(l)))+"mÂ³ ",1)])]))),128)),e("div",ao,[t[152]||(t[152]=e("span",null,"Total:",-1)),e("span",null,m(F.value)+" packages",1)])])])):f("",!0),e("div",no,[t[162]||(t[162]=e("h5",{class:"font-semibold text-blue-700 text-xs mb-2"},"Calculation Summary:",-1)),e("div",io,[e("div",uo,[t[154]||(t[154]=e("span",{class:"font-semibold"},"Total Volume:",-1)),t[155]||(t[155]=e("br",null,null,-1)),n(" "+m(x(be()))+" mÂ³ ",1)]),e("div",mo,[t[156]||(t[156]=e("span",{class:"font-semibold"},"Total Weight:",-1)),t[157]||(t[157]=e("br",null,null,-1)),n(" "+m(x(he()))+" kg ",1)]),e("div",co,[t[158]||(t[158]=e("span",{class:"font-semibold"},"Total Packages:",-1)),t[159]||(t[159]=e("br",null,null,-1)),n(" "+m(F.value)+" units ",1)]),e("div",po,[t[160]||(t[160]=e("span",{class:"font-semibold"},"Package Types:",-1)),t[161]||(t[161]=e("br",null,null,-1)),n(" "+m(o(s).packages.length)+" types ",1)])])]),e("div",go,[e("div",vo,[e("div",null,[t[163]||(t[163]=e("span",{class:"text-lg font-semibold text-green-800"},"Total Amount",-1)),F.value>1?(i(),u("p",fo," For "+m(F.value)+" packages across "+m(o(s).packages.length)+" types ",1)):f("",!0)]),e("div",yo,[e("span",bo,"â‚±"+m(x(o(s).total_price)),1),t[164]||(t[164]=e("p",{class:"text-xs text-gray-500"}," Base + Volume + Weight + Handling ",-1))])])])])):f("",!0)])]),e("div",ho,[t[181]||(t[181]=e("h3",{class:"font-semibold text-blue-800 mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),n(" What Happens Next ")],-1)),e("div",_o,[t[179]||(t[179]=e("div",{class:"flex items-start"},[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"1"),e("div",null,[e("strong",null,"Request Approval:"),n(" Your delivery request is now pending approval. You'll receive email and website notifications within 24 business hours. ")])],-1)),t[180]||(t[180]=e("div",{class:"flex items-start"},[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"2"),e("div",null,[e("strong",null,"Package Handover:"),n(" After approval, bring your packages to the selected drop-off branch location. ")])],-1)),o(s).payment_type==="prepaid"&&o(s).payment_method==="cash"?(i(),u("div",xo,t[167]||(t[167]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"3",-1),e("div",null,[e("strong",null,"Payment Process:"),n(" Pay the total amount in cash at the branch counter when submitting your packages. ")],-1)]))):o(s).payment_type==="prepaid"&&o(s).payment_method==="gcash"?(i(),u("div",wo,t[168]||(t[168]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"3",-1),e("div",null,[e("strong",null,"Payment Options:"),e("br"),n("- Pay via GCash through your My Delivery dashboard (preferred) "),e("br"),n("- OR pay in cash at the branch counter when submitting packages ")],-1)]))):o(s).payment_type==="prepaid"&&o(s).payment_method==="bank"?(i(),u("div",ko,t[169]||(t[169]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"3",-1),e("div",null,[e("strong",null,"Payment Options:"),e("br"),n("- Pay via Bank Transfer through your My Delivery dashboard (preferred) "),e("br"),n("- OR pay in cash at the branch counter when submitting packages ")],-1)]))):o(s).payment_type==="postpaid"?(i(),u("div",Po,t[170]||(t[170]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"3",-1),e("div",null,[e("strong",null,"Package Processing:"),n(" Your packages will be processed and prepared for delivery. ")],-1)]))):(i(),u("div",Co,t[171]||(t[171]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"3",-1),e("div",null,[e("strong",null,"Payment Selection:"),n(" Complete your payment method selection to proceed with package processing. ")],-1)]))),o(s).payment_type==="prepaid"&&(o(s).payment_method==="gcash"||o(s).payment_method==="bank")?(i(),u("div",Vo,t[172]||(t[172]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"4",-1),e("div",null,[e("strong",null,"Payment Verification:"),n(" If paying digitally, submit payment screenshot and reference number for verification. ")],-1)]))):f("",!0),o(s).payment_type==="prepaid"?(i(),u("div",Eo,[e("div",{class:v(["w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0",(o(s).payment_method==="gcash"||o(s).payment_method==="bank","4")])},m(o(s).payment_method==="gcash"||o(s).payment_method==="bank"?"5":"4"),3),t[173]||(t[173]=e("div",null,[e("strong",null,"Package Processing:"),n(" Once payment is verified, your packages will be processed and prepared for delivery. ")],-1))])):f("",!0),o(s).payment_type==="postpaid"?(i(),u("div",qo,[t[175]||(t[175]=e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"4",-1)),e("div",null,[t[174]||(t[174]=e("strong",null,"Delivery & Payment:",-1)),o(s).payment_terms==="net_7"?(i(),u("span",Mo,"Payment due within 7 days after delivery completion. Our collector will visit your location.")):o(s).payment_terms==="net_15"?(i(),u("span",Bo,"Payment due within 15 days after delivery completion. Our collector will visit your location.")):o(s).payment_terms==="net_30"?(i(),u("span",Ro,"Payment due within 30 days after delivery completion. Our collector will visit your location.")):o(s).payment_terms==="cnd"?(i(),u("span",So,"Cash payment on next delivery visit. Our collector will collect payment during the next delivery.")):f("",!0)])])):f("",!0),o(s).payment_type==="postpaid"?(i(),u("div",jo,t[176]||(t[176]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"5",-1),e("div",null,[e("strong",null,"Early Payment Option:"),n(" You can pay earlier via GCash or Bank Transfer through your My Delivery dashboard. ")],-1)]))):f("",!0),o(s).payment_type?f("",!0):(i(),u("div",$o,t[177]||(t[177]=[e("div",{class:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0"},"4",-1),e("div",null,[e("strong",null,"Package Processing:"),n(" Once payment is arranged, your packages will be processed and prepared for delivery. ")],-1)]))),e("div",Uo,[e("div",{class:v(["w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold mr-3 flex-shrink-0",o(s).payment_type==="postpaid"||o(s).payment_type==="prepaid"&&(o(s).payment_method==="gcash"||o(s).payment_method==="bank")?"6":(o(s).payment_type==="prepaid","5")])},m(o(s).payment_type==="postpaid"||o(s).payment_type==="prepaid"&&(o(s).payment_method==="gcash"||o(s).payment_method==="bank")?"6":(o(s).payment_type==="prepaid","5")),3),t[178]||(t[178]=e("div",null,[e("strong",null,"Tracking & Updates:"),n(` Monitor your delivery status in the "My Deliveries" section. You'll receive email and website updates at each major milestone. `)],-1))])]),t[182]||(t[182]=e("div",{class:"mt-4 pt-4 border-t border-blue-200"},[e("div",{class:"flex items-start text-sm text-blue-600"},[e("svg",{class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",null,[e("strong",null,"Need to make changes?"),n(" Contact our support team immediately if you need to modify your request before approval. ")])])],-1))]),e("div",zo,[a(ae,{onClick:Ut,class:"px-8 py-3 text-base"},{default:I(()=>t[183]||(t[183]=[n(" Create Similar Delivery ")])),_:1}),a(o(It),{href:r.route("customer.deliveries.index"),class:"px-8 py-3 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 text-base text-center"},{default:I(()=>t[184]||(t[184]=[n(" View My Deliveries ")])),_:1},8,["href"]),e("a",{href:r.route("contact.us"),class:"px-8 py-3 border border-green-600 text-green-600 rounded-md font-semibold text-xs uppercase tracking-widest hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 text-base text-center"}," Contact Support ",8,Fo)]),t[188]||(t[188]=e("div",{class:"mt-8 text-sm text-gray-500"},[e("p",null,[n("Questions? Contact us at "),e("a",{href:"mailto:support@example.com",class:"text-green-600 hover:text-green-700 font-medium"},"support@example.com")]),e("p",{class:"mt-1"},"Expected approval: Within 24 business hours")],-1))])])])):(i(),u("div",No,[e("div",Io,[e("div",Lo,[e("div",Do,[e("div",To,[t[207]||(t[207]=e("h3",{class:"text-lg font-semibold text-green-800 mb-4"},"Delivery Summary",-1)),e("div",Oo,[e("div",Ao,[e("div",Wo,[t[191]||(t[191]=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1)),e("div",null,[t[190]||(t[190]=e("p",{class:"text-sm text-gray-600"},"Pick-up From",-1)),e("p",Ho,m(((h=Y.value.find(l=>l.value==o(s).pick_up_region_id))==null?void 0:h.label)||"Not selected"),1)])])]),e("div",Go,[e("div",Qo,[t[193]||(t[193]=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1)),e("div",null,[t[192]||(t[192]=e("p",{class:"text-sm text-gray-600"},"Deliver To",-1)),e("p",Zo,m(((w=we.value.find(l=>l.value==o(s).drop_off_region_id))==null?void 0:w.label)||"Not selected"),1)])])])]),e("div",Yo,[t[195]||(t[195]=e("h4",{class:"font-semibold text-green-700 mb-3"},"Package Summary",-1)),e("div",Xo,[e("div",Ko,[e("div",null,[t[194]||(t[194]=e("p",{class:"font-medium text-gray-900"},"Total Packages",-1)),e("p",Jo,m(F.value)+" items across "+m(o(s).packages.length)+" package type(s)",1)]),e("span",ea,"Qty: "+m(F.value),1)]),(i(!0),u(U,null,z(o(s).packages,(l,g)=>(i(),u("div",{key:g,class:"flex justify-between items-center py-2 border-t border-green-50"},[e("div",null,[e("p",ta,m(l.item_name||`Package ${g+1}`),1),e("p",sa,m(l.quantity||1)+" Ã— "+m(l.length)+"cm Ã— "+m(l.height)+"cm Ã— "+m(l.width)+"cm â€¢ "+m(l.weight)+"kg ",1)]),e("span",ra,"Qty: "+m(l.quantity||1),1)]))),128))])]),e("div",la,[t[206]||(t[206]=e("h4",{class:"font-semibold text-green-700 mb-3"},"Price Breakdown",-1)),o(s).priceBreakdown?(i(),u("div",oa,[e("div",aa,[e("div",null,[t[197]||(t[197]=e("span",{class:"text-gray-600"},"Base Delivery Fee",-1)),e("p",na,[t[196]||(t[196]=n(" Standard delivery charge ")),e("span",ia," Rate: â‚±"+m(x(q.value.base_fee)),1)])]),e("div",da,[e("span",ua,"â‚±"+m(x(o(s).priceBreakdown.base_fee)),1),e("p",ma,"1 Ã— â‚±"+m(x(q.value.base_fee)),1)])]),e("div",ca,[e("div",null,[t[199]||(t[199]=e("span",{class:"text-gray-600"},"Volume Charge",-1)),e("p",pa,[t[198]||(t[198]=n(" Total volume Ã— volume rate ")),e("span",ga," Rate: â‚±"+m(x(q.value.volume_rate))+" per mÂ³ ",1)])]),e("div",va,[e("span",fa,"â‚±"+m(x(o(s).priceBreakdown.volume_fee)),1),e("p",ya,m(x(be()))+"mÂ³ Ã— â‚±"+m(x(q.value.volume_rate)),1)])]),e("div",ba,[e("div",null,[t[201]||(t[201]=e("span",{class:"text-gray-600"},"Weight Charge",-1)),e("p",ha,[t[200]||(t[200]=n(" Total weight Ã— weight rate ")),e("span",_a," Rate: â‚±"+m(x(q.value.weight_rate))+" per kg ",1)])]),e("div",xa,[e("span",wa,"â‚±"+m(x(o(s).priceBreakdown.weight_fee)),1),e("p",ka,m(x(he()))+"kg Ã— â‚±"+m(x(q.value.weight_rate)),1)])]),e("div",Pa,[e("div",null,[t[203]||(t[203]=e("span",{class:"text-gray-600"},"Package Handling Fee",-1)),e("p",Ca,[t[202]||(t[202]=n(" Packages Ã— handling rate ")),e("span",Va," Rate: â‚±"+m(x(q.value.package_rate))+" per package ",1)])]),e("div",Ea,[e("span",qa,"â‚±"+m(x(o(s).priceBreakdown.package_fee)),1),e("p",Ma,m(F.value)+" Ã— â‚±"+m(x(q.value.package_rate)),1)])]),e("div",Ba,[t[205]||(t[205]=e("div",{class:"flex justify-between text-sm mb-2"},[e("div",null,[e("span",{class:"text-gray-600"},"Processing Fee"),e("p",{class:"text-xs text-gray-500"},[n(" One-time fee to secure your request "),e("span",{class:"block text-blue-600 font-semibold"}," Required for all delivery requests ")])]),e("div",{class:"text-right"},[e("span",{class:"font-medium"},"-â‚±200.00"),e("p",{class:"text-xs text-gray-500"},"Deducted from total")])],-1)),e("div",Ra,[t[204]||(t[204]=e("div",null,[e("span",{class:"text-lg font-semibold text-green-800"},"Final Amount Due"),e("p",{class:"text-xs text-gray-600"},"After processing fee deduction")],-1)),e("div",Sa,[e("span",ja,"â‚±"+m(x(o(s).total_price-200)),1),e("p",$a," â‚±"+m(x(o(s).total_price))+" - â‚±200.00 ",1)])])])])):f("",!0)])]),e("div",Ua,[t[210]||(t[210]=e("h3",{class:"font-semibold text-blue-800 flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),n(" Processing Fee Payment Required ")],-1)),t[211]||(t[211]=e("div",{class:"bg-white rounded-lg p-4 border border-blue-100 mb-4"},[e("div",{class:"flex justify-between items-center mb-3"},[e("span",{class:"text-lg font-semibold text-blue-800"},"Processing Fee"),e("span",{class:"text-lg font-bold text-blue-800"},"â‚±200.00")]),e("p",{class:"text-sm text-blue-600"}," This one-time fee secures your delivery request and will be deducted from your final payment. Required for all delivery requests to prevent spam. No admin verification needed. ")],-1)),e("div",za,[a(y,{value:"Payment Method for Processing Fee *"}),e("div",Fa,[(i(),u(U,null,z(E,l=>e("label",{key:l.value,class:v(["border rounded-lg p-4 cursor-pointer transition-all duration-200",o(s).downpayment_method===l.value?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300 hover:border-gray-400"])},[e("div",Na,[O(e("input",{type:"radio","onUpdate:modelValue":t[60]||(t[60]=g=>o(s).downpayment_method=g),value:l.value,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"},null,8,Ia),[[W,o(s).downpayment_method]]),e("span",La,m(l.label),1)])],2)),64))]),a(b,{message:o(s).errors.downpayment_method},null,8,["message"])]),e("div",Da,[a(y,{value:"Reference Number *"}),a(k,{modelValue:o(s).downpayment_reference,"onUpdate:modelValue":t[61]||(t[61]=l=>o(s).downpayment_reference=l),type:"text",class:v(["mt-1 block w-full",{"border-red-500":o(s).errors.downpayment_reference}]),placeholder:"Enter transaction reference number"},null,8,["modelValue","class"]),t[208]||(t[208]=e("p",{class:"text-xs text-gray-500 mt-1"},"Reference number from your GCash or Bank transaction",-1)),a(b,{message:o(s).errors.downpayment_reference},null,8,["message"])]),e("div",null,[a(y,{value:"Payment Receipt Screenshot *"}),e("input",{type:"file",onChange:_t,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mt-1"},null,32),t[209]||(t[209]=e("p",{class:"text-xs text-gray-500 mt-1"},"Upload screenshot of your payment confirmation (Max 5MB)",-1)),a(b,{message:o(s).errors.downpayment_receipt},null,8,["message"]),o(s).downpayment_receipt_url?(i(),u("div",Ta,[e("img",{src:o(s).downpayment_receipt_url,alt:"Payment receipt",class:"w-32 h-32 object-cover rounded-lg border border-gray-300"},null,8,Oa),e("button",{type:"button",onClick:xt,class:"mt-2 text-red-600 hover:text-red-700 text-sm font-medium"}," Remove Receipt ")])):f("",!0)])]),o(s).payment_type==="prepaid"&&o(s).payment_method==="cash"?(i(),u("div",Aa,t[212]||(t[212]=[e("h3",{class:"font-semibold text-blue-800 flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})]),n(" Cash Payment Process ")],-1),e("div",{class:"space-y-4 text-sm text-blue-700"},[e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 1:"),n(" Bring your packages to the selected drop-off location ")])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 2:"),n(" Present your delivery request details at the counter ")])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 3:"),n(" Pay the total amount in cash to the cashier ")])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 4:"),n(" Receive your payment receipt and tracking information ")])]),e("div",{class:"bg-white rounded-lg p-3 border border-blue-100 mt-3"},[e("p",{class:"font-semibold text-blue-800"},"ðŸ’¡ Tip: Bring exact change for faster processing")])],-1)]))):f("",!0),o(s).payment_type==="prepaid"&&(o(s).payment_method==="gcash"||o(s).payment_method==="bank")?(i(),u("div",Wa,t[213]||(t[213]=[e("h3",{class:"font-semibold text-blue-800 flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),n(" Digital Payment Process ")],-1),e("div",{class:"space-y-4 text-sm text-blue-700"},[e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 1:"),n(" Wait for your delivery request to be approved ")])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 2:"),n(' Go to "My Deliveries" in your account dashboard ')])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 3:"),n(" Follow the payment instructions for your selected method ")])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 4:"),n(" Take a screenshot of the successful payment ")])]),e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Step 5:"),n(" Submit the screenshot and reference number for verification ")])]),e("div",{class:"bg-white rounded-lg p-3 border border-blue-100 mt-3"},[e("p",{class:"font-semibold text-blue-800"},"ðŸ’¡ Alternative: You can still pay in cash at the drop-off location")])],-1)]))):f("",!0),o(s).payment_type==="prepaid"&&!o(s).payment_method?(i(),u("div",Ha,t[214]||(t[214]=[e("h3",{class:"font-semibold text-blue-800 flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),n(" Prepaid Payment Options ")],-1),e("div",{class:"space-y-4 text-sm text-blue-700"},[e("div",{class:"bg-white rounded-lg p-4 border border-blue-100"},[e("h4",{class:"font-semibold text-blue-800 mb-2"},"Cash Payment"),e("p",null,"Pay directly at the drop-off location counter when submitting your packages")]),e("div",{class:"bg-white rounded-lg p-4 border border-blue-100"},[e("h4",{class:"font-semibold text-blue-800 mb-2"},"Digital Payment (GCash/Bank)"),e("p",null,"Pay online after request approval or pay cash at location with verification")])],-1)]))):f("",!0),o(s).payment_type==="postpaid"?(i(),u("div",Ga,[t[220]||(t[220]=e("h3",{class:"font-semibold text-blue-800 flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),n(" Postpaid Payment Process ")],-1)),e("div",Qa,[t[217]||(t[217]=e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Standard Process:"),n(" Our collector will visit your location according to your payment terms ")])],-1)),t[218]||(t[218]=e("div",{class:"flex items-start"},[e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"}),e("div",null,[e("strong",null,"Early Payment Option:"),n(" You can pay earlier via GCash or Bank Transfer ")])],-1)),e("div",Za,[t[216]||(t[216]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 mr-3 flex-shrink-0"},null,-1)),e("div",null,[t[215]||(t[215]=e("strong",null,"Payment Terms:",-1)),o(s).payment_terms==="net_7"?(i(),u("span",Ya,"Payment due within 7 days after delivery")):o(s).payment_terms==="net_15"?(i(),u("span",Xa,"Payment due within 15 days after delivery")):o(s).payment_terms==="net_30"?(i(),u("span",Ka,"Payment due within 30 days after delivery")):o(s).payment_terms==="cnd"?(i(),u("span",Ja,"Cash payment on next delivery visit")):(i(),u("span",en,"Select payment terms to see details"))])]),t[219]||(t[219]=e("div",{class:"bg-white rounded-lg p-3 border border-blue-100 mt-3"},[e("p",{class:"font-semibold text-blue-800"},"ðŸ’¡ Available only for trusted customers with 3+ completed deliveries")],-1))])])):f("",!0),o(s).payment_type?f("",!0):(i(),u("div",tn,t[221]||(t[221]=[e("h3",{class:"font-semibold text-blue-800 flex items-center mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),n(" Payment Options Overview ")],-1),e("div",{class:"space-y-4 text-sm text-blue-700"},[e("div",{class:"bg-white rounded-lg p-4 border border-blue-100"},[e("h4",{class:"font-semibold text-blue-800 mb-2"},"Prepaid Options"),e("p",null,[e("strong",null,"Cash:"),n(" Pay directly at the drop-off location counter")]),e("p",null,[e("strong",null,"GCash/Bank Transfer:"),n(" Pay online after request approval")])]),e("div",{class:"bg-white rounded-lg p-4 border border-blue-100"},[e("h4",{class:"font-semibold text-blue-800 mb-2"},"Postpaid Options"),e("p",null,[e("strong",null,"Available for trusted customers"),n(" with 3+ completed deliveries")]),e("p",null,"Flexible payment terms with collector visits or early digital payment")])],-1)]))),t[222]||(t[222]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-6"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-yellow-800"},"Important Notes"),e("div",{class:"mt-2 text-sm text-yellow-700"},[e("ul",{class:"list-disc list-inside space-y-1"},[e("li",null,"By submitting this request, you agree to our terms and conditions"),e("li",null,"Delivery time may vary based on route and weather conditions"),e("li",null,"Additional charges may apply for special handling requirements"),e("li",null,"Package value declaration is for insurance purposes only"),e("li",null,"Online payments require admin verification before delivery processing"),e("li",null,"Keep your payment reference numbers for tracking purposes")])])])])],-1))]),e("div",sn,[e("div",rn,[t[223]||(t[223]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Select Payment Options",-1)),e("div",ln,[a(y,{value:"Payment Type *"}),e("div",on,[(i(!0),u(U,null,z(wt.value,l=>(i(),u("label",{key:l.value,class:v(["border rounded-lg p-3 cursor-pointer transition-all duration-200 block w-full",o(s).payment_type===l.value?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300 hover:border-gray-400"])},[e("div",an,[O(e("input",{type:"radio","onUpdate:modelValue":t[62]||(t[62]=g=>o(s).payment_type=g),value:l.value,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 mt-0.5 flex-shrink-0"},null,8,nn),[[W,o(s).payment_type]]),e("div",dn,[e("span",un,m(l.label),1),l.value==="postpaid"?(i(),u("p",mn," Available for customers with 3+ completed deliveries ")):(i(),u("p",cn," Pay now before delivery processing "))])])],2))),128))]),a(b,{message:o(s).errors.payment_type},null,8,["message"])]),o(s).payment_type==="prepaid"?(i(),u("div",pn,[a(y,{value:"Payment Method *"}),e("div",gn,[(i(),u(U,null,z(kt,l=>e("label",{key:l.value,class:v(["border rounded-lg p-3 cursor-pointer transition-all duration-200 block w-full",o(s).payment_method===l.value?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300 hover:border-gray-400"])},[e("div",vn,[O(e("input",{type:"radio","onUpdate:modelValue":t[63]||(t[63]=g=>o(s).payment_method=g),value:l.value,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 mt-0.5 flex-shrink-0"},null,8,fn),[[W,o(s).payment_method]]),e("div",yn,[e("span",bn,m(l.label),1),e("p",hn,[l.value==="cash"?(i(),u("span",_n,"Pay at drop-off location counter")):l.value==="gcash"?(i(),u("span",xn,"Pay online or at location with verification")):l.value==="bank"?(i(),u("span",wn,"Bank transfer with proof of payment")):f("",!0)])])])],2)),64))]),a(b,{message:o(s).errors.payment_method},null,8,["message"])])):f("",!0),o(s).payment_type==="postpaid"?(i(),u("div",kn,[a(y,{value:"Payment Terms *"}),e("div",Pn,[(i(),u(U,null,z(ht,l=>e("label",{key:l.value,class:v(["border rounded-lg p-3 cursor-pointer transition-all duration-200 block w-full",o(s).payment_terms===l.value?"border-green-500 bg-green-50 ring-2 ring-green-200":"border-gray-300 hover:border-gray-400"])},[e("div",Cn,[O(e("input",{type:"radio","onUpdate:modelValue":t[64]||(t[64]=g=>o(s).payment_terms=g),value:l.value,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 mt-0.5 flex-shrink-0"},null,8,Vn),[[W,o(s).payment_terms]]),e("div",En,[e("span",qn,m(l.label.split(" (")[0]),1),e("p",Mn,[l.value==="net_7"?(i(),u("span",Bn,"Payment due within 7 days after delivery")):l.value==="net_15"?(i(),u("span",Rn,"Payment due within 15 days after delivery")):l.value==="net_30"?(i(),u("span",Sn,"Payment due within 30 days after delivery")):l.value==="cnd"?(i(),u("span",jn,"Cash payment on next delivery visit")):f("",!0)])])])],2)),64))]),a(b,{message:o(s).errors.payment_terms},null,8,["message"])])):f("",!0)])])]),e("div",$n,[a(ge,{onClick:Ve,class:"px-6"},{default:I(()=>t[224]||(t[224]=[n(" Back ")])),_:1}),a(ae,{onClick:jt,disabled:o(s).processing||A.value,class:"px-8"},{default:I(()=>[o(s).processing||A.value?(i(),u("span",Un,t[225]||(t[225]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Processing... ")]))):(i(),u("span",zn,"Submit Delivery Request"))]),_:1},8,["disabled"])])])]))])):f("",!0)])],2)])])])]}),_:1}))}};export{si as default};
