import{E as St}from"./EmployeeLayout-CfA_UWXy.js";import{_ as Lt}from"./PrimaryButton-Cvq5q4eC.js";import{_ as Bt}from"./SecondaryButton-BRyA478y.js";import{j as Ot,i as Rt,d as Mt,o as x,w as _,b as t,c as k,e as h,f as r,t as a,F as Ut,r as Ft,n as Vt,a as Pt,W as Wt}from"./app-B0MxlU5m.js";import{_ as Ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-RNmN4-k9.js";import"./DangerButton-CMc3f1cK.js";const zt={class:"flex justify-between items-center px-6"},jt={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},Gt={class:"flex space-x-2"},Yt={class:"px-6 py-4"},Xt={id:"print-area",class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 max-w-4xl mx-auto"},$t={class:"p-6 print:p-0"},Kt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},Jt={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},Qt={class:"text-sm text-gray-500 dark:text-gray-400"},Zt={class:"text-gray-900 dark:text-gray-100"},te={class:"text-sm text-gray-500 dark:text-gray-400"},ee={class:"text-gray-900 dark:text-gray-100"},se={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},ae={class:"text-sm text-gray-500 dark:text-gray-400"},re={class:"text-gray-900 dark:text-gray-100"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},de={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},ie={class:"text-sm text-gray-500 dark:text-gray-400"},ne={class:"text-gray-900 dark:text-gray-100"},oe={class:"text-sm text-gray-500 dark:text-gray-400"},ye={class:"text-gray-900 dark:text-gray-100"},ge={class:"text-sm text-gray-500 dark:text-gray-400"},me={class:"text-gray-900 dark:text-gray-100"},xe={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},ue={class:"text-sm text-gray-500 dark:text-gray-400"},be={class:"text-gray-900 dark:text-gray-100"},pe={class:"text-sm text-gray-500 dark:text-gray-400"},ve={class:"text-gray-900 dark:text-gray-100"},ce={class:"text-sm text-gray-500 dark:text-gray-400"},fe={class:"text-gray-900 dark:text-gray-100"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},ke={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},_e={class:"text-sm text-gray-900 dark:text-gray-100"},qe={class:"text-sm text-gray-500 dark:text-gray-400"},Ne={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},he={class:"text-sm text-gray-900 dark:text-gray-100"},Ae={class:"text-sm text-gray-500 dark:text-gray-400"},De={class:"mb-6"},Pe={class:"overflow-x-auto"},Ee={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ce={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Ie={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300"},Se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Be={key:0},Oe={class:"mb-6"},Re={class:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-4 text-xs"},Me={class:"grid grid-cols-2 gap-2 mt-1"},Ue={class:"font-mono"},Fe={class:"font-mono"},Ve={class:"font-mono"},We={class:"font-mono"},He={class:"font-mono"},ze={class:"font-mono"},je={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ge={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},Ye={class:"text-sm text-gray-900 dark:text-gray-100 font-medium"},Xe={class:"text-sm text-gray-900 dark:text-gray-100 font-medium"},$e={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},Ke={class:"text-sm text-gray-900 dark:text-gray-100 font-medium"},Je={class:"text-sm text-gray-900 dark:text-gray-100 font-medium"},Qe={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded"},Ze={class:"text-lg text-gray-900 dark:text-gray-100 font-bold"},ts={key:0,class:"mb-6"},es={class:"text-sm text-gray-500 dark:text-gray-400"},ss={class:"text-gray-900 dark:text-gray-100"},as={class:"text-sm text-gray-500 dark:text-gray-400"},rs={class:"text-gray-900 dark:text-gray-100"},ls={class:"text-center py-4 border-t border-gray-200 dark:border-gray-700 print:border-t-0"},ds={class:"flex flex-col md:flex-row justify-center items-center gap-8 mb-2"},is={class:"text-gray-900 dark:text-gray-100"},ns={key:0},os={class:"text-gray-900 dark:text-gray-100"},ys={__name:"Show",props:{waybill:{type:Object,required:!0},order:{type:Object,required:!0}},setup(s){const l=s,q=()=>{var u,b,p,v,c,f,w;const d=(u=l.waybill.delivery_request)==null?void 0:u.payment_type,e=(b=l.waybill.delivery_request)==null?void 0:b.payment_method,i=(p=l.waybill.delivery_request)==null?void 0:p.payment_status,n=(v=l.waybill.delivery_request)==null?void 0:v.payment_verified,o=(c=l.waybill.delivery_request)==null?void 0:c.is_paid,y=(f=l.order)==null?void 0:f.status;let g="UNKNOWN";return d==="prepaid"?e==="cash"?g="PAID":g=i==="paid"&&n||o?"PAID":"PENDING":g=y==="completed"?"COLLECTED":"TO BE COLLECTED",console.log("🔍 PAYMENT STATUS DEBUG:",{paymentType:d,paymentMethod:e,paymentStatus:i,paymentVerified:n,isPaid:o,orderStatus:y,finalStatus:g,waybillId:l.waybill.id,deliveryRequestId:(w=l.waybill.delivery_request)==null?void 0:w.id}),g};Ot(()=>{var d,e,i,n,o,y;console.log("💰 FULL PAYMENT DATA:",{waybill:l.waybill,delivery_request:l.waybill.delivery_request,order:l.order,paymentData:{type:(d=l.waybill.delivery_request)==null?void 0:d.payment_type,method:(e=l.waybill.delivery_request)==null?void 0:e.payment_method,status:(i=l.waybill.delivery_request)==null?void 0:i.payment_status,verified:(n=l.waybill.delivery_request)==null?void 0:n.payment_verified,is_paid:(o=l.waybill.delivery_request)==null?void 0:o.is_paid,total_price:(y=l.waybill.delivery_request)==null?void 0:y.total_price}})});const Et=d=>isNaN(d)?"₱0.00":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(d),Ct=Rt(()=>{switch(q()){case"PAID":case"COLLECTED":return"text-green-600 dark:text-green-400";case"PENDING":return"text-yellow-600 dark:text-yellow-400";case"TO BE COLLECTED":return"text-blue-600 dark:text-blue-400";default:return"text-gray-600 dark:text-gray-400"}}),A=d=>{if(!d)return"Not specified";try{return new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},Tt=()=>{window.open(route("waybills.preview",{id:l.waybill.id,final:!0}),"_blank")},It=()=>{Wt.visit(route("waybills.index"))};return(d,e)=>(x(),Mt(St,null,{header:_(()=>[t("div",zt,[t("h2",jt," Waybill: "+a(s.waybill.waybill_number),1),t("div",Gt,[Pt(Lt,{onClick:Tt,class:"inline-flex items-center no-print"},{default:_(()=>e[0]||(e[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z","clip-rule":"evenodd"})],-1),r(" Print Complete Waybill ")])),_:1}),Pt(Bt,{onClick:It,class:"inline-flex items-center"},{default:_(()=>e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})],-1),r(" Back to Waybills ")])),_:1})])])]),default:_(()=>{var i,n,o,y,g,u,b,p,v,c,f,w,N,D,P,E,C,T,I,S,L,B,O,R,M,U,F,V,W,H,z,j,G,Y,X,$,K,J,Q,Z,tt,et,st,at,rt,lt,dt,it,nt,ot,yt,gt,mt,xt,ut,bt,pt,vt,ct,ft,wt,kt,_t,qt,Nt,ht,At,Dt;return[t("div",Yt,[t("div",Xt,[t("div",$t,[e[51]||(e[51]=t("div",{class:"text-center mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},"INFINITRIX EXPRESS CARGO"),t("p",{class:"text-xl text-gray-600 dark:text-gray-300"},"DELIVERY RECEIPT / WAYBILL (COMPLETED)")],-1)),t("div",Kt,[t("div",null,[t("div",Jt,[t("p",Qt,[e[2]||(e[2]=t("span",{class:"font-semibold"},"Waybill No:",-1)),e[3]||(e[3]=r()),t("span",Zt,a(s.waybill.waybill_number),1)]),t("p",te,[e[4]||(e[4]=t("span",{class:"font-semibold"},"Date:",-1)),e[5]||(e[5]=r()),t("span",ee,a(A(s.waybill.created_at)),1)])])]),t("div",null,[t("div",se,[t("p",ae,[e[6]||(e[6]=t("span",{class:"font-semibold"},"Reference No:",-1)),e[7]||(e[7]=r()),t("span",re,a(((i=s.waybill.delivery_request)==null?void 0:i.reference_number)||"N/A"),1)]),e[8]||(e[8]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},[t("span",{class:"font-semibold"},"Delivery Type:"),r(),t("span",{class:"text-gray-900 dark:text-gray-100"},"Branch to Branch")],-1))])])]),t("div",le,[t("div",de,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Shipper Information",-1)),t("p",ie,[e[9]||(e[9]=t("span",{class:"font-semibold"},"Name:",-1)),e[10]||(e[10]=r()),t("span",ne,a(((o=(n=s.waybill.delivery_request)==null?void 0:n.sender)==null?void 0:o.name)||((g=(y=s.waybill.delivery_request)==null?void 0:y.sender)==null?void 0:g.company_name)||"N/A"),1)]),t("p",oe,[e[11]||(e[11]=t("span",{class:"font-semibold"},"Address:",-1)),e[12]||(e[12]=r()),t("span",ye,a(((b=(u=s.waybill.delivery_request)==null?void 0:u.sender)==null?void 0:b.address)||"N/A"),1)]),t("p",ge,[e[13]||(e[13]=t("span",{class:"font-semibold"},"Mobile:",-1)),e[14]||(e[14]=r()),t("span",me,a(((v=(p=s.waybill.delivery_request)==null?void 0:p.sender)==null?void 0:v.mobile)||"N/A"),1)])]),t("div",xe,[e[22]||(e[22]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Consignee Information",-1)),t("p",ue,[e[16]||(e[16]=t("span",{class:"font-semibold"},"Name:",-1)),e[17]||(e[17]=r()),t("span",be,a(((f=(c=s.waybill.delivery_request)==null?void 0:c.receiver)==null?void 0:f.name)||((N=(w=s.waybill.delivery_request)==null?void 0:w.receiver)==null?void 0:N.company_name)||"N/A"),1)]),t("p",pe,[e[18]||(e[18]=t("span",{class:"font-semibold"},"Address:",-1)),e[19]||(e[19]=r()),t("span",ve,a(((P=(D=s.waybill.delivery_request)==null?void 0:D.receiver)==null?void 0:P.address)||"N/A"),1)]),t("p",ce,[e[20]||(e[20]=t("span",{class:"font-semibold"},"Mobile:",-1)),e[21]||(e[21]=r()),t("span",fe,a(((C=(E=s.waybill.delivery_request)==null?void 0:E.receiver)==null?void 0:C.mobile)||"N/A"),1)])])]),t("div",we,[t("div",ke,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Pickup Branch/Region",-1)),t("p",_e,a(((I=(T=s.waybill.delivery_request)==null?void 0:T.pickUpRegion)==null?void 0:I.name)||((L=(S=s.waybill.delivery_request)==null?void 0:S.pick_up_region)==null?void 0:L.name)||"N/A"),1),t("p",qe,a(((O=(B=s.waybill.delivery_request)==null?void 0:B.pickUpRegion)==null?void 0:O.address)||((M=(R=s.waybill.delivery_request)==null?void 0:R.pick_up_region)==null?void 0:M.address)||((F=(U=s.waybill.delivery_request)==null?void 0:U.pickUpRegion)==null?void 0:F.warehouse_address)||((W=(V=s.waybill.delivery_request)==null?void 0:V.pick_up_region)==null?void 0:W.warehouse_address)||"N/A"),1)]),t("div",Ne,[e[24]||(e[24]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Drop-off Branch/Region",-1)),t("p",he,a(((z=(H=s.waybill.delivery_request)==null?void 0:H.dropOffRegion)==null?void 0:z.name)||((G=(j=s.waybill.delivery_request)==null?void 0:j.drop_off_region)==null?void 0:G.name)||"N/A"),1),t("p",Ae,a(((X=(Y=s.waybill.delivery_request)==null?void 0:Y.dropOffRegion)==null?void 0:X.warehouse_address)||((K=($=s.waybill.delivery_request)==null?void 0:$.drop_off_region)==null?void 0:K.warehouse_address)||((Q=(J=s.waybill.delivery_request)==null?void 0:J.dropOffRegion)==null?void 0:Q.address)||((tt=(Z=s.waybill.delivery_request)==null?void 0:Z.drop_off_region)==null?void 0:tt.address)||"N/A"),1)])]),t("div",De,[e[27]||(e[27]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Package Information",-1)),t("div",Pe,[t("table",Ee,[e[26]||(e[26]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Item Code"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Description"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Weight (kg)"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Dimensions (cm)")])],-1)),t("tbody",Ce,[(x(!0),k(Ut,null,Ft((et=s.waybill.delivery_request)==null?void 0:et.packages,m=>(x(),k("tr",{key:m.id},[t("td",Te,a(m.item_code||"N/A"),1),t("td",Ie,a(m.item_name||"Unspecified Item"),1),t("td",Se,a(m.weight||"N/A"),1),t("td",Le,a(m.length)+"x"+a(m.width)+"x"+a(m.height),1)]))),128)),(at=(st=s.waybill.delivery_request)==null?void 0:st.packages)!=null&&at.length?h("",!0):(x(),k("tr",Be,e[25]||(e[25]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400"},"No packages found",-1)])))])])])]),t("div",Oe,[e[41]||(e[41]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Payment Information",-1)),t("div",Re,[e[34]||(e[34]=t("p",{class:"font-semibold text-yellow-800"},"Payment Status Debug:",-1)),t("div",Me,[t("div",null,[e[28]||(e[28]=r("Payment Type: ")),t("span",Ue,a((rt=s.waybill.delivery_request)==null?void 0:rt.payment_type),1)]),t("div",null,[e[29]||(e[29]=r("Payment Method: ")),t("span",Fe,a((lt=s.waybill.delivery_request)==null?void 0:lt.payment_method),1)]),t("div",null,[e[30]||(e[30]=r("Payment Status: ")),t("span",Ve,a((dt=s.waybill.delivery_request)==null?void 0:dt.payment_status),1)]),t("div",null,[e[31]||(e[31]=r("Payment Verified: ")),t("span",We,a((it=s.waybill.delivery_request)==null?void 0:it.payment_verified),1)]),t("div",null,[e[32]||(e[32]=r("is_paid: ")),t("span",He,a((nt=s.waybill.delivery_request)==null?void 0:nt.is_paid),1)]),t("div",null,[e[33]||(e[33]=r("Final Status: ")),t("span",ze,a(q()),1)])])]),t("div",je,[t("div",Ge,[e[35]||(e[35]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},[t("span",{class:"font-semibold"},"Payment Type:")],-1)),t("p",Ye,a(((yt=(ot=s.waybill.delivery_request)==null?void 0:ot.payment_type)==null?void 0:yt.toUpperCase())||"N/A"),1),e[36]||(e[36]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-3 mb-2"},[t("span",{class:"font-semibold"},"Method:")],-1)),t("p",Xe,a(((mt=(gt=s.waybill.delivery_request)==null?void 0:gt.payment_method)==null?void 0:mt.toUpperCase())||"N/A"),1)]),t("div",$e,[e[37]||(e[37]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},[t("span",{class:"font-semibold"},"Payment Terms:")],-1)),t("p",Ke,a(((xt=s.waybill.delivery_request)==null?void 0:xt.payment_type)==="postpaid"?((ut=s.waybill.delivery_request)==null?void 0:ut.payment_terms)==="net_7"?"Net 7":((bt=s.waybill.delivery_request)==null?void 0:bt.payment_terms)==="net_15"?"Net 15":((pt=s.waybill.delivery_request)==null?void 0:pt.payment_terms)==="net_30"?"Net 30":((vt=s.waybill.delivery_request)==null?void 0:vt.payment_terms)==="cnd"?"CND":"N/A":"For Postpaid Only"),1),e[38]||(e[38]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-3 mb-2"},[t("span",{class:"font-semibold"},"Due Date:")],-1)),t("p",Je,a(((ct=s.waybill.delivery_request)==null?void 0:ct.payment_type)==="postpaid"?(ft=s.waybill.delivery_request)!=null&&ft.payment_due_date?A(s.waybill.delivery_request.payment_due_date):"N/A":"For Postpaid Only"),1)]),t("div",Qe,[e[39]||(e[39]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},[t("span",{class:"font-semibold"},"Total Amount:")],-1)),t("p",Ze,a(Et(((wt=s.waybill.delivery_request)==null?void 0:wt.total_price)||0)),1),e[40]||(e[40]=t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-3 mb-2"},[t("span",{class:"font-semibold"},"Status:")],-1)),t("p",{class:Vt(["text-sm font-medium",Ct.value])},a(q()),3)])])]),s.order&&s.order.driver?(x(),k("div",ts,[e[46]||(e[46]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Delivery Assignment",-1)),t("p",es,[e[42]||(e[42]=t("span",{class:"font-semibold"},"Driver:",-1)),e[43]||(e[43]=r()),t("span",ss,a(((kt=s.order.driver)==null?void 0:kt.name)||"N/A"),1)]),t("p",as,[e[44]||(e[44]=t("span",{class:"font-semibold"},"Truck:",-1)),e[45]||(e[45]=r()),t("span",rs,a(((_t=s.order.truck)==null?void 0:_t.license_plate)||"N/A"),1)])])):h("",!0),t("div",ls,[t("div",ds,[t("div",null,[e[47]||(e[47]=t("span",{class:"font-semibold text-gray-700 dark:text-gray-200"},"Received By:",-1)),t("span",is,a(((Nt=(qt=s.waybill.delivery_request)==null?void 0:qt.receiver)==null?void 0:Nt.name)||((At=(ht=s.waybill.delivery_request)==null?void 0:ht.receiver)==null?void 0:At.company_name)||"N/A"),1)]),(Dt=s.order)!=null&&Dt.truck?(x(),k("div",ns,[e[48]||(e[48]=t("span",{class:"font-semibold text-gray-700 dark:text-gray-200"},"Truck Plate:",-1)),t("span",os,a(s.order.truck.license_plate||"N/A"),1)])):h("",!0)]),e[49]||(e[49]=t("p",{class:"text-gray-600 dark:text-gray-300"},"Thank you for choosing Infinitrix Express!",-1)),e[50]||(e[50]=t("div",{class:"text-xs text-gray-400 mt-2"}," This is the final/complete waybill. All delivery and payment details are finalized. ",-1))])])])])]}),_:1}))}},cs=Ht(ys,[["__scopeId","data-v-e4e44c92"]]);export{cs as default};
