import{_ as n}from"./InputLabel-DydH0wB0.js";import{T as v}from"./TextInput-CRqjwWF5.js";import{_ as d}from"./InputError-B4ahD7h-.js";import{_ as P}from"./PrimaryButton-eC2eu5yQ.js";import{_ as pr}from"./SecondaryButton-f4DzqSLc.js";import{D as vr}from"./DangerButton-B7_oj2jq.js";import{S as B}from"./SelectInput-BACJkmZB.js";import{_ as F}from"./TextArea-aLSmk0zP.js";import{g as ar,C as gr,h as fr,c as u,o as m,b as o,F as N,r as S,n as q,t as p,e as b,a,u as s,w as $,f as h,d as hr,j as yr}from"./app-BllHWhcy.js";const br={class:"container mx-auto px-6 py-12 flex gap-12"},_r={class:"w-1/4 space-y-8"},wr={class:"flex flex-col gap-4"},kr=["onClick"],Vr={class:"w-3/4 space-y-8"},xr={key:0,class:"mb-6"},$r={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},Cr={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},Pr={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},Er={key:1,class:"space-y-6"},Ur={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Br={key:0,class:"space-y-2"},Mr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nr={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Sr={class:"flex justify-center mt-6"},Fr={key:2,class:"space-y-6"},qr={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},jr={key:0,class:"space-y-2"},zr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Dr={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Lr={class:"flex justify-between mt-6"},Rr={key:3,class:"space-y-6"},Or={class:"flex justify-between items-center"},Ir={class:"text-lg font-semibold"},Tr={class:"flex space-x-2"},Zr={class:"space-y-4"},Ar={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Wr={key:0,class:"bg-gray-50 p-4 rounded-lg"},Hr={key:0},Gr={key:1},Jr={key:2},Yr={key:3},Kr={key:4},Qr={key:5},Xr={key:6},el={key:7},rl={key:0,class:"relative"},ll={class:"relative w-full h-56 bg-gray-100 rounded-lg overflow-hidden shadow-md flex flex-col justify-center items-center pb-12"},sl=["onClick"],ol=["src","alt"],al=["onClick"],tl={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-2 text-center text-sm"},il={class:"text-xs opacity-80"},nl={class:"flex justify-center pt-2"},dl={class:"flex justify-between pt-4 border-t"},ml={key:4,class:"space-y-6"},ul={class:"flex justify-between items-center"},cl={class:"text-lg font-semibold"},pl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gl=["id","onChange"],fl={key:0,class:"mt-2 text-sm text-gray-600"},hl={key:1,class:"mt-2"},yl=["src"],bl={key:2,class:"mt-2"},_l=["src"],wl={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},kl={key:1},Vl={class:"text-xs text-gray-500 mt-1"},xl={class:"flex justify-between pt-4"},$l={key:5,class:"space-y-6"},Cl={key:0,class:"bg-blue-100 text-blue-800 p-4 rounded-lg"},Pl={class:"p-4 bg-gray-100 rounded-lg space-y-4"},El={key:0,class:"space-y-2"},Ul={key:0},Bl={class:"text-lg font-semibold"},Ml={class:"flex justify-between pt-4"},Nl={key:0},Sl={key:1},Fl={key:6,class:"space-y-6"},ql={class:"bg-green-100 text-green-800 p-4 rounded-lg text-center"},jl={class:"mt-2"},zl={class:"mt-2"},Dl={class:"mt-2"},Ll={class:"flex justify-center pt-6"},Jl={__name:"DeliveryRequestForm",props:{delivery:Object,regions:Array,categories:Array,status:String,success:String,error:String,priceMatrix:Object,context:String},setup(k){var W,H,G,J,Y,K,Q,X,ee,re,le,se,oe,ae,te,ie,ne,de,me,ue,ce,pe,ve,ge,fe,he,ye,be,_e,we,ke,Ve,xe,$e,Ce,Pe,Ee,Ue,Be,Me,Ne,Se,Fe,qe,je,ze,De,Le,Re,Oe,Ie,Te,Ze,Ae,We,He,Ge,Je,Ye,Ke,Qe,Xe,er,rr,lr,sr,or;const c=k,_=[{label:"Small Pouch (25x15x1 cm, max 0.5kg)",value:"small_pouch",dimensions:{height:1,width:15,length:25},weight:.5,category:"piece",image:"/images/presets/small_pouch.png"},{label:"Medium Box (30x25x20 cm, max 5kg)",value:"medium_box",dimensions:{height:20,width:25,length:30},weight:5,category:"carton",image:"/images/presets/medium_box.png"},{label:"Large Box (50x40x35 cm, max 10kg)",value:"large_box",dimensions:{height:35,width:40,length:50},weight:10,category:"carton",image:"/images/presets/large_box.png"},{label:"Extra Large Box (70x50x50 cm, max 15kg)",value:"xl_box",dimensions:{height:50,width:50,length:70},weight:15,category:"carton",image:"/images/presets/xl_box.png"},{label:"Large Sack (60x40x40 cm, max 20kg)",value:"large_sack",dimensions:{height:40,width:40,length:60},weight:20,category:"sack",image:"/images/presets/large_sack.png"},{label:"Standard Roll (50x10x10 cm, max 1.5kg)",value:"standard_roll",dimensions:{height:10,width:10,length:50},weight:1.5,category:"roll",image:"/images/presets/standard_roll.png"},{label:"Bundle Roll (100x10x10 cm, max 3kg)",value:"bundle_roll",dimensions:{height:10,width:10,length:100},weight:3,category:"B/R",image:"/images/presets/bundle_roll.png"},{label:"Custom Size",value:"custom",category:"C/S",image:"/images/presets/custom.png"}],y=ar(1),V=ar(!1),j=[{value:"individual",label:"Individual"},{value:"company",label:"Company"}],tr=[{value:"cash",label:"Cash"},{value:"card",label:"Credit/Debit Card"},{value:"online",label:"Online Payment"}],e=gr({id:((W=c.delivery)==null?void 0:W.id)||null,sender:{customer_category:((G=(H=c.delivery)==null?void 0:H.sender)==null?void 0:G.customer_category)||"individual",first_name:((Y=(J=c.delivery)==null?void 0:J.sender)==null?void 0:Y.first_name)||"",middle_name:((Q=(K=c.delivery)==null?void 0:K.sender)==null?void 0:Q.middle_name)||"",last_name:((ee=(X=c.delivery)==null?void 0:X.sender)==null?void 0:ee.last_name)||"",company_name:((le=(re=c.delivery)==null?void 0:re.sender)==null?void 0:le.company_name)||"",email:((oe=(se=c.delivery)==null?void 0:se.sender)==null?void 0:oe.email)||"",mobile:((te=(ae=c.delivery)==null?void 0:ae.sender)==null?void 0:te.mobile)||"",phone:((ne=(ie=c.delivery)==null?void 0:ie.sender)==null?void 0:ne.phone)||"",building_number:((me=(de=c.delivery)==null?void 0:de.sender)==null?void 0:me.building_number)||"",street:((ce=(ue=c.delivery)==null?void 0:ue.sender)==null?void 0:ce.street)||"",barangay:((ve=(pe=c.delivery)==null?void 0:pe.sender)==null?void 0:ve.barangay)||"",city:((fe=(ge=c.delivery)==null?void 0:ge.sender)==null?void 0:fe.city)||"",province:((ye=(he=c.delivery)==null?void 0:he.sender)==null?void 0:ye.province)||"",zip_code:((_e=(be=c.delivery)==null?void 0:be.sender)==null?void 0:_e.zip_code)||"",notes:((ke=(we=c.delivery)==null?void 0:we.sender)==null?void 0:ke.notes)||""},receiver:{customer_category:((xe=(Ve=c.delivery)==null?void 0:Ve.receiver)==null?void 0:xe.customer_category)||"individual",first_name:((Ce=($e=c.delivery)==null?void 0:$e.receiver)==null?void 0:Ce.first_name)||"",middle_name:((Ee=(Pe=c.delivery)==null?void 0:Pe.receiver)==null?void 0:Ee.middle_name)||"",last_name:((Be=(Ue=c.delivery)==null?void 0:Ue.receiver)==null?void 0:Be.last_name)||"",company_name:((Ne=(Me=c.delivery)==null?void 0:Me.receiver)==null?void 0:Ne.company_name)||"",email:((Fe=(Se=c.delivery)==null?void 0:Se.receiver)==null?void 0:Fe.email)||"",mobile:((je=(qe=c.delivery)==null?void 0:qe.receiver)==null?void 0:je.mobile)||"",phone:((De=(ze=c.delivery)==null?void 0:ze.receiver)==null?void 0:De.phone)||"",building_number:((Re=(Le=c.delivery)==null?void 0:Le.receiver)==null?void 0:Re.building_number)||"",street:((Ie=(Oe=c.delivery)==null?void 0:Oe.receiver)==null?void 0:Ie.street)||"",barangay:((Ze=(Te=c.delivery)==null?void 0:Te.receiver)==null?void 0:Ze.barangay)||"",city:((We=(Ae=c.delivery)==null?void 0:Ae.receiver)==null?void 0:We.city)||"",province:((Ge=(He=c.delivery)==null?void 0:He.receiver)==null?void 0:Ge.province)||"",zip_code:((Ye=(Je=c.delivery)==null?void 0:Je.receiver)==null?void 0:Ye.zip_code)||"",notes:((Qe=(Ke=c.delivery)==null?void 0:Ke.receiver)==null?void 0:Qe.notes)||""},pick_up_region_id:((Xe=c.delivery)==null?void 0:Xe.pick_up_region_id)||"",drop_off_region_id:((er=c.delivery)==null?void 0:er.drop_off_region_id)||"",payment_method:((rr=c.delivery)==null?void 0:rr.payment_method)||"",total_price:((lr=c.delivery)==null?void 0:lr.total_price)||0,priceBreakdown:null,packages:((or=(sr=c.delivery)==null?void 0:sr.packages)==null?void 0:or.map(t=>({id:t.id,item_name:t.item_name||"",description:t.description||"",category:t.category||"piece",height:t.height||"",width:t.width||"",length:t.length||"",weight:t.weight||"",value:t.value||0,photo:null,photo_url:t.photo_path?`/storage/${t.photo_path}`:null,photo_path:t.photo_path||null,preset:"custom"})))||[{item_name:"",description:"",category:"piece",height:"",width:"",length:"",weight:"",value:0,photo:null,photo_url:null,photo_path:null,preset:""}]}),E=t=>{const r=Number(t);return isNaN(r)?"0.00":r.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})},z=(t,r)=>{if(t==="custom")e.packages[r]={...e.packages[r],height:"",width:"",length:"",weight:"",category:"C/S",preset:"custom"};else{const l=_.find(i=>i.value===t);l&&(e.packages[r]={...e.packages[r],height:l.dimensions.height,width:l.dimensions.width,length:l.dimensions.length,weight:l.weight,category:l.category,preset:l.value})}},D=(t,r)=>{const l=e.packages[t].preset;if(!l)return;const i=_.findIndex(x=>x.value===l);if(i===-1)return;let f=i+r;f<0?f=_.length-1:f>=_.length&&(f=0),_[f].value==="custom"&&f!==0&&f!==_.length-1&&(f+=r,f<0&&(f=_.length-1),f>=_.length&&(f=0)),z(_[f].value,t)},ir=()=>{e.packages.push({item_name:"",description:"",category:"",height:"",width:"",length:"",weight:"",value:0,photo:null,photo_url:null,photo_path:null,preset:""})},nr=t=>{const r=JSON.parse(JSON.stringify(e.packages[t]));e.packages.splice(t+1,0,r)},dr=t=>{e.packages.length>1&&e.packages.splice(t,1)},mr=(t,r)=>{const l=t.target.files[0];if(l){if(!l.type.match("image.*")){e.setError(`packages.${r}.photo`,"Only image files are allowed");return}if(l.size>5*1024*1024){e.setError(`packages.${r}.photo`,"File size must be less than 5MB");return}e.packages[r].photo=l,e.clearErrors(`packages.${r}.photo`),e.packages[r].photo_url=URL.createObjectURL(l)}},L=()=>{A()&&(y.value++,window.scrollTo({top:0,behavior:"smooth"}))},R=()=>{y.value--,window.scrollTo({top:0,behavior:"smooth"})},O=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),I=t=>/^(09|\+639)\d{9}$/.test(t),T=t=>t===""||/^[0-9]{7,15}$/.test(t),Z=t=>/^[0-9]{4}$/.test(t),A=()=>{e.clearErrors();let t=!0;return y.value===1&&(e.sender.first_name.trim()||(e.setError("sender.first_name","First name is required."),t=!1),e.sender.last_name.trim()||(e.setError("sender.last_name","Last name is required."),t=!1),e.sender.customer_category==="company"&&!e.sender.company_name.trim()&&(e.setError("sender.company_name","Company Name is required for companies."),t=!1),e.sender.mobile.trim()?I(e.sender.mobile)||(e.setError("sender.mobile","Please enter a valid Philippine mobile number (e.g. 09123456789)."),t=!1):(e.setError("sender.mobile","Mobile number is required."),t=!1),e.sender.email.trim()?O(e.sender.email)||(e.setError("sender.email","Please enter a valid email address."),t=!1):(e.setError("sender.email","Email is required."),t=!1),e.sender.phone&&!T(e.sender.phone)&&(e.setError("sender.phone","Please enter a valid phone number."),t=!1),e.sender.street.trim()||(e.setError("sender.street","Street is required."),t=!1),e.sender.city.trim()||(e.setError("sender.city","City is required."),t=!1),e.sender.province.trim()||(e.setError("sender.province","Province is required."),t=!1),e.sender.zip_code.trim()?Z(e.sender.zip_code)||(e.setError("sender.zip_code","Please enter a valid 4-digit ZIP code."),t=!1):(e.setError("sender.zip_code","ZIP Code is required."),t=!1),e.drop_off_region_id||(e.setError("drop_off_region_id","Drop-off region is required."),t=!1)),y.value===2&&(e.receiver.first_name.trim()||(e.setError("receiver.first_name","First name is required."),t=!1),e.receiver.last_name.trim()||(e.setError("receiver.last_name","Last name is required."),t=!1),e.receiver.customer_category==="company"&&!e.receiver.company_name.trim()&&(e.setError("receiver.company_name","Company Name is required for companies."),t=!1),e.receiver.mobile.trim()?I(e.receiver.mobile)||(e.setError("receiver.mobile","Please enter a valid Philippine mobile number (e.g. 09123456789)."),t=!1):(e.setError("receiver.mobile","Mobile number is required."),t=!1),e.receiver.email.trim()?O(e.receiver.email)||(e.setError("receiver.email","Please enter a valid email address."),t=!1):(e.setError("receiver.email","Email is required."),t=!1),e.receiver.phone&&!T(e.receiver.phone)&&(e.setError("receiver.phone","Please enter a valid phone number."),t=!1),e.receiver.street.trim()||(e.setError("receiver.street","Street is required."),t=!1),e.receiver.city.trim()||(e.setError("receiver.city","City is required."),t=!1),e.receiver.province.trim()||(e.setError("receiver.province","Province is required."),t=!1),e.receiver.zip_code.trim()?Z(e.receiver.zip_code)||(e.setError("receiver.zip_code","Please enter a valid 4-digit ZIP code."),t=!1):(e.setError("receiver.zip_code","ZIP Code is required."),t=!1),e.pick_up_region_id||(e.setError("pick_up_region_id","Pick-up region is required."),t=!1)),y.value===3&&e.packages.forEach((r,l)=>{r.item_name.trim()||(e.setError(`packages.${l}.item_name`,"Package name is required."),t=!1);const i=parseFloat(r.height)||0,f=parseFloat(r.width)||0,x=parseFloat(r.length)||0,C=parseFloat(r.weight)||0,U=parseFloat(r.value)||0;i<=0&&(e.setError(`packages.${l}.height`,"Height must be greater than 0."),t=!1),f<=0&&(e.setError(`packages.${l}.width`,"Width must be greater than 0."),t=!1),x<=0&&(e.setError(`packages.${l}.length`,"Length must be greater than 0."),t=!1),C<=0&&(e.setError(`packages.${l}.weight`,"Weight must be greater than 0."),t=!1),U<0&&(e.setError(`packages.${l}.value`,"Package value cannot be negative."),t=!1),i/100*(f/100)*(x/100)>10&&(e.setError(`packages.${l}.height`,"Package volume exceeds 10 m³."),t=!1),C>100&&(e.setError(`packages.${l}.weight`,"Package weight exceeds 100 kg."),t=!1)}),y.value===5&&(e.payment_method||(e.setError("payment_method","Payment method is required."),t=!1)),t},ur=async()=>{if(!(!e.packages.length||!e.pick_up_region_id||!e.drop_off_region_id))try{const t=e.packages.map(l=>({height:parseFloat(l.height)||0,width:parseFloat(l.width)||0,length:parseFloat(l.length)||0,weight:parseFloat(l.weight)||0})),r=await yr.post(route("customer.delivery-requests.calculate-price"),{packages:t,pick_up_region_id:e.pick_up_region_id,drop_off_region_id:e.drop_off_region_id});e.priceBreakdown=r.data.breakdown,e.total_price=r.data.total_price}catch(t){console.error("Failed to calculate price:",t),e.priceBreakdown=null,e.total_price=0}};fr(()=>[...e.packages.map(t=>[t.height,t.width,t.length,t.weight]),e.pick_up_region_id,e.drop_off_region_id],()=>{ur()},{deep:!0});const cr=()=>{if(A()){V.value=!0,e.total_price=e.priceBreakdown?e.total_price:0;const t=new FormData;t.append("_method","PUT"),t.append("id",e.id),t.append("receiver[first_name]",e.receiver.first_name),t.append("receiver[middle_name]",e.receiver.middle_name||""),t.append("receiver[last_name]",e.receiver.last_name||""),t.append("receiver[company_name]",e.receiver.company_name||""),t.append("receiver[email]",e.receiver.email),t.append("receiver[mobile]",e.receiver.mobile||""),t.append("receiver[phone]",e.receiver.phone||""),t.append("receiver[building_number]",e.receiver.building_number||""),t.append("receiver[street]",e.receiver.street||""),t.append("receiver[barangay]",e.receiver.barangay||""),t.append("receiver[city]",e.receiver.city||""),t.append("receiver[province]",e.receiver.province||""),t.append("receiver[zip_code]",e.receiver.zip_code||""),t.append("receiver[notes]",e.receiver.notes||""),t.append("sender[notes]",e.sender.notes||""),t.append("pick_up_region_id",e.pick_up_region_id),t.append("drop_off_region_id",e.drop_off_region_id),t.append("payment_method",e.payment_method),e.packages.forEach((r,l)=>{t.append(`packages[${l}][id]`,r.id||""),t.append(`packages[${l}][item_name]`,r.item_name),t.append(`packages[${l}][category]`,r.category),t.append(`packages[${l}][description]`,r.description||""),t.append(`packages[${l}][value]`,r.value||0),t.append(`packages[${l}][height]`,r.height),t.append(`packages[${l}][width]`,r.width),t.append(`packages[${l}][length]`,r.length),t.append(`packages[${l}][weight]`,r.weight),r.photo instanceof File&&t.append(`packages[${l}][photo]`,r.photo),r.photo_path&&t.append(`packages[${l}][photo_path]`,r.photo_path)}),e.post(route("deliveries.update",{delivery:e.id}),{data:t,forceFormData:!0,preserveScroll:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{y.value=6,V.value=!1},onError:r=>{var i,f,x,C;console.error("Submission failed:",r),V.value=!1,(i=r.sender)!=null&&i.mobile&&e.setError("sender.mobile",r.sender.mobile),(f=r.sender)!=null&&f.email&&e.setError("sender.email",r.sender.email),(x=r.receiver)!=null&&x.mobile&&e.setError("receiver.mobile",r.receiver.mobile),(C=r.receiver)!=null&&C.email&&e.setError("receiver.email",r.receiver.email);const l=Object.keys(r)[0];if(l){const U=document.querySelector(`[name="${l}"]`);U&&U.scrollIntoView({behavior:"smooth",block:"center"})}}})}};return(t,r)=>(m(),u("div",br,[o("div",_r,[r[38]||(r[38]=o("h2",{class:"text-2xl font-bold"},"Progress",-1)),o("div",wr,[(m(),u(N,null,S(["Sender Info","Receiver Info","Package Type","Package Details","Payment","Confirmation"],(l,i)=>o("div",{key:i,class:"flex items-center gap-4 cursor-pointer",onClick:f=>y.value>i+1?y.value=i+1:null},[o("div",{class:q(["w-10 h-10 rounded-full flex items-center justify-center",y.value===i+1?"bg-black text-white":y.value>i+1?"bg-green-500 text-white":"bg-gray-300 text-gray-600"])},p(i+1),3),o("span",{class:q([y.value===i+1?"font-semibold":y.value>i+1?"text-green-600":"text-gray-500"])},p(l),3)],8,kr)),64))])]),o("div",Vr,[r[82]||(r[82]=o("h1",{class:"text-3xl font-bold"},"Edit Delivery Request",-1)),k.status||k.success||k.error?(m(),u("div",xr,[k.status?(m(),u("div",$r,p(k.status),1)):b("",!0),k.success?(m(),u("div",Cr,p(k.success),1)):b("",!0),k.error?(m(),u("div",Pr,p(k.error),1)):b("",!0)])):b("",!0),y.value===1?(m(),u("div",Er,[r[40]||(r[40]=o("h2",{class:"text-xl font-semibold"},"Sender Details",-1)),o("div",null,[a(n,{value:"Sender Type"}),a(B,{modelValue:s(e).sender.customer_category,"onUpdate:modelValue":r[0]||(r[0]=l=>s(e).sender.customer_category=l),options:j,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!s(e).errors["sender.customer_category"]},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.customer_category"]},null,8,["message"])]),o("div",Ur,[o("div",null,[a(n,{for:"senderFirstName",value:"First Name *"}),a(v,{id:"senderFirstName",modelValue:s(e).sender.first_name,"onUpdate:modelValue":r[1]||(r[1]=l=>s(e).sender.first_name=l),class:"w-full",error:!!s(e).errors["sender.first_name"],placeholder:"First name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.first_name"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderMiddleName",value:"Middle Name"}),a(v,{id:"senderMiddleName",modelValue:s(e).sender.middle_name,"onUpdate:modelValue":r[2]||(r[2]=l=>s(e).sender.middle_name=l),class:"w-full",error:!!s(e).errors["sender.middle_name"],placeholder:"Middle name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.middle_name"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderLastName",value:"Last Name *"}),a(v,{id:"senderLastName",modelValue:s(e).sender.last_name,"onUpdate:modelValue":r[3]||(r[3]=l=>s(e).sender.last_name=l),class:"w-full",error:!!s(e).errors["sender.last_name"],placeholder:"Last name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.last_name"]},null,8,["message"])])]),s(e).sender.customer_category==="company"?(m(),u("div",Br,[a(n,{for:"senderCompanyName",value:"Company Name *"}),a(v,{id:"senderCompanyName",modelValue:s(e).sender.company_name,"onUpdate:modelValue":r[4]||(r[4]=l=>s(e).sender.company_name=l),class:"w-full",error:!!s(e).errors["sender.company_name"],placeholder:"Official company name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.company_name"]},null,8,["message"])])):b("",!0),o("div",Mr,[o("div",null,[a(n,{for:"senderEmail",value:"Email *"}),a(v,{id:"senderEmail",modelValue:s(e).sender.email,"onUpdate:modelValue":r[5]||(r[5]=l=>s(e).sender.email=l),type:"email",class:"w-full",error:!!s(e).errors["sender.email"],placeholder:"contact@example.com"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.email"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderMobile",value:"Mobile *"}),a(v,{id:"senderMobile",modelValue:s(e).sender.mobile,"onUpdate:modelValue":r[6]||(r[6]=l=>s(e).sender.mobile=l),type:"tel",class:"w-full",error:!!s(e).errors["sender.mobile"],placeholder:"09123456789",maxlength:"11"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.mobile"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderPhone",value:"Phone (Landline)"}),a(v,{id:"senderPhone",modelValue:s(e).sender.phone,"onUpdate:modelValue":r[7]||(r[7]=l=>s(e).sender.phone=l),type:"tel",class:"w-full",error:!!s(e).errors["sender.phone"],placeholder:"021234567",maxlength:"9"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.phone"]},null,8,["message"])])]),o("div",Nr,[o("div",null,[a(n,{for:"senderBuildingNumber",value:"Building Number"}),a(v,{id:"senderBuildingNumber",modelValue:s(e).sender.building_number,"onUpdate:modelValue":r[8]||(r[8]=l=>s(e).sender.building_number=l),class:"w-full",error:!!s(e).errors["sender.building_number"],placeholder:"Building/Unit number"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.building_number"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderStreet",value:"Street *"}),a(v,{id:"senderStreet",modelValue:s(e).sender.street,"onUpdate:modelValue":r[9]||(r[9]=l=>s(e).sender.street=l),class:"w-full",error:!!s(e).errors["sender.street"],placeholder:"Street name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.street"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderBarangay",value:"Barangay"}),a(v,{id:"senderBarangay",modelValue:s(e).sender.barangay,"onUpdate:modelValue":r[10]||(r[10]=l=>s(e).sender.barangay=l),class:"w-full",error:!!s(e).errors["sender.barangay"],placeholder:"Barangay/District"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.barangay"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderCity",value:"City/Municipality *"}),a(v,{id:"senderCity",modelValue:s(e).sender.city,"onUpdate:modelValue":r[11]||(r[11]=l=>s(e).sender.city=l),class:"w-full",error:!!s(e).errors["sender.city"],placeholder:"City/Municipality"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.city"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderProvince",value:"Province *"}),a(v,{id:"senderProvince",modelValue:s(e).sender.province,"onUpdate:modelValue":r[12]||(r[12]=l=>s(e).sender.province=l),class:"w-full",error:!!s(e).errors["sender.province"],placeholder:"Province"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.province"]},null,8,["message"])]),o("div",null,[a(n,{for:"senderZipCode",value:"ZIP Code *"}),a(v,{id:"senderZipCode",modelValue:s(e).sender.zip_code,"onUpdate:modelValue":r[13]||(r[13]=l=>s(e).sender.zip_code=l),maxlength:"4",class:"w-full",error:!!s(e).errors["sender.zip_code"],placeholder:"1234"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.zip_code"]},null,8,["message"])])]),o("div",null,[a(n,{for:"dropOffRegion",value:"Drop-off Region *"}),a(B,{id:"dropOffRegion",modelValue:s(e).drop_off_region_id,"onUpdate:modelValue":r[14]||(r[14]=l=>s(e).drop_off_region_id=l),options:k.regions.map(l=>({value:l.id,label:l.name})),"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!s(e).errors.drop_off_region_id},null,8,["modelValue","options","error"]),a(d,{message:s(e).errors.drop_off_region_id},null,8,["message"])]),o("div",null,[a(n,{for:"senderNotes",value:"Notes"}),a(F,{id:"senderNotes",modelValue:s(e).sender.notes,"onUpdate:modelValue":r[15]||(r[15]=l=>s(e).sender.notes=l),class:"w-full",rows:3,error:s(e).errors["sender.notes"]||"",placeholder:"Additional delivery instructions, landmarks, or special requirements"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["sender.notes"]},null,8,["message"])]),o("div",Sr,[a(P,{onClick:L,disabled:V.value},{default:$(()=>r[39]||(r[39]=[h(" Next ")])),_:1},8,["disabled"])])])):b("",!0),y.value===2?(m(),u("div",Fr,[r[43]||(r[43]=o("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Receiver Details",-1)),o("div",null,[a(n,{value:"Receiver Type"}),a(B,{modelValue:s(e).receiver.customer_category,"onUpdate:modelValue":r[16]||(r[16]=l=>s(e).receiver.customer_category=l),options:j,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!s(e).errors["receiver.customer_category"]},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.customer_category"]},null,8,["message"])]),o("div",qr,[o("div",null,[a(n,{for:"receiverFirstName",value:"First Name *"}),a(v,{id:"receiverFirstName",modelValue:s(e).receiver.first_name,"onUpdate:modelValue":r[17]||(r[17]=l=>s(e).receiver.first_name=l),class:"w-full",error:!!s(e).errors["receiver.first_name"],placeholder:"First name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.first_name"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverMiddleName",value:"Middle Name"}),a(v,{id:"receiverMiddleName",modelValue:s(e).receiver.middle_name,"onUpdate:modelValue":r[18]||(r[18]=l=>s(e).receiver.middle_name=l),class:"w-full",error:!!s(e).errors["receiver.middle_name"],placeholder:"Middle name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.middle_name"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverLastName",value:"Last Name *"}),a(v,{id:"receiverLastName",modelValue:s(e).receiver.last_name,"onUpdate:modelValue":r[19]||(r[19]=l=>s(e).receiver.last_name=l),class:"w-full",error:!!s(e).errors["receiver.last_name"],placeholder:"Last name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.last_name"]},null,8,["message"])])]),s(e).receiver.customer_category==="company"?(m(),u("div",jr,[a(n,{for:"receiverCompanyName",value:"Company Name *"}),a(v,{id:"receiverCompanyName",modelValue:s(e).receiver.company_name,"onUpdate:modelValue":r[20]||(r[20]=l=>s(e).receiver.company_name=l),class:"w-full",error:!!s(e).errors["receiver.company_name"],placeholder:"Official company name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.company_name"]},null,8,["message"])])):b("",!0),o("div",zr,[o("div",null,[a(n,{for:"receiverEmail",value:"Email *"}),a(v,{id:"receiverEmail",modelValue:s(e).receiver.email,"onUpdate:modelValue":r[21]||(r[21]=l=>s(e).receiver.email=l),type:"email",class:"w-full",error:!!s(e).errors["receiver.email"],placeholder:"contact@example.com"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.email"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverMobile",value:"Mobile *"}),a(v,{id:"receiverMobile",modelValue:s(e).receiver.mobile,"onUpdate:modelValue":r[22]||(r[22]=l=>s(e).receiver.mobile=l),type:"tel",class:"w-full",error:!!s(e).errors["receiver.mobile"],placeholder:"09123456789",maxlength:"11"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.mobile"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverPhone",value:"Phone (Landline)"}),a(v,{id:"receiverPhone",modelValue:s(e).receiver.phone,"onUpdate:modelValue":r[23]||(r[23]=l=>s(e).receiver.phone=l),type:"tel",class:"w-full",error:!!s(e).errors["receiver.phone"],placeholder:"021234567",maxlength:"9"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.phone"]},null,8,["message"])])]),o("div",Dr,[o("div",null,[a(n,{for:"receiverBuildingNumber",value:"Building Number"}),a(v,{id:"receiverBuildingNumber",modelValue:s(e).receiver.building_number,"onUpdate:modelValue":r[24]||(r[24]=l=>s(e).receiver.building_number=l),class:"w-full",error:!!s(e).errors["receiver.building_number"],placeholder:"Building/Unit number"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.building_number"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverStreet",value:"Street *"}),a(v,{id:"receiverStreet",modelValue:s(e).receiver.street,"onUpdate:modelValue":r[25]||(r[25]=l=>s(e).receiver.street=l),class:"w-full",error:!!s(e).errors["receiver.street"],placeholder:"Street name"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.street"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverBarangay",value:"Barangay"}),a(v,{id:"receiverBarangay",modelValue:s(e).receiver.barangay,"onUpdate:modelValue":r[26]||(r[26]=l=>s(e).receiver.barangay=l),class:"w-full",error:!!s(e).errors["receiver.barangay"],placeholder:"Barangay/District"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.barangay"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverCity",value:"City/Municipality *"}),a(v,{id:"receiverCity",modelValue:s(e).receiver.city,"onUpdate:modelValue":r[27]||(r[27]=l=>s(e).receiver.city=l),class:"w-full",error:!!s(e).errors["receiver.city"],placeholder:"City/Municipality"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.city"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverProvince",value:"Province *"}),a(v,{id:"receiverProvince",modelValue:s(e).receiver.province,"onUpdate:modelValue":r[28]||(r[28]=l=>s(e).receiver.province=l),class:"w-full",error:!!s(e).errors["receiver.province"],placeholder:"Province"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.province"]},null,8,["message"])]),o("div",null,[a(n,{for:"receiverZipCode",value:"ZIP Code *"}),a(v,{id:"receiverZipCode",modelValue:s(e).receiver.zip_code,"onUpdate:modelValue":r[29]||(r[29]=l=>s(e).receiver.zip_code=l),maxlength:"4",class:"w-full",error:!!s(e).errors["receiver.zip_code"],placeholder:"1234"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.zip_code"]},null,8,["message"])])]),o("div",null,[a(n,{for:"pickUpRegion",value:"Pick-up Region *"}),a(B,{id:"pickUpRegion",modelValue:s(e).pick_up_region_id,"onUpdate:modelValue":r[30]||(r[30]=l=>s(e).pick_up_region_id=l),options:k.regions.map(l=>({value:l.id,label:l.name})),"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!s(e).errors.pick_up_region_id},null,8,["modelValue","options","error"]),a(d,{message:s(e).errors.pick_up_region_id},null,8,["message"])]),o("div",null,[a(n,{for:"receiverNotes",value:"Notes"}),a(F,{id:"receiverNotes",modelValue:s(e).receiver.notes,"onUpdate:modelValue":r[31]||(r[31]=l=>s(e).receiver.notes=l),class:"w-full",rows:3,error:s(e).errors["receiver.notes"]||"",placeholder:"Additional delivery instructions, landmarks, or special requirements"},null,8,["modelValue","error"]),a(d,{message:s(e).errors["receiver.notes"]},null,8,["message"])]),o("div",Lr,[a(P,{onClick:R,disabled:V.value},{default:$(()=>r[41]||(r[41]=[h(" Back ")])),_:1},8,["disabled"]),a(P,{onClick:L,disabled:V.value},{default:$(()=>r[42]||(r[42]=[h(" Next ")])),_:1},8,["disabled"])])])):b("",!0),y.value===3?(m(),u("div",Rr,[r[60]||(r[60]=o("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Package Type Selection",-1)),r[61]||(r[61]=o("div",{class:"bg-yellow-100 text-yellow-800 p-4 rounded-lg"},[h(" 📢 "),o("strong",null,"Advisory:"),h(" We only carry packages with a maximum volume of "),o("strong",null,"10 cubic meters"),h(" (when converted from cm: height × width × length / 1,000,000) and a weight of "),o("strong",null,"100 kg"),h(" per package. Ensure your items meet these requirements. ")],-1)),(m(!0),u(N,null,S(s(e).packages,(l,i)=>{var f,x,C,U,M,g;return m(),u("div",{key:i,class:"border p-4 rounded-lg space-y-4"},[o("div",Or,[o("h3",Ir,"📦 Package "+p(i+1),1),o("div",Tr,[a(pr,{onClick:w=>nr(i),disabled:V.value,class:"!px-3 !py-1.5 text-sm"},{default:$(()=>r[44]||(r[44]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),h(" Duplicate ")])),_:2},1032,["onClick","disabled"]),s(e).packages.length>1?(m(),hr(vr,{key:0,onClick:w=>dr(i),disabled:V.value,class:"!px-3 !py-1.5 text-sm"},{default:$(()=>r[45]||(r[45]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),h(" Remove ")])),_:2},1032,["onClick","disabled"])):b("",!0)])]),o("div",Zr,[o("div",Ar,[o("div",null,[a(n,{for:`preset-${i}`,value:"Package Type *"},null,8,["for"]),a(B,{id:`preset-${i}`,modelValue:l.preset,"onUpdate:modelValue":[w=>l.preset=w,w=>z(w,i)],options:_,"option-value":"value","option-label":"label",class:"mt-1 block w-full"},null,8,["id","modelValue","onUpdate:modelValue"])]),l.preset?(m(),u("div",Wr,[r[54]||(r[54]=o("h4",{class:"font-semibold mb-2"},"About this package type:",-1)),l.preset==="small_pouch"?(m(),u("div",Hr,r[46]||(r[46]=[o("p",null,"Perfect for small, flat items like documents, letters, or small accessories.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Passport, jewelry, small electronics",-1)]))):l.preset==="medium_box"?(m(),u("div",Gr,r[47]||(r[47]=[o("p",null,"Standard box for books, small electronics, or medium-sized items.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Shoes, small appliances, books",-1)]))):l.preset==="large_box"?(m(),u("div",Jr,r[48]||(r[48]=[o("p",null,"Great for larger items that need sturdy packaging.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Clothing, kitchenware, medium electronics",-1)]))):l.preset==="xl_box"?(m(),u("div",Yr,r[49]||(r[49]=[o("p",null,"For bulky items that require extra space.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Lamps, small furniture, large toys",-1)]))):l.preset==="large_sack"?(m(),u("div",Kr,r[50]||(r[50]=[o("p",null,"Best for loose, non-fragile items that can be packed together.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Clothing, fabrics, plush toys",-1)]))):l.preset==="standard_roll"?(m(),u("div",Qr,r[51]||(r[51]=[o("p",null,"Good for compact, rollable items that aren't too long.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Blueprints, wrapping paper, yoga mats",-1)]))):l.preset==="bundle_roll"?(m(),u("div",Xr,r[52]||(r[52]=[o("p",null,"Designed for long, narrow items that can be rolled.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Posters, carpets, banners",-1)]))):l.preset==="custom"?(m(),u("div",el,r[53]||(r[53]=[o("p",null,"Create your own package dimensions for unique items.",-1),o("p",{class:"mt-1 text-sm text-gray-600"},"Example: Oversized items, irregular shapes",-1)]))):b("",!0)])):b("",!0)]),l.preset&&l.preset!=="custom"?(m(),u("div",rl,[o("div",ll,[o("button",{onClick:w=>D(i,-1),class:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-70 rounded-full p-2 hover:bg-opacity-100 transition-all"},r[55]||(r[55]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,sl),o("img",{src:(f=_.find(w=>w.value===l.preset))==null?void 0:f.image,alt:(x=_.find(w=>w.value===l.preset))==null?void 0:x.label,class:"max-h-44 max-w-full object-contain mx-auto"},null,8,ol),o("button",{onClick:w=>D(i,1),class:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-70 rounded-full p-2 hover:bg-opacity-100 transition-all"},r[56]||(r[56]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,al),o("div",tl,[h(p((C=_.find(w=>w.value===l.preset))==null?void 0:C.label)+" ",1),o("div",il,p(l.preset==="custom"?"Custom dimensions":`${(U=_.find(w=>w.value===l.preset))==null?void 0:U.dimensions.length}cm × 
                      ${(M=_.find(w=>w.value===l.preset))==null?void 0:M.dimensions.width}cm × 
                      ${(g=_.find(w=>w.value===l.preset))==null?void 0:g.dimensions.height}cm`),1)])])])):b("",!0)])])}),128)),o("div",nl,[a(P,{onClick:ir,disabled:V.value,class:"!px-4 !py-2"},{default:$(()=>r[57]||(r[57]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Add Another Package ")])),_:1},8,["disabled"])]),o("div",dl,[a(P,{onClick:r[32]||(r[32]=l=>y.value=2),disabled:V.value,class:"!px-4 !py-2"},{default:$(()=>r[58]||(r[58]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),h(" Back ")])),_:1},8,["disabled"]),a(P,{onClick:r[33]||(r[33]=l=>y.value=4),disabled:V.value||!s(e).packages.every(l=>l.preset),class:"!px-4 !py-2"},{default:$(()=>r[59]||(r[59]=[h(" Next "),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1},8,["disabled"])])])):b("",!0),y.value===4?(m(),u("div",ml,[r[64]||(r[64]=o("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Package Details",-1)),(m(!0),u(N,null,S(s(e).packages,(l,i)=>{var f,x,C,U,M;return m(),u("div",{key:i,class:"border p-4 rounded-lg space-y-4"},[o("div",ul,[o("h3",cl,"📦 Package "+p(i+1)+" - "+p(l.preset?(f=_.find(g=>g.value===l.preset))==null?void 0:f.label:"Custom Package"),1)]),o("div",pl,[o("div",null,[a(n,{for:`item_name-${i}`,value:"Package Name *"},null,8,["for"]),a(v,{id:`item_name-${i}`,modelValue:l.item_name,"onUpdate:modelValue":g=>l.item_name=g,class:"w-full",error:!!s(e).errors[`packages.${i}.item_name`],placeholder:"e.g. Document, Electronics, Clothing"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.item_name`]},null,8,["message"])]),o("div",null,[a(n,{for:`category-${i}`,value:"Package Category *"},null,8,["for"]),a(B,{id:`category-${i}`,modelValue:l.category,"onUpdate:modelValue":g=>l.category=g,options:[{value:"piece",label:"Piece"},{value:"carton",label:"Carton"},{value:"sack",label:"Sack"},{value:"bundle",label:"Bundle"},{value:"roll",label:"Roll"},{value:"B/R",label:"B/R"},{value:"C/S",label:"C/S"}],"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!s(e).errors[`packages.${i}.category`],disabled:l.preset&&l.preset!=="custom"},null,8,["id","modelValue","onUpdate:modelValue","error","disabled"]),a(d,{message:s(e).errors[`packages.${i}.category`]},null,8,["message"])])]),o("div",vl,[o("div",null,[a(n,{for:`description-${i}`,value:"Special Instructions"},null,8,["for"]),a(F,{id:`description-${i}`,modelValue:l.description,"onUpdate:modelValue":g=>l.description=g,class:"w-full",rows:3,placeholder:"Package contents, special handling instructions, etc.",error:s(e).errors[`packages.${i}.description`]||""},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.description`]},null,8,["message"])]),o("div",null,[a(n,{for:`photo-${i}`,value:"Package Photo (Optional)"},null,8,["for"]),o("input",{id:`photo-${i}`,type:"file",accept:"image/*",onChange:g=>mr(g,i),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,40,gl),a(d,{message:s(e).errors[`packages.${i}.photo`]},null,8,["message"]),l.photo?(m(),u("div",fl," Selected: "+p(l.photo.name),1)):b("",!0),l.photo_url?(m(),u("div",hl,[o("img",{src:l.photo_url,class:"h-20 object-cover rounded shadow"},null,8,yl)])):b("",!0),l.photo_path?(m(),u("div",bl,[o("img",{src:l.photo_path,class:"h-20 object-cover rounded shadow"},null,8,_l)])):b("",!0)])]),o("div",wl,[o("div",null,[a(n,{for:`value-${i}`,value:"Package Value (₱) *"},null,8,["for"]),a(v,{id:`value-${i}`,modelValue:l.value,"onUpdate:modelValue":g=>l.value=g,modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",class:"w-full",error:!!s(e).errors[`packages.${i}.value`],placeholder:"Declared value in ₱"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.value`]},null,8,["message"])]),l.preset==="custom"?(m(),u(N,{key:0},[o("div",null,[a(n,{for:`height-${i}`,value:"Height (cm) *"},null,8,["for"]),a(v,{id:`height-${i}`,modelValue:l.height,"onUpdate:modelValue":g=>l.height=g,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!s(e).errors[`packages.${i}.height`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.height`]},null,8,["message"])]),o("div",null,[a(n,{for:`width-${i}`,value:"Width (cm) *"},null,8,["for"]),a(v,{id:`width-${i}`,modelValue:l.width,"onUpdate:modelValue":g=>l.width=g,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!s(e).errors[`packages.${i}.width`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.width`]},null,8,["message"])]),o("div",null,[a(n,{for:`length-${i}`,value:"Length (cm) *"},null,8,["for"]),a(v,{id:`length-${i}`,modelValue:l.length,"onUpdate:modelValue":g=>l.length=g,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!s(e).errors[`packages.${i}.length`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.length`]},null,8,["message"])]),o("div",null,[a(n,{for:`weight-${i}`,value:"Weight (kg) *"},null,8,["for"]),a(v,{id:`weight-${i}`,modelValue:l.weight,"onUpdate:modelValue":g=>l.weight=g,modelModifiers:{number:!0},type:"number",min:"0.01",step:"0.01",class:"w-full",error:!!s(e).errors[`packages.${i}.weight`],placeholder:"0.00"},null,8,["id","modelValue","onUpdate:modelValue","error"]),a(d,{message:s(e).errors[`packages.${i}.weight`]},null,8,["message"])])],64)):(m(),u("div",kl,[a(n,{for:`weight-${i}`,value:`Weight (kg) (max ${((x=_.find(g=>g.value===l.preset))==null?void 0:x.weight)||0}kg)`},null,8,["for","value"]),a(v,{id:`weight-${i}`,modelValue:l.weight,"onUpdate:modelValue":g=>l.weight=g,modelModifiers:{number:!0},type:"number",min:"0.01",max:((C=_.find(g=>g.value===l.preset))==null?void 0:C.weight)||0,step:"0.01",class:"w-full",error:!!s(e).errors[`packages.${i}.weight`],placeholder:`Max ${((U=_.find(g=>g.value===l.preset))==null?void 0:U.weight)||0} kg`},null,8,["id","modelValue","onUpdate:modelValue","max","error","placeholder"]),a(d,{message:s(e).errors[`packages.${i}.weight`]},null,8,["message"]),o("div",Vl," Max allowed: "+p(((M=_.find(g=>g.value===l.preset))==null?void 0:M.weight)||0)+" kg ",1)]))])])}),128)),o("div",xl,[a(P,{onClick:r[34]||(r[34]=l=>y.value=3),disabled:V.value,class:"!px-4 !py-2"},{default:$(()=>r[62]||(r[62]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),h(" Back ")])),_:1},8,["disabled"]),a(P,{onClick:r[35]||(r[35]=l=>y.value=5),disabled:V.value,class:"!px-4 !py-2"},{default:$(()=>r[63]||(r[63]=[h(" Next "),o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1},8,["disabled"])])])):b("",!0),y.value===5?(m(),u("div",$l,[r[78]||(r[78]=o("h2",{class:"text-xl flex items-center justify-center font-semibold"},"Payment Price Calculator",-1)),k.priceMatrix?(m(),u("div",Cl,[r[65]||(r[65]=h(" 💰 ")),r[66]||(r[66]=o("strong",null,"Pricing Policy:",-1)),r[67]||(r[67]=o("br",null,null,-1)),r[68]||(r[68]=h(" - Base Fee: ")),o("strong",null,"₱"+p(E(k.priceMatrix.base_fee)),1),r[69]||(r[69]=o("br",null,null,-1)),h(" - ₱"+p(E(k.priceMatrix.volume_rate))+" per cubic meter",1),r[70]||(r[70]=o("br",null,null,-1)),h(" - ₱"+p(E(k.priceMatrix.weight_rate))+" per kilogram",1),r[71]||(r[71]=o("br",null,null,-1)),h(" - ₱"+p(E(k.priceMatrix.package_rate))+" per package ",1)])):b("",!0),o("div",Pl,[(m(!0),u(N,null,S(s(e).packages,(l,i)=>(m(),u(N,{key:i},[o("p",null,[r[72]||(r[72]=h("📦 ")),o("strong",null,"Package "+p(i+1)+":",1)]),o("p",null,"📏 Dimensions: "+p(l.height)+"cm (H) × "+p(l.width)+"cm (W) × "+p(l.length)+"cm (L)",1),o("p",null,"📦 Volume: "+p((l.height/100*(l.width/100)*(l.length/100)).toFixed(3))+" m³ ("+p(l.height/100)+"m × "+p(l.width/100)+"m × "+p(l.length/100)+"m)",1),o("p",null,"⚖️ Weight: "+p(l.weight)+" kg",1),r[73]||(r[73]=o("hr",null,null,-1))],64))),128)),s(e).priceBreakdown?(m(),u("div",El,[r[76]||(r[76]=o("p",null,[h("🧾 "),o("strong",null,"Price Breakdown:")],-1)),o("p",null,"- Base Fee: ₱"+p(E(s(e).priceBreakdown.base_fee)),1),o("p",null,"- Volume Fee: ₱"+p(E(s(e).priceBreakdown.volume_fee)),1),o("p",null,"- Weight Fee: ₱"+p(E(s(e).priceBreakdown.weight_fee)),1),o("p",null,"- Package Fee: ₱"+p(E(s(e).priceBreakdown.package_fee)),1),s(e).priceBreakdown.distance_multiplier>1?(m(),u("p",Ul," - Distance Multiplier: "+p(s(e).priceBreakdown.distance_multiplier)+"x ",1)):b("",!0),o("p",Bl,[r[74]||(r[74]=h("💵 ")),r[75]||(r[75]=o("strong",null,"Total Price:",-1)),h(" ₱"+p(E(s(e).total_price)),1)])])):b("",!0)]),o("div",null,[a(n,{for:"paymentMethod",value:"Payment Method *"}),a(B,{id:"paymentMethod",modelValue:s(e).payment_method,"onUpdate:modelValue":r[36]||(r[36]=l=>s(e).payment_method=l),options:tr,"option-value":"value","option-label":"label",class:"mt-1 block w-full",error:!!s(e).errors.payment_method},null,8,["modelValue","error"]),a(d,{message:s(e).errors.payment_method},null,8,["message"])]),o("div",Ml,[a(P,{onClick:R,disabled:V.value},{default:$(()=>r[77]||(r[77]=[h(" Back ")])),_:1},8,["disabled"]),a(P,{onClick:cr,disabled:V.value,class:q({"opacity-75 cursor-not-allowed":V.value})},{default:$(()=>[V.value?(m(),u("span",Nl,"Updating...")):(m(),u("span",Sl,"Update Request"))]),_:1},8,["disabled","class"])])])):b("",!0),y.value===6?(m(),u("div",Fl,[r[81]||(r[81]=o("h2",{class:"text-xl font-semibold"},"Request Updated Successfully",-1)),o("div",ql,[r[79]||(r[79]=o("p",{class:"text-lg font-semibold"},"✅ Your delivery request has been updated successfully!",-1)),o("p",jl,"Sender: "+p(s(e).sender.first_name)+" "+p(s(e).sender.last_name),1),o("p",zl,"Receiver: "+p(s(e).receiver.first_name)+" "+p(s(e).receiver.last_name),1),o("p",Dl,"Total Price: ₱"+p(E(s(e).total_price)),1)]),o("div",Ll,[a(P,{onClick:r[37]||(r[37]=l=>c.context==="admin"?t.$inertia.visit(t.route("deliveries.pending")):t.$inertia.visit(t.route("customer.delivery-requests.index")))},{default:$(()=>r[80]||(r[80]=[h(" Back to Pending Requests ")])),_:1})])])):b("",!0)])]))}};export{Jl as _};
