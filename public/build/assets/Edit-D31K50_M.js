import{g as z,i as L,C as R,j as O,d as W,o as g,w as p,b as s,a as l,c as f,e as b,t as x,s as H,u as t,f as c,l as Z,W as G}from"./app-DSvpKds8.js";import{E as J}from"./EmployeeLayout-41rkCMFi.js";import{_ as K}from"./PrimaryButton-BaAbC_Sk.js";import{_}from"./SecondaryButton-BMk3kL1H.js";import{D as Q}from"./DangerButton-Bd5m9G75.js";import{_ as i}from"./InputLabel-B5rH5gjD.js";import{T as m}from"./TextInput-CJ3lJQBG.js";import{S as M}from"./SelectInput-CJKTp_P8.js";import{_ as X}from"./TextArea-C2wlkUXD.js";import{_ as d}from"./InputError-DrakuRbM.js";import{M as Y}from"./Modal-CPqIeUsw.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-B7vUiQXa.js";/* empty css                                                                  */const le={class:"flex justify-between items-center w-full px-6 md:px-8"},oe={class:"flex gap-2"},te={class:"zoom-content"},se={class:"px-6 py-4"},ae={key:0,class:"mb-4"},re={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},ie={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},de={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},ne={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},me={class:"p-6 bg-white border-b border-gray-200"},ue={class:"mb-8"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ge={class:"mb-8"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},fe={class:"mb-8"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ce={class:"mb-8"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xe={class:"mb-8"},_e={class:"mt-6 flex justify-end space-x-3"},Ve={key:0},we={key:1},ke={class:"p-5"},he={class:"mt-4 flex justify-end space-x-3"},Ue={__name:"Edit",props:{employee:Object,status:String,success:String,error:String},setup(u){var w,k,h,U,C,B,E,D,I,N,S,$,A;const r=u,y=z(!1),v=z([]),j=[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"driver",label:"Driver"},{value:"collector",label:"Collector"}],T=L(()=>v.value.map(n=>({key:n.value,label:n.label.replace(/\b\w/g,e=>e.toUpperCase())}))),V=n=>n?n.split("T")[0]:"",o=R({name:r.employee.name,email:r.employee.email,role:r.employee.role,employee_id:(w=r.employee.employee_profile)==null?void 0:w.employee_id,phone:((k=r.employee.employee_profile)==null?void 0:k.phone)||"",mobile:((h=r.employee.employee_profile)==null?void 0:h.mobile)||"",building_number:((U=r.employee.employee_profile)==null?void 0:U.building_number)||"",street:((C=r.employee.employee_profile)==null?void 0:C.street)||"",barangay:((B=r.employee.employee_profile)==null?void 0:B.barangay)||"",city:((E=r.employee.employee_profile)==null?void 0:E.city)||"",province:((D=r.employee.employee_profile)==null?void 0:D.province)||"",zip_code:((I=r.employee.employee_profile)==null?void 0:I.zip_code)||"",hire_date:V((N=r.employee.employee_profile)==null?void 0:N.hire_date),termination_date:V((S=r.employee.employee_profile)==null?void 0:S.termination_date),region_id:(($=r.employee.employee_profile)==null?void 0:$.region_id)||"",notes:((A=r.employee.employee_profile)==null?void 0:A.notes)||""}),q=async()=>{try{const n=await Z.get("/api/delivery/regions"),e=Array.isArray(n.data)?n.data:n.data.data||n.data.regions||[];v.value=e.map(a=>({value:a.id,label:a.name}))}catch(n){console.error("Failed to fetch regions:",n),v.value=[]}},P=()=>{o.put(route("admin.employees.update",r.employee.id),{preserveScroll:!0})},F=()=>{y.value=!1,G.visit(route("admin.employees.index"))};return O(()=>{q()}),(n,e)=>(g(),W(J,null,{header:p(()=>[s("div",le,[e[21]||(e[21]=s("div",null,[s("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Edit Employee"),s("p",{class:"mt-1 text-sm text-gray-500"}," Update employee information and profile details ")],-1)),s("div",oe,[l(_,{onClick:e[0]||(e[0]=a=>y.value=!0)},{default:p(()=>e[20]||(e[20]=[c(" Back to List ")])),_:1})])])]),default:p(()=>[s("div",te,[s("div",se,[u.status||u.success||u.error?(g(),f("div",ae,[u.status?(g(),f("div",re,x(u.status),1)):b("",!0),u.success?(g(),f("div",ie,x(u.success),1)):b("",!0),u.error?(g(),f("div",de,x(u.error),1)):b("",!0)])):b("",!0),s("div",ne,[s("div",me,[s("form",{onSubmit:H(P,["prevent"])},[s("div",ue,[e[22]||(e[22]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Basic Information ",-1)),s("div",pe,[s("div",null,[l(i,{for:"employee_id",value:"Employee ID"}),l(m,{id:"employee_id",type:"text",class:"mt-1 block w-full bg-gray-100",modelValue:t(o).employee_id,"onUpdate:modelValue":e[1]||(e[1]=a=>t(o).employee_id=a),readonly:""},null,8,["modelValue"])]),s("div",null,[l(i,{for:"name",value:"Full Name *"}),l(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(o).name,"onUpdate:modelValue":e[2]||(e[2]=a=>t(o).name=a),required:"",autofocus:"",placeholder:"Employee Name"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.name},null,8,["message"])]),s("div",null,[l(i,{for:"email",value:"Email *"}),l(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(o).email,"onUpdate:modelValue":e[3]||(e[3]=a=>t(o).email=a),required:"",placeholder:"employee@example.com"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.email},null,8,["message"])]),s("div",null,[l(i,{for:"role",value:"Role *"}),l(M,{id:"role",modelValue:t(o).role,"onUpdate:modelValue":e[4]||(e[4]=a=>t(o).role=a),options:j,"option-value":"value","option-label":"label",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.role},null,8,["message"])])])]),s("div",ge,[e[23]||(e[23]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Contact Information ",-1)),s("div",ye,[s("div",null,[l(i,{for:"phone",value:"Phone (Landline)"}),l(m,{id:"phone",type:"tel",class:"mt-1 block w-full",modelValue:t(o).phone,"onUpdate:modelValue":e[5]||(e[5]=a=>t(o).phone=a),placeholder:"(02) 1234-5678",maxlength:"10"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.phone},null,8,["message"])]),s("div",null,[l(i,{for:"mobile",value:"Mobile *"}),l(m,{id:"mobile",type:"tel",class:"mt-1 block w-full",modelValue:t(o).mobile,"onUpdate:modelValue":e[6]||(e[6]=a=>t(o).mobile=a),required:"",placeholder:"0917-123-4567",maxlength:"11"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.mobile},null,8,["message"])])])]),s("div",fe,[e[24]||(e[24]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Address Information ",-1)),s("div",be,[s("div",null,[l(i,{for:"building_number",value:"Building Number"}),l(m,{id:"building_number",type:"text",class:"mt-1 block w-full",modelValue:t(o).building_number,"onUpdate:modelValue":e[7]||(e[7]=a=>t(o).building_number=a),placeholder:"Building/Unit No.",maxlength:"10"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.building_number},null,8,["message"])]),s("div",null,[l(i,{for:"street",value:"Street"}),l(m,{id:"street",type:"text",class:"mt-1 block w-full",modelValue:t(o).street,"onUpdate:modelValue":e[8]||(e[8]=a=>t(o).street=a),placeholder:"Street Name",maxlength:"50"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.street},null,8,["message"])]),s("div",null,[l(i,{for:"barangay",value:"Barangay"}),l(m,{id:"barangay",type:"text",class:"mt-1 block w-full",modelValue:t(o).barangay,"onUpdate:modelValue":e[9]||(e[9]=a=>t(o).barangay=a),placeholder:"Barangay/District",maxlength:"50"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.barangay},null,8,["message"])]),s("div",null,[l(i,{for:"city",value:"City/Municipality"}),l(m,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:t(o).city,"onUpdate:modelValue":e[10]||(e[10]=a=>t(o).city=a),placeholder:"City or Municipality",maxlength:"50"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.city},null,8,["message"])]),s("div",null,[l(i,{for:"province",value:"Province"}),l(m,{id:"province",type:"text",class:"mt-1 block w-full",modelValue:t(o).province,"onUpdate:modelValue":e[11]||(e[11]=a=>t(o).province=a),placeholder:"Province Name",maxlength:"50"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.province},null,8,["message"])]),s("div",null,[l(i,{for:"zip_code",value:"ZIP Code"}),l(m,{id:"zip_code",type:"text",class:"mt-1 block w-full",modelValue:t(o).zip_code,"onUpdate:modelValue":e[12]||(e[12]=a=>t(o).zip_code=a),maxlength:"4",placeholder:"e.g., 1234",pattern:"^\\d{4}$"},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.zip_code},null,8,["message"])])])]),s("div",ce,[e[25]||(e[25]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Employment Information ",-1)),s("div",ve,[s("div",null,[l(i,{for:"hire_date",value:"Hire Date"}),l(m,{id:"hire_date",type:"date",class:"mt-1 block w-full",modelValue:t(o).hire_date,"onUpdate:modelValue":e[13]||(e[13]=a=>t(o).hire_date=a)},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.hire_date},null,8,["message"])]),s("div",null,[l(i,{for:"region_id",value:"Assigned Region/Branch"}),l(M,{id:"region_id",modelValue:t(o).region_id,"onUpdate:modelValue":e[14]||(e[14]=a=>t(o).region_id=a),options:T.value,"option-value":"key","option-label":"label",class:"mt-1 block w-full"},null,8,["modelValue","options"]),l(d,{class:"mt-2",message:t(o).errors.region_id},null,8,["message"])]),s("div",null,[l(i,{for:"termination_date",value:"Termination Date"}),l(m,{id:"termination_date",type:"date",class:"mt-1 block w-full",modelValue:t(o).termination_date,"onUpdate:modelValue":e[15]||(e[15]=a=>t(o).termination_date=a)},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.termination_date},null,8,["message"])])])]),s("div",xe,[e[26]||(e[26]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Additional Information ",-1)),s("div",null,[l(i,{for:"notes",value:"Notes"}),l(X,{id:"notes",class:"mt-1 block w-full",modelValue:t(o).notes,"onUpdate:modelValue":e[16]||(e[16]=a=>t(o).notes=a),rows:3,placeholder:"Additional notes about the employee..."},null,8,["modelValue"]),l(d,{class:"mt-2",message:t(o).errors.notes},null,8,["message"])])]),s("div",_e,[l(_,{type:"button",onClick:e[17]||(e[17]=a=>y.value=!0)},{default:p(()=>e[27]||(e[27]=[c(" Cancel ")])),_:1}),l(K,{type:"submit",disabled:t(o).processing},{default:p(()=>[t(o).processing?(g(),f("span",Ve,"Updating...")):(g(),f("span",we,"Update Employee"))]),_:1},8,["disabled"])])],32)])])])]),l(Y,{show:y.value,onClose:e[19]||(e[19]=a=>y.value=!1)},{default:p(()=>[s("div",ke,[e[30]||(e[30]=s("h2",{class:"text-lg font-medium text-gray-900"},"Are you sure you want to cancel?",-1)),e[31]||(e[31]=s("p",{class:"mt-1 text-sm text-gray-600"}," All unsaved changes will be lost. ",-1)),s("div",he,[l(_,{onClick:e[18]||(e[18]=a=>y.value=!1)},{default:p(()=>e[28]||(e[28]=[c(" Continue Editing ")])),_:1}),l(Q,{onClick:F},{default:p(()=>e[29]||(e[29]=[c(" Discard Changes ")])),_:1})])])]),_:1},8,["show"])]),_:1}))}},Pe=ee(Ue,[["__scopeId","data-v-2df2f566"]]);export{Pe as default};
