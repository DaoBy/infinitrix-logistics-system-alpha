import{C as w,d as S,o as i,w as p,b as l,c as u,e as v,t as c,s as C,a as o,u as t,W as _,f as b}from"./app-Xu1-QTPS.js";import{E as T}from"./EmployeeLayout-HD3iRf9t.js";import{_ as h}from"./PrimaryButton-CQvisOOW.js";import{_ as k}from"./SecondaryButton-B4_LijSy.js";import{_ as d}from"./InputLabel-BxIgZQZ8.js";import{T as g}from"./TextInput-42f6rjVr.js";import{S as y}from"./SelectInput-C0-STkNZ.js";import{_ as x}from"./TextArea-DrfKMXJu.js";import{_ as m}from"./InputError-D9nXzJOf.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Dma88ZBl.js";import"./DangerButton-B9GvHwCg.js";/* empty css                                                                  */const U={class:"flex justify-between items-center w-full px-6 md:px-8"},$={class:"text-xl font-semibold leading-tight text-gray-800"},I={class:"flex gap-2"},N={class:"zoom-content"},q={class:"px-6 py-4"},B={key:0,class:"mb-4"},R={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},E={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},M={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 bg-white border-b border-gray-200"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={class:"md:col-span-2"},z={class:"md:col-span-2"},L={class:"md:col-span-2"},P={class:"mt-6 flex justify-end space-x-3"},F={key:0},G={key:1},H={__name:"Create",props:{truck:Object,components:Array,maintenanceTypes:{type:Array,default:()=>[{value:"routine",text:"Routine Maintenance"},{value:"repair",text:"Repair"},{value:"component_replacement",text:"Component Replacement"},{value:"inspection",text:"Inspection"}]},defaultDate:String,status:String,success:String,error:String},setup(n){const f=n,e=w({truck_id:f.truck.id,maintenance_date:f.defaultDate||new Date().toISOString().split("T")[0],type:"routine",service_details:"",cost:"",service_provider:"",notes:"",component_id:""}),V=()=>{e.transform(r=>({...r,cost:r.cost?Number(r.cost):0})).post(route("admin.trucks.maintenance.store",f.truck.id),{preserveScroll:!0,onSuccess:()=>{e.reset()},onError:r=>{console.error("Submission error:",r)}})};return(r,s)=>(i(),S(T,null,{header:p(()=>[l("div",U,[l("div",null,[l("h2",$," Add Maintenance - "+c(n.truck.make)+" "+c(n.truck.model)+" ("+c(n.truck.license_plate)+") ",1),s[9]||(s[9]=l("p",{class:"mt-1 text-sm text-gray-500"}," Record new maintenance for this truck ",-1))]),l("div",I,[o(k,{onClick:s[0]||(s[0]=a=>t(_).get(r.route("admin.trucks.show",n.truck.id)))},{default:p(()=>s[10]||(s[10]=[b(" Back to Truck ")])),_:1})])])]),default:p(()=>[l("div",N,[l("div",q,[n.status||n.success||n.error?(i(),u("div",B,[n.status?(i(),u("div",R,c(n.status),1)):v("",!0),n.success?(i(),u("div",E,c(n.success),1)):v("",!0),n.error?(i(),u("div",M,c(n.error),1)):v("",!0)])):v("",!0),l("div",O,[l("div",j,[l("form",{onSubmit:C(V,["prevent"])},[l("div",A,[l("div",null,[o(d,{for:"maintenance_date",value:"Date *"}),o(g,{id:"maintenance_date",type:"date",class:"mt-1 block w-full",modelValue:t(e).maintenance_date,"onUpdate:modelValue":s[1]||(s[1]=a=>t(e).maintenance_date=a),required:"",max:new Date().toISOString().split("T")[0]},null,8,["modelValue","max"]),o(m,{class:"mt-2",message:t(e).errors.maintenance_date},null,8,["message"])]),l("div",null,[o(d,{for:"type",value:"Type *"}),o(y,{id:"type",modelValue:t(e).type,"onUpdate:modelValue":s[2]||(s[2]=a=>t(e).type=a),options:n.maintenanceTypes,"option-value":"value","option-label":"text",class:"mt-1 block w-full",required:""},null,8,["modelValue","options"]),o(m,{class:"mt-2",message:t(e).errors.type},null,8,["message"])]),l("div",null,[o(d,{for:"service_provider",value:"Service Provider *"}),o(g,{id:"service_provider",type:"text",class:"mt-1 block w-full",modelValue:t(e).service_provider,"onUpdate:modelValue":s[3]||(s[3]=a=>t(e).service_provider=a),required:""},null,8,["modelValue"]),o(m,{class:"mt-2",message:t(e).errors.service_provider},null,8,["message"])]),l("div",null,[o(d,{for:"cost",value:"Cost *"}),o(g,{id:"cost",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:t(e).cost,"onUpdate:modelValue":s[4]||(s[4]=a=>t(e).cost=a),required:""},null,8,["modelValue"]),o(m,{class:"mt-2",message:t(e).errors.cost},null,8,["message"])]),l("div",W,[o(d,{for:"service_details",value:"Service Details *"}),o(x,{id:"service_details",class:"mt-1 block w-full",modelValue:t(e).service_details,"onUpdate:modelValue":s[5]||(s[5]=a=>t(e).service_details=a),required:"",rows:4},null,8,["modelValue"]),o(m,{class:"mt-2",message:t(e).errors.service_details},null,8,["message"])]),l("div",z,[o(d,{for:"component_id",value:"Related Component (Optional)"}),o(y,{id:"component_id",modelValue:t(e).component_id,"onUpdate:modelValue":s[6]||(s[6]=a=>t(e).component_id=a),options:n.components,"option-value":"id","option-label":"name",class:"mt-1 block w-full"},null,8,["modelValue","options"]),o(m,{class:"mt-2",message:t(e).errors.component_id},null,8,["message"])]),l("div",L,[o(d,{for:"notes",value:"Notes"}),o(x,{id:"notes",class:"mt-1 block w-full",modelValue:t(e).notes,"onUpdate:modelValue":s[7]||(s[7]=a=>t(e).notes=a),rows:3},null,8,["modelValue"]),o(m,{class:"mt-2",message:t(e).errors.notes},null,8,["message"])])]),l("div",P,[o(k,{type:"button",onClick:s[8]||(s[8]=a=>t(_).get(r.route("admin.trucks.show",n.truck.id)))},{default:p(()=>s[11]||(s[11]=[b(" Cancel ")])),_:1}),o(h,{type:"submit",disabled:t(e).processing},{default:p(()=>[t(e).processing?(i(),u("span",F,"Creating...")):(i(),u("span",G,"Save Maintenance"))]),_:1},8,["disabled"])])],32)])])])])]),_:1}))}},re=D(H,[["__scopeId","data-v-8f5328eb"]]);export{re as default};
