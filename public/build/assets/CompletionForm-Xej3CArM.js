import{c as d,o as r,b as e,g as W,i as v,C as oe,d as p,w as m,a as u,n as b,t as a,e as g,u as c,f as l,F as ae,r as de,v as G,x as ne,P as le,N as ie}from"./app-B0MxlU5m.js";import{E as ge}from"./EmployeeLayout-CfA_UWXy.js";import{_ as J}from"./PrimaryButton-Cvq5q4eC.js";import{_ as h}from"./SecondaryButton-BRyA478y.js";import{M as ce}from"./Modal-DzMlMPRl.js";import{r as ue}from"./InformationCircleIcon-Dg1sJh6m.js";import{r as K}from"./ExclamationTriangleIcon-CJ2bIJh9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-RNmN4-k9.js";import"./DangerButton-CMc3f1cK.js";function Q(s,i){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}const me={class:"flex justify-between items-center px-4 sm:px-6"},xe={class:"px-4 md:px-6 py-4 max-w-7xl mx-auto"},ye={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ve={class:"lg:col-span-2 space-y-6"},ke={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},be={class:"flex flex-col md:flex-row md:items-center md:justify-between p-4 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800"},fe={class:"flex-1"},pe={class:"flex flex-wrap items-center gap-2 mb-2"},he={class:"text-lg font-bold text-blue-600 dark:text-blue-400 tracking-wide"},we={class:"flex flex-wrap items-center gap-4 text-xs text-gray-600 dark:text-gray-300"},_e={key:0},Ce={key:1},Me={class:"mt-3 md:mt-0"},je={class:"text-2xl font-bold text-blue-900 dark:text-blue-100 text-center md:text-right"},Be={class:"p-4 md:p-6"},De={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},qe={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg text-center"},Re={class:"text-2xl font-bold text-green-600"},Se={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg text-center"},Ne={class:"text-2xl font-bold text-yellow-600"},ze={key:1,class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg text-center"},Pe={class:"text-2xl font-bold text-red-600"},Ae={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg text-center"},Ie={class:"text-2xl font-bold text-blue-600 capitalize"},Ve={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Ee={class:"flex"},Le={class:"flex-shrink-0"},$e={class:"ml-3"},Fe={class:"mt-2 text-sm text-blue-700 dark:text-blue-400"},Te={key:0,class:"font-medium"},Oe={key:1,class:"font-medium"},Ue={class:"mt-1 list-disc list-inside space-y-1"},He={key:0},We={key:1},Ge={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},Je={class:"p-4 md:p-6"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Qe={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},Xe={class:"space-y-2"},Ye={class:"font-medium truncate"},Ze={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1"},et={class:"text-sm text-gray-600 dark:text-gray-400"},tt={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},st={class:"space-y-2"},rt={class:"font-medium truncate"},ot={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1"},at={class:"text-sm text-gray-600 dark:text-gray-400"},dt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},nt={class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},lt={class:"flex justify-between items-center"},it={class:"text-sm text-gray-500"},gt={class:"p-4 md:p-6"},ct={class:"overflow-x-auto"},ut={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},mt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},xt={class:"px-4 py-4 whitespace-nowrap"},yt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},vt={class:"text-sm text-gray-500 dark:text-gray-400"},kt={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},bt={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},ft={key:0},pt={key:1,class:"text-gray-400"},ht={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},wt={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},_t={class:"px-4 py-4 whitespace-nowrap"},Ct={class:"lg:col-span-1"},Mt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 sticky top-6"},jt={class:"p-4"},Bt={key:0,class:"mb-6"},Dt={class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"},qt={class:"flex items-center"},Rt={class:"text-yellow-700 dark:text-yellow-400 text-sm mt-1"},St={key:0},Nt={key:1},zt={key:1,class:"mb-6"},Pt={class:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4"},At={class:"flex items-center"},It={class:"text-orange-700 dark:text-orange-400 text-sm mt-1"},Vt={key:0},Et={key:1},Lt={class:"mb-6"},$t=["disabled"],Ft={class:"space-y-3"},Tt={key:0},Ot={key:1,class:"flex items-center gap-2"},Ut={key:2,class:"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Ht={class:"p-6"},Wt={class:"flex items-center justify-between mb-4"},Gt={class:"space-y-4"},Jt={key:0,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},Kt={key:1,class:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4"},Qt={class:"flex items-start p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"},Xt={class:"flex justify-end space-x-3 mt-6"},Yt={key:0},Zt={key:1},gs={__name:"CompletionForm",props:{order:Object,outcomeStats:Object,requiresRefund:Boolean,hasExistingRefund:Boolean,existingRefundStatus:String,existingRefundId:Number},setup(s){var M,j,B,D,q,R,S,N;const i=s,y=W(!1),k=W(!1),w=v(()=>{var o;return((o=i.order.delivery_request)==null?void 0:o.payment_type)==="postpaid"}),_=v(()=>{var o;return((o=i.order.delivery_request)==null?void 0:o.payment_type)==="prepaid"}),X=v(()=>{var o,t;return((t=(o=i.order.delivery_request)==null?void 0:o.pick_up_region)==null?void 0:t.name)||"N/A"}),Y=v(()=>{var o,t;return((t=(o=i.order.delivery_request)==null?void 0:o.drop_off_region)==null?void 0:t.name)||"N/A"}),Z=v(()=>i.order.status==="delivered"?"Complete Perfect Delivery":"Complete Delivery with Issues"),C=v(()=>i.order.status==="delivered"?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-orange-600 hover:bg-orange-700 focus:ring-orange-500"),x=oe({confirm_completion:!0,notes:"",receiver_name:((j=(M=i.order.delivery_request)==null?void 0:M.receiver)==null?void 0:j.name)||"",receiver_contact:((D=(B=i.order.delivery_request)==null?void 0:B.receiver)==null?void 0:D.phone)||((R=(q=i.order.delivery_request)==null?void 0:q.receiver)==null?void 0:R.mobile)||"",release_packages:((N=(S=i.order.delivery_request)==null?void 0:S.packages)==null?void 0:N.map(o=>o.id))||[]});function ee(){k.value&&(console.log("🟡 Form submitting...",{orderId:i.order.id,formData:x.data()}),x.post(route("delivery-completion.process",{order:i.order.id}),{onSuccess:()=>{console.log("✅ Form submitted successfully"),y.value=!1,k.value=!1},onError:o=>{console.log("❌ Form submission failed:",o)},onFinish:()=>{console.log("🏁 Form submission finished")}}))}function te(o){return{delivered:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",needs_review:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300"}[o]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}function se(o){return{delivered:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",damaged_in_transit:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300",lost_in_transit:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300",in_transit:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300"}[o]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}function re(o){if(!o)return"N/A";try{return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}return(o,t)=>(r(),p(ge,null,{header:m(()=>[e("div",me,[t[9]||(t[9]=e("div",{class:"min-w-0 flex-1"},[e("h2",{class:"text-lg sm:text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200 truncate"}," Delivery Completion "),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400 hidden sm:block"}," Finalize delivery process and confirm package handover ")],-1)),u(h,{onClick:t[0]||(t[0]=f=>o.$inertia.visit(o.route("delivery-completion.ready-for-completion"))),class:"inline-flex items-center text-sm whitespace-nowrap shrink-0 ml-2"},{default:m(()=>t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 sm:mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",{class:"hidden sm:inline"},"Back to Deliveries",-1),e("span",{class:"sm:hidden"},"Back",-1)])),_:1})])]),default:m(()=>{var f,z,P,A,I,V,E,L,$,F,T,O,U,H;return[e("div",xe,[e("div",ye,[e("div",ve,[e("div",ke,[e("div",be,[e("div",fe,[e("div",pe,[e("span",{class:b([te(s.order.status),"inline-flex px-3 py-1 text-sm font-semibold leading-5 rounded-full"])},a(s.order.status.replace("_"," ").toUpperCase()),3),e("span",he,a(((f=s.order.delivery_request)==null?void 0:f.reference_number)||"N/A"),1)]),e("div",we,[e("span",null,"Order ID: DO-"+a(String(s.order.id).padStart(6,"0")),1),s.order.created_at?(r(),d("span",_e,"Created: "+a(re(s.order.created_at)),1)):g("",!0),s.order.driver?(r(),d("span",Ce,"Driver: "+a(s.order.driver.name),1)):g("",!0)])]),e("div",Me,[e("div",je,a(s.outcomeStats.total_packages),1),t[10]||(t[10]=e("div",{class:"text-xs text-gray-600 dark:text-gray-300 text-center md:text-right"}," Total Packages ",-1))])]),e("div",Be,[e("div",De,[e("div",qe,[e("div",Re,a(s.outcomeStats.delivered_count),1),t[11]||(t[11]=e("div",{class:"text-sm text-green-800 dark:text-green-300"},"Delivered",-1))]),s.outcomeStats.damaged_count>0?(r(),d("div",Se,[e("div",Ne,a(s.outcomeStats.damaged_count),1),t[12]||(t[12]=e("div",{class:"text-sm text-yellow-800 dark:text-yellow-300"},"Damaged",-1))])):g("",!0),s.outcomeStats.lost_count>0?(r(),d("div",ze,[e("div",Pe,a(s.outcomeStats.lost_count),1),t[13]||(t[13]=e("div",{class:"text-sm text-red-800 dark:text-red-300"},"Lost",-1))])):g("",!0),e("div",Ae,[e("div",Ie,a((z=s.order.delivery_request)==null?void 0:z.payment_type),1),t[14]||(t[14]=e("div",{class:"text-sm text-blue-800 dark:text-blue-300"},"Payment Type",-1))])]),e("div",Ve,[e("div",Ee,[e("div",Le,[u(c(ue),{class:"h-5 w-5 text-blue-400"})]),e("div",$e,[t[18]||(t[18]=e("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-300"}," Process Guide ",-1)),e("div",Fe,[s.order.status==="delivered"?(r(),d("p",Te,"✅ Perfect Delivery")):(r(),d("p",Oe,"⚠️ Delivery with Issues")),e("ul",Ue,[t[15]||(t[15]=e("li",null,"Review sender and receiver details",-1)),t[16]||(t[16]=e("li",null,"Verify package information below",-1)),t[17]||(t[17]=e("li",null,"Confirm delivery completion",-1)),s.order.status==="needs_review"&&_.value?(r(),d("li",He," System will create refund request for damaged/lost packages ")):s.order.status==="needs_review"&&w.value?(r(),d("li",We," System will adjust invoice for damaged/lost packages ")):g("",!0)])])])])])])]),e("div",Ge,[t[25]||(t[25]=e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),l(" Delivery Parties ")])],-1)),e("div",Je,[e("div",Ke,[e("div",Qe,[t[21]||(t[21]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),l(" Sender ")],-1)),e("div",Xe,[e("p",Ye,a(((A=(P=s.order.delivery_request)==null?void 0:P.sender)==null?void 0:A.name)||"N/A"),1),e("p",Ze,[t[19]||(t[19]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),l(" "+a(((V=(I=s.order.delivery_request)==null?void 0:I.sender)==null?void 0:V.phone)||((L=(E=s.order.delivery_request)==null?void 0:E.sender)==null?void 0:L.mobile)||"No phone"),1)]),e("p",et,[t[20]||(t[20]=e("span",{class:"font-medium"},"Pick-up:",-1)),l(" "+a(X.value),1)])])]),e("div",tt,[t[24]||(t[24]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),l(" Receiver ")],-1)),e("div",st,[e("p",rt,a(((F=($=s.order.delivery_request)==null?void 0:$.receiver)==null?void 0:F.name)||"N/A"),1),e("p",ot,[t[22]||(t[22]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),l(" "+a(((O=(T=s.order.delivery_request)==null?void 0:T.receiver)==null?void 0:O.phone)||((H=(U=s.order.delivery_request)==null?void 0:U.receiver)==null?void 0:H.mobile)||"No phone"),1)]),e("p",at,[t[23]||(t[23]=e("span",{class:"font-medium"},"Delivery:",-1)),l(" "+a(Y.value),1)])])])])])]),e("div",dt,[e("div",nt,[e("div",lt,[t[26]||(t[26]=e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),l(" Package Details ")],-1)),e("span",it,a(s.order.delivery_request.packages.length)+" packages total ",1)])]),e("div",gt,[e("div",ct,[e("table",ut,[t[27]||(t[27]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Dimensions"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Weight"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Value"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),e("tbody",mt,[(r(!0),d(ae,null,de(s.order.delivery_request.packages,n=>(r(),d("tr",{key:n.id},[e("td",xt,[e("div",yt,a(n.item_name),1),e("div",vt,a(n.item_code),1),n.description?(r(),d("div",kt,a(n.description),1)):g("",!0)]),e("td",bt,[n.height&&n.width&&n.length?(r(),d("span",ft,a(n.height)+" × "+a(n.width)+" × "+a(n.length)+" cm ",1)):(r(),d("span",pt,"-"))]),e("td",ht,a(n.weight)+" kg ",1),e("td",wt," ₱"+a(n.value),1),e("td",_t,[e("span",{class:b([se(n.status),"inline-flex px-2 text-xs font-semibold leading-5 rounded-full"])},a(n.status.replace("_"," ").toUpperCase()),3)])]))),128))])])])])])]),e("div",Ct,[e("div",Mt,[t[36]||(t[36]=e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),l(" Completion ")])],-1)),e("div",jt,[s.hasExistingRefund?(r(),d("div",Bt,[e("div",Dt,[e("div",qt,[u(c(K),{class:"h-5 w-5 text-yellow-400 mr-3"}),e("div",null,[t[28]||(t[28]=e("h3",{class:"text-lg font-medium text-yellow-800 dark:text-yellow-300"},"Refund Request Exists",-1)),e("p",Rt,[s.existingRefundStatus==="pending"?(r(),d("span",St," A refund request is pending review. No need to complete delivery again. ")):s.existingRefundStatus==="processed"?(r(),d("span",Nt," Refund has been processed. This delivery is complete. ")):g("",!0)])])])])])):g("",!0),s.order.status==="needs_review"&&!s.hasExistingRefund?(r(),d("div",zt,[e("div",Pt,[e("div",At,[u(c(K),{class:"h-5 w-5 text-orange-400 mr-3"}),e("div",null,[t[29]||(t[29]=e("h3",{class:"text-lg font-medium text-orange-800 dark:text-orange-300"},"Financial Action Required",-1)),e("p",It,[_.value?(r(),d("span",Vt," A refund request will be created for the damaged/lost packages. Customer will be contacted for negotiation. ")):w.value?(r(),d("span",Et," Invoice will be adjusted to exclude charges for damaged/lost packages. ")):g("",!0)])])])])])):g("",!0),e("div",Lt,[t[30]||(t[30]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Additional Notes (Optional) ",-1)),G(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=n=>c(x).notes=n),id:"notes",rows:"3",disabled:s.hasExistingRefund,class:"block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm disabled:opacity-50",placeholder:"Any special notes about the delivery, handover process, or customer communication..."},null,8,$t),[[ne,c(x).notes]])]),e("div",Ft,[s.hasExistingRefund?g("",!0):(r(),p(J,{key:0,onClick:t[2]||(t[2]=n=>y.value=!0),disabled:c(x).processing,class:b(["w-full justify-center",C.value])},{default:m(()=>[c(x).processing?(r(),d("span",Tt,[u(c(Q),{class:"h-4 w-4 animate-spin mr-2"}),t[31]||(t[31]=l(" Processing... "))])):(r(),d("span",Ot,[t[32]||(t[32]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19-7"})],-1)),l(" "+a(Z.value),1)]))]),_:1},8,["disabled","class"])),u(h,{onClick:t[3]||(t[3]=n=>o.$inertia.visit(o.route("delivery-completion.ready-for-completion"))),class:"w-full justify-center"},{default:m(()=>t[33]||(t[33]=[l(" Back to Deliveries ")])),_:1}),s.hasExistingRefund&&s.existingRefundId?(r(),p(c(le),{key:1,href:o.route("refunds.show",{refund:s.existingRefundId}),class:"inline-flex justify-center w-full py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},{default:m(()=>t[34]||(t[34]=[l(" View Refund Details ")])),_:1},8,["href"])):g("",!0)]),s.hasExistingRefund?g("",!0):(r(),d("div",Ut,t[35]||(t[35]=[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3"},"Completion Checklist",-1),e("ul",{class:"space-y-2 text-xs text-gray-600 dark:text-gray-400"},[e("li",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19-7"})]),l(" All package statuses have been verified ")]),e("li",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19-7"})]),l(" Receiver information is accurate ")]),e("li",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19-7"})]),l(" Delivery outcome matches package status ")])],-1)])))])])])])]),u(ce,{show:y.value,onClose:t[7]||(t[7]=n=>y.value=!1),maxWidth:"md"},{default:m(()=>[e("div",Ht,[e("div",Wt,[t[38]||(t[38]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),l(" Confirm Delivery Completion ")],-1)),e("button",{onClick:t[4]||(t[4]=n=>y.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},t[37]||(t[37]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Gt,[s.order.status==="delivered"?(r(),d("div",Jt,t[39]||(t[39]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-green-800 dark:text-green-300 font-medium"},"Perfect Delivery")],-1),e("p",{class:"text-sm text-green-700 dark:text-green-400 mt-1"}," All packages were successfully delivered to the receiver. ",-1)]))):(r(),d("div",Kt,t[40]||(t[40]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-orange-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})]),e("span",{class:"text-orange-800 dark:text-orange-300 font-medium"},"Delivery with Issues")],-1),e("p",{class:"text-sm text-orange-700 dark:text-orange-400 mt-1"}," Some packages require attention. System will handle financial adjustments automatically. ",-1)]))),t[42]||(t[42]=e("div",{class:"bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[e("p",{class:"text-sm text-gray-700 dark:text-gray-300 font-medium mb-2"}," Are you sure you want to complete this delivery? "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," This action will finalize the delivery process and update all records accordingly. ")],-1)),e("div",Qt,[G(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>k.value=n),id:"modal-confirm",type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"},null,512),[[ie,k.value]]),t[41]||(t[41]=e("label",{for:"modal-confirm",class:"ml-3 text-sm text-yellow-800 dark:text-yellow-300"}," I confirm that I have verified all delivery details and want to proceed with completion ",-1))])]),e("div",Xt,[u(h,{onClick:t[6]||(t[6]=n=>y.value=!1),class:"px-4"},{default:m(()=>t[43]||(t[43]=[l(" Cancel ")])),_:1}),u(J,{onClick:ee,disabled:!k.value||c(x).processing,class:b([C.value,"px-4"])},{default:m(()=>[c(x).processing?(r(),d("span",Yt,[u(c(Q),{class:"h-4 w-4 animate-spin mr-2"}),t[44]||(t[44]=l(" Processing... "))])):(r(),d("span",Zt," Confirm & Complete "))]),_:1},8,["disabled","class"])])])]),_:1},8,["show"])]}),_:1}))}};export{gs as default};
