import{p as R,g as q,i as z,d as N,o as l,w,b as e,c as a,e as v,t as r,a as F,F as g,r as b,f as h,n as k,W as O}from"./app-DV6QGe5n.js";import{E as P}from"./EmployeeLayout-iir4z3Zz.js";import{S as W}from"./SelectInput-oxDmFdQg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-sW0XPEdd.js";import"./DangerButton-vX3ciNPD.js";const A={class:"px-6 py-4"},E={key:0,class:"mb-4"},H={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},Y={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},I={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},Q={class:"mb-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3"},U={class:"flex items-center gap-3"},$={class:"text-sm text-gray-500 bg-blue-50 px-3 py-1 rounded border border-blue-100 whitespace-nowrap"},G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},J={class:"flex items-center justify-between"},K={class:"text-xl font-bold text-gray-900"},X={class:"text-gray-600 text-sm mt-1"},Z={class:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8"},ee={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},te={class:"flex items-center justify-between mb-4"},se={class:"text-sm text-gray-500"},re={class:"space-y-3"},le={class:"flex items-center gap-3"},oe={class:"font-medium text-gray-700"},ae={class:"bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-semibold border border-blue-200"},ne={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},ie={class:"space-y-3"},de={class:"flex items-center gap-3"},ce={class:"font-medium text-gray-700"},ue={class:"bg-white text-green-800 px-3 py-1 rounded-full text-sm font-semibold border border-green-200"},ge={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},be={class:"space-y-3"},he={class:"flex items-center gap-3"},ve={class:"text-sm text-gray-600"},me={class:"flex items-center gap-2"},xe={class:"font-semibold text-gray-900"},pe={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},fe={class:"space-y-3"},ye={class:"flex items-center gap-3"},_e={class:"text-sm text-gray-600"},we={class:"flex items-center gap-2"},ke={class:"font-semibold text-green-600"},je={key:0,class:"text-xs text-gray-500"},Se={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ce={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},Me={class:"space-y-3"},De={class:"flex items-center gap-3"},Te={class:"font-medium text-gray-700"},Ve={class:"text-right"},Be={class:"text-sm font-semibold text-orange-800"},Le={class:"text-xs text-gray-500"},Re={class:"bg-white p-6 rounded-lg shadow-sm border border-gray-200"},qe={class:"flex items-center justify-between mb-4"},ze={class:"text-sm text-gray-500"},Ne={class:"space-y-4"},Fe={class:"flex justify-between items-center p-3 bg-blue-50 rounded-lg"},Oe={class:"font-semibold text-blue-800"},Pe={class:"flex justify-between items-center p-3 bg-green-50 rounded-lg"},We={class:"font-semibold text-green-800"},Ae={class:"flex justify-between items-center p-3 bg-purple-50 rounded-lg"},Ee={class:"font-semibold text-purple-800"},Ge={__name:"Dashboard",props:{quickStats:Object,charts:Object,filters:Object,status:String,success:String,error:String},setup(o){var m,x,p;const i=o,d=R({search:((m=i.filters)==null?void 0:m.search)||"",chart_type:((x=i.filters)==null?void 0:x.chart_type)||"",date_filter:((p=i.filters)==null?void 0:p.date_filter)||"this_month"});q(!1);const j=z(()=>{if(!i.quickStats)return[];const n={...i.quickStats};return delete n.success_rate,Object.values(n)}),S=[{value:"today",text:"Today"},{value:"this_week",text:"This Week"},{value:"this_month",text:"This Month"},{value:"this_year",text:"This Year"}];function C(){switch(d.date_filter){case"today":return"Today";case"this_week":return"This Week";case"this_month":return"This Month";case"this_year":return"This Year";default:return"This Month"}}function M(){return Object.keys(i.charts||{}).length}function D(n){const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-red-500"];return t[n%t.length]}function T(n){const t=["bg-orange-500","bg-red-500","bg-amber-500","bg-rose-500","bg-yellow-500"];return t[n%t.length]}function V(){var u,s;const n=((s=(u=i.quickStats)==null?void 0:u.total_deliveries)==null?void 0:s.value)||0,t=d.date_filter==="today"?1:d.date_filter==="this_week"?7:d.date_filter==="this_month"?30:365;return Math.round(n/t)}function B(){var c,f,y,_;const n=((f=(c=i.quickStats)==null?void 0:c.total_revenue)==null?void 0:f.value)||"â‚±0",t=((_=(y=i.quickStats)==null?void 0:y.total_deliveries)==null?void 0:_.value)||0;return t===0?"â‚±0":`â‚±${(parseFloat(n.replace(/[^\d.]/g,""))/t).toFixed(2)}`}function L(){const n={...d};O.visit(route("reports.dashboard"),{data:n,preserveState:!0,preserveScroll:!0,replace:!0})}return(n,t)=>(l(),N(P,null,{header:w(()=>t[1]||(t[1]=[e("div",{class:"flex justify-between items-center w-full px-6 md:px-8"},[e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Reports Dashboard"),e("p",{class:"mt-1 text-sm text-gray-500"}," Comprehensive logistics insights and analytics ")])],-1)])),default:w(()=>{var u;return[e("div",A,[o.status||o.success||o.error?(l(),a("div",E,[o.status?(l(),a("div",H,r(o.status),1)):v("",!0),o.success?(l(),a("div",Y,r(o.success),1)):v("",!0),o.error?(l(),a("div",I,r(o.error),1)):v("",!0)])):v("",!0),e("div",Q,[e("div",U,[F(W,{modelValue:d.date_filter,"onUpdate:modelValue":t[0]||(t[0]=s=>d.date_filter=s),options:S,"option-value":"value","option-label":"text",placeholder:"Date Range",class:"w-full sm:w-48",onChange:L},null,8,["modelValue"]),e("div",$," ðŸ“Š Showing "+r(M())+" charts ",1)])]),e("div",G,[(l(!0),a(g,null,b(j.value,s=>(l(),a("div",{key:s.label,class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200"},[e("div",J,[e("div",null,[e("div",K,r(s.value),1),e("div",X,r(s.label),1)]),t[2]||(t[2]=e("div",{class:"p-2 rounded-full bg-gradient-to-r from-blue-100 to-indigo-100"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])]))),128))]),e("div",Z,[e("div",ee,[e("div",te,[t[3]||(t[3]=e("h3",{class:"font-semibold text-lg text-gray-900 flex items-center gap-2"},[e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])]),h(" Package Types Distribution ")],-1)),e("span",se,r(o.charts.package_types.data.length)+" categories",1)]),e("div",re,[(l(!0),a(g,null,b(o.charts.package_types.data,(s,c)=>(l(),a("div",{key:s.label,class:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",le,[e("div",{class:k(["w-3 h-3 rounded-full",D(c)])},null,2),e("span",oe,r(s.label),1)]),e("span",ae,r(s.value),1)]))),128))])]),e("div",ne,[t[4]||(t[4]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"font-semibold text-lg text-gray-900 flex items-center gap-2"},[e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])]),h(" Top Delivery Locations ")]),e("span",{class:"text-sm text-gray-500"},"Top 5 regions")],-1)),e("div",ie,[(l(!0),a(g,null,b(o.charts.top_locations.data,(s,c)=>(l(),a("div",{key:s.label,class:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",de,[e("span",ce,r(s.label),1)]),e("span",ue,r(s.value),1)]))),128))])]),e("div",ge,[t[7]||(t[7]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"font-semibold text-lg text-gray-900 flex items-center gap-2"},[e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})])]),h(" Delivery Volume Trend ")]),e("span",{class:"text-sm text-gray-500"},"Last 7 days")],-1)),e("div",be,[(l(!0),a(g,null,b(o.charts.delivery_volume.data.slice(-7),s=>(l(),a("div",{key:s.label,class:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0"},[e("div",he,[t[5]||(t[5]=e("div",{class:"w-2 h-2 bg-purple-500 rounded-full"},null,-1)),e("span",ve,r(s.label),1)]),e("div",me,[e("span",xe,r(s.value),1),t[6]||(t[6]=e("span",{class:"text-xs text-gray-500"},"deliveries",-1))])]))),128))])]),e("div",pe,[t[9]||(t[9]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"font-semibold text-lg text-gray-900 flex items-center gap-2"},[e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])]),h(" Revenue Trend ")]),e("span",{class:"text-sm text-gray-500"},"Last 7 days")],-1)),e("div",fe,[(l(!0),a(g,null,b(o.charts.revenue_trend.data.slice(-7),s=>(l(),a("div",{key:s.label,class:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0"},[e("div",ye,[t[8]||(t[8]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1)),e("span",_e,r(s.label),1)]),e("div",we,[e("span",ke,"â‚±"+r(Number(s.value).toLocaleString()),1),s.gross_revenue?(l(),a("span",je," net of â‚±"+r(Number(s.refunds||0).toLocaleString())+" refunds ",1)):v("",!0)])]))),128))])])]),e("div",Se,[e("div",Ce,[t[10]||(t[10]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"font-semibold text-lg text-gray-900 flex items-center gap-2"},[e("div",{class:"p-2 bg-orange-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),h(" Refund Analytics ")]),e("span",{class:"text-sm text-gray-500"},"Processed refunds")],-1)),e("div",Me,[(l(!0),a(g,null,b(o.charts.refund_analytics.data,(s,c)=>(l(),a("div",{key:s.label,class:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",De,[e("div",{class:k(["w-3 h-3 rounded-full",T(c)])},null,2),e("span",Te,r(s.label),1)]),e("div",Ve,[e("div",Be,r(s.value)+" cases",1),e("div",Le,"â‚±"+r(Number(s.amount).toLocaleString()),1)])]))),128))])]),e("div",Re,[e("div",qe,[t[11]||(t[11]=e("h3",{class:"font-semibold text-lg text-gray-900 flex items-center gap-2"},[e("div",{class:"p-2 bg-indigo-100 rounded-lg"},[e("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])]),h(" Performance Summary ")],-1)),e("span",ze,r(C()),1)]),e("div",Ne,[e("div",Fe,[t[12]||(t[12]=e("span",{class:"text-sm text-blue-800"},"Delivery Success Rate",-1)),e("span",Oe,r(((u=o.quickStats.success_rate)==null?void 0:u.value)||"0%"),1)]),e("div",Pe,[t[13]||(t[13]=e("span",{class:"text-sm text-green-800"},"Average Daily Deliveries",-1)),e("span",We,r(V()),1)]),e("div",Ae,[t[14]||(t[14]=e("span",{class:"text-sm text-purple-800"},"Revenue per Delivery",-1)),e("span",Ee,r(B()),1)])])])])])]}),_:1}))}};export{Ge as default};
