import{g,M as $,j as I,C,d as E,o as c,w as b,a,c as v,e as y,b as t,u as s,m as U,s as q,n as p,f as V}from"./app-DfDxEqBg.js";import{_ as P}from"./GuestLayout-CoAQzAf7.js";import{_ as m}from"./InputError-46iDtu2J.js";import{_ as u}from"./InputLabel-DFMv_Bau.js";import{_ as z}from"./PrimaryButton-H84cxS-1.js";import{T as d}from"./TextInput-Y0uxaz16.js";import{S as N}from"./SelectInput-HDzyvJLT.js";import"./NavLink-Dm252fTo.js";import"./NavBar-BPUi_gGg.js";import"./DropdownLink-BLMCIWsF.js";import"./SecondaryButton--u4JNCYW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XCircleIcon-DKjRWwJA.js";import"./CheckCircleIcon-DzjmvBuM.js";import"./ExclamationTriangleIcon-DqY3NQtz.js";import"./InformationCircleIcon-8ZeAT_Hd.js";import"./TruckIcon-C0xJXvS5.js";/* empty css                                                                  */const M={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-30 backdrop-blur-sm flex items-center justify-center z-50"},S={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-lg"},B={class:"text-center"},F={class:"mt-3"},T=["href"],j={class:"max-w-2xl w-full mx-auto p-6 bg-white rounded-lg shadow-md"},Y={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},L={key:0,class:"space-y-4"},W={class:"space-y-4"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"space-y-4"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"space-y-4"},D={class:"space-y-4"},G={class:"pt-2"},ce={__name:"CompleteProfile",props:{initialValues:Object},setup(x){const n=x,r=g(!1),f=g(!1),_=$();I(()=>{var i;(i=_.props.flash)!=null&&i.show_modal&&(f.value=!0)});const e=C({first_name:n.initialValues.first_name||"",middle_name:n.initialValues.middle_name||"",last_name:n.initialValues.last_name||"",email:n.initialValues.email||"",mobile:n.initialValues.mobile||"",phone:n.initialValues.phone||"",customer_category:n.initialValues.customer_category||"individual",company_name:n.initialValues.company_name||"",building_number:n.initialValues.building_number||"",street:n.initialValues.street||"",barangay:n.initialValues.barangay||"",city:n.initialValues.city||"",province:n.initialValues.province||"",zip_code:n.initialValues.zip_code||""}),w=[{value:"individual",label:"Individual"},{value:"company",label:"Company"}],X=()=>{let i=!0;return r.value=!0,e.clearErrors(),e.first_name.trim()||(e.setError("first_name","First name is required"),i=!1),e.last_name.trim()||(e.setError("last_name","Last name is required"),i=!1),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(e.setError("email","Email is invalid"),i=!1):(e.setError("email","Email is required"),i=!1),e.mobile.trim()?/^09\d{9}$/.test(e.mobile)||(e.setError("mobile","Please enter a valid mobile number (09XXXXXXXXX)"),i=!1):(e.setError("mobile","Mobile number is required"),i=!1),e.phone&&!/^\d{7,9}$/.test(e.phone)&&(e.setError("phone","Please enter a valid phone number (7-9 digits)"),i=!1),e.customer_category==="company"&&!e.company_name.trim()&&(e.setError("company_name","Company name is required"),i=!1),e.zip_code&&!/^\d{4}$/.test(e.zip_code)&&(e.setError("zip_code","ZIP code must be 4 digits"),i=!1),i},k=()=>{X()&&e.post(route("profile.complete"),{onFinish:()=>e.reset()})};return(i,l)=>(c(),E(P,null,{default:b(()=>[a(s(U),{title:"Complete Your Profile"}),f.value?(c(),v("div",M,[t("div",S,[t("div",B,[l[27]||(l[27]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Complete Your Profile",-1)),l[28]||(l[28]=t("p",{class:"text-gray-600 mb-4"}," Before you can request deliveries, we need a few more details to make sure your orders are secure and accurate. ",-1)),t("button",{onClick:l[0]||(l[0]=o=>f.value=!1),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 w-full"}," Complete My Profile "),t("div",F,[t("a",{href:i.route("customer.home"),class:"text-sm text-gray-500 hover:text-gray-700 underline"}," Maybe Later ",8,T)])])])])):y("",!0),t("div",j,[l[34]||(l[34]=t("div",{class:"mb-6"},[t("div",{class:"w-full bg-gray-200 rounded-full h-2.5 mb-4"},[t("div",{class:"bg-green-600 h-2.5 rounded-full",style:{width:"50%"}})]),t("h1",{class:"text-2xl font-bold text-center text-gray-800 mb-2"},"Complete Your Profile"),t("p",{class:"text-gray-600 text-center"}," Just a few more details to complete your account setup ")],-1)),t("form",{onSubmit:q(k,["prevent"]),class:"space-y-4"},[t("div",null,[a(u,{for:"customer_category",value:"Customer Type *"}),a(N,{id:"customer_category",class:p(["mt-1 block w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":r.value&&!s(e).customer_category}]),modelValue:s(e).customer_category,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).customer_category=o),options:w,required:""},null,8,["class","modelValue"]),a(m,{class:"mt-1",message:s(e).errors.customer_category},null,8,["message"])]),t("div",Y,[t("div",null,[a(u,{for:"first_name",value:"First Name *"}),a(d,{id:"first_name",type:"text",class:p(["mt-1 block w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":r.value&&!s(e).first_name}]),modelValue:s(e).first_name,"onUpdate:modelValue":l[2]||(l[2]=o=>s(e).first_name=o),required:"",autofocus:"",onInput:l[3]||(l[3]=o=>r.value=!1)},null,8,["class","modelValue"]),a(m,{class:"mt-1",message:s(e).errors.first_name},null,8,["message"])]),t("div",null,[a(u,{for:"middle_name",value:"Middle Name"}),a(d,{id:"middle_name",type:"text",class:"mt-1 block w-full",modelValue:s(e).middle_name,"onUpdate:modelValue":l[4]||(l[4]=o=>s(e).middle_name=o),onInput:l[5]||(l[5]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.middle_name},null,8,["message"])]),t("div",null,[a(u,{for:"last_name",value:"Last Name *"}),a(d,{id:"last_name",type:"text",class:p(["mt-1 block w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":r.value&&!s(e).last_name}]),modelValue:s(e).last_name,"onUpdate:modelValue":l[6]||(l[6]=o=>s(e).last_name=o),required:"",onInput:l[7]||(l[7]=o=>r.value=!1)},null,8,["class","modelValue"]),a(m,{class:"mt-1",message:s(e).errors.last_name},null,8,["message"])])]),s(e).customer_category==="company"?(c(),v("div",L,[t("div",null,[a(u,{for:"company_name",value:"Company Name *"}),a(d,{id:"company_name",type:"text",class:p(["mt-1 block w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":r.value&&!s(e).company_name}]),modelValue:s(e).company_name,"onUpdate:modelValue":l[8]||(l[8]=o=>s(e).company_name=o),required:"",onInput:l[9]||(l[9]=o=>r.value=!1)},null,8,["class","modelValue"]),a(m,{class:"mt-1",message:s(e).errors.company_name},null,8,["message"])])])):y("",!0),t("div",W,[t("div",null,[a(u,{for:"email",value:"Email *"}),a(d,{id:"email",type:"email",class:p(["mt-1 block w-full bg-gray-100",{"border-red-500 focus:border-red-500 focus:ring-red-500":r.value&&!s(e).email}]),modelValue:s(e).email,"onUpdate:modelValue":l[10]||(l[10]=o=>s(e).email=o),required:"",readonly:""},null,8,["class","modelValue"]),a(m,{class:"mt-1",message:s(e).errors.email},null,8,["message"])]),t("div",O,[t("div",null,[a(u,{for:"mobile",value:"Mobile Number *"}),a(d,{id:"mobile",type:"tel",class:p(["mt-1 block w-full",{"border-red-500 focus:border-red-500 focus:ring-red-500":r.value&&!s(e).mobile}]),modelValue:s(e).mobile,"onUpdate:modelValue":l[11]||(l[11]=o=>s(e).mobile=o),required:"",maxlength:"11",placeholder:"09XXXXXXXXX",onInput:l[12]||(l[12]=o=>r.value=!1)},null,8,["class","modelValue"]),a(m,{class:"mt-1",message:s(e).errors.mobile},null,8,["message"])]),t("div",null,[a(u,{for:"phone",value:"Phone Number (Optional)"}),a(d,{id:"phone",type:"tel",class:"mt-1 block w-full",modelValue:s(e).phone,"onUpdate:modelValue":l[13]||(l[13]=o=>s(e).phone=o),maxlength:"9",placeholder:"XXXXXXXXX",onInput:l[14]||(l[14]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.phone},null,8,["message"])])])]),t("div",Z,[l[29]||(l[29]=t("h2",{class:"text-lg font-medium text-gray-800"},"Address Information",-1)),t("div",A,[t("div",null,[a(u,{for:"building_number",value:"Building/House Number"}),a(d,{id:"building_number",type:"text",class:"mt-1 block w-full",modelValue:s(e).building_number,"onUpdate:modelValue":l[15]||(l[15]=o=>s(e).building_number=o),onInput:l[16]||(l[16]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.building_number},null,8,["message"])]),t("div",null,[a(u,{for:"street",value:"Street"}),a(d,{id:"street",type:"text",class:"mt-1 block w-full",modelValue:s(e).street,"onUpdate:modelValue":l[17]||(l[17]=o=>s(e).street=o),onInput:l[18]||(l[18]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.street},null,8,["message"])])]),t("div",H,[t("div",J,[t("div",null,[a(u,{for:"barangay",value:"Barangay"}),a(d,{id:"barangay",type:"text",class:"mt-1 block w-full",modelValue:s(e).barangay,"onUpdate:modelValue":l[19]||(l[19]=o=>s(e).barangay=o),onInput:l[20]||(l[20]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.barangay},null,8,["message"])]),t("div",null,[a(u,{for:"city",value:"City"}),a(d,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:s(e).city,"onUpdate:modelValue":l[21]||(l[21]=o=>s(e).city=o),onInput:l[22]||(l[22]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.city},null,8,["message"])])]),t("div",D,[t("div",null,[a(u,{for:"province",value:"Province"}),a(d,{id:"province",type:"text",class:"mt-1 block w-full",modelValue:s(e).province,"onUpdate:modelValue":l[23]||(l[23]=o=>s(e).province=o),onInput:l[24]||(l[24]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.province},null,8,["message"])]),t("div",null,[a(u,{for:"zip_code",value:"ZIP Code"}),a(d,{id:"zip_code",type:"text",class:"mt-1 block w-full",modelValue:s(e).zip_code,"onUpdate:modelValue":l[25]||(l[25]=o=>s(e).zip_code=o),maxlength:"4",placeholder:"XXXX",onInput:l[26]||(l[26]=o=>r.value=!1)},null,8,["modelValue"]),a(m,{class:"mt-1",message:s(e).errors.zip_code},null,8,["message"])])])])]),l[31]||(l[31]=t("div",{class:"bg-blue-50 p-4 rounded-lg border border-blue-100 text-center"},[t("h3",{class:"font-medium text-blue-800 mb-2"},"Why we need this information?"),t("p",{class:"text-sm text-blue-700"}," We use your contact details to notify you about deliveries and your address information to ensure accurate package routing. Your name helps us verify your identity for secure transactions. ")],-1)),l[32]||(l[32]=t("div",{class:"bg-amber-50 p-4 rounded-lg border border-amber-200 text-center"},[t("h3",{class:"font-medium text-amber-800 mb-2"},"Profile Security Notice"),t("p",{class:"text-sm text-amber-700 mb-2"}," For security and accountability purposes, you won't be able to edit your profile information directly after submission. "),t("p",{class:"text-sm text-amber-700"}," If you need to update your details, please contact our support team who will assist you with the changes. This ensures all profile modifications are properly verified and recorded. ")],-1)),l[33]||(l[33]=t("div",{class:"text-sm text-gray-500"},[t("p",{class:"text-center"},[t("span",{class:"text-red-500"},"*"),V(" indicates required fields")])],-1)),t("div",G,[a(z,{class:"w-full justify-center",disabled:s(e).processing},{default:b(()=>l[30]||(l[30]=[V(" Complete Profile ")])),_:1},8,["disabled"])])],32)])]),_:1}))}};export{ce as default};
