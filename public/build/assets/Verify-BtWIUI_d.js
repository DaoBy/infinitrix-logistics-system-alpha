import{E as A}from"./EmployeeLayout-HD3iRf9t.js";import{_ as H}from"./PrimaryButton-CQvisOOW.js";import{_ as N}from"./SecondaryButton-B4_LijSy.js";import{L as I}from"./LoadingSpinner-C6mwMO_t.js";import{g as $,d as L,o,w as d,b as e,c as n,t as r,e as l,f as a,a as y,u as D,W as g}from"./app-Xu1-QTPS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Dma88ZBl.js";import"./DangerButton-B9GvHwCg.js";const E={class:"flex justify-between items-center px-4 sm:px-6"},F={class:"px-4 md:px-6 py-4 max-w-7xl mx-auto"},O={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},T={class:"lg:col-span-2 space-y-6"},U={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},W={class:"flex flex-col md:flex-row md:items-center md:justify-between p-4 bg-indigo-50 dark:bg-indigo-900/20 border-b border-indigo-200 dark:border-indigo-800"},G={class:"flex-1"},J={class:"flex flex-wrap items-center gap-2 mb-2"},K={class:"text-lg font-bold text-indigo-600 dark:text-indigo-400 tracking-wide"},Q={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"},X={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100"},Y={class:"flex flex-wrap items-center gap-4 text-xs text-gray-600 dark:text-gray-300"},Z={key:0},ee={class:"mt-3 md:mt-0"},te={class:"text-2xl font-bold text-indigo-900 dark:text-indigo-100 text-center md:text-right"},se={class:"p-4 md:p-6"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},ae={class:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg"},oe={class:"space-y-2 text-sm"},ne={class:"flex justify-between"},ie={class:"capitalize font-medium text-gray-900 dark:text-gray-100"},de={class:"flex justify-between"},le={class:"capitalize font-medium text-gray-900 dark:text-gray-100"},me={key:0,class:"flex justify-between"},ge={class:"font-mono text-gray-900 dark:text-gray-100"},ce={class:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg"},ye={class:"space-y-2 text-sm"},xe={class:"flex justify-between"},ue={class:"font-medium text-gray-900 dark:text-gray-100"},ke={class:"flex justify-between"},fe={class:"font-medium text-gray-900 dark:text-gray-100"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},ve={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},he={class:"space-y-2"},be={class:"font-medium truncate"},we={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1"},_e={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1"},Ce={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},je={class:"space-y-2"},Me={class:"font-medium truncate"},Be={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1"},Ve={class:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1"},ze={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},Ne={class:"p-4 md:p-6"},Le={key:0,class:"space-y-4"},De={class:"flex justify-center"},Se=["src"],Pe={key:0,class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},Re={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},qe={key:1,class:"text-center py-8"},Ae={class:"lg:col-span-1"},He={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 sticky top-6"},Ie={class:"p-4"},$e={key:0,class:"mb-6"},Ee={class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},Fe={class:"flex items-center"},Oe={class:"text-green-700 dark:text-green-400 text-sm mt-1"},Te={key:1,class:"mb-6"},Ue={class:"space-y-3"},We={key:0},Ge={key:1,class:"flex items-center gap-2"},Je={key:2,class:"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},rt={__name:"Verify",props:{payment:Object},setup(s){const x=s,m=$(!1);function S(){x.payment.verified_by||(m.value=!0,g.post(route("staff.payments.verify.action",x.payment.id),{},{onFinish:()=>{m.value=!1},onSuccess:()=>{g.visit(route("staff.payments.dashboard"))}}))}function P(i){window.open(i,"_blank")}function R(i){if(!i)return"N/A";try{return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}function u(i){if(!i)return"N/A";try{return new Date(i).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}}return(i,t)=>(o(),L(A,null,{header:d(()=>[e("div",E,[t[4]||(t[4]=e("div",{class:"min-w-0 flex-1"},[e("h2",{class:"text-lg sm:text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200 truncate"}," Review & Verify Collection "),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400 hidden sm:block"}," Verify payment collection details ")],-1)),y(N,{onClick:t[0]||(t[0]=c=>D(g).visit(i.route("staff.payments.dashboard"))),class:"inline-flex items-center text-sm whitespace-nowrap shrink-0 ml-2"},{default:d(()=>t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 sm:mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",{class:"hidden sm:inline"},"Back to Payments",-1),e("span",{class:"sm:hidden"},"Back",-1)])),_:1})])]),default:d(()=>{var c,k,f,p,v,h,b,w,_,C,j,M,B,V,z;return[e("div",F,[e("div",O,[e("div",T,[e("div",U,[e("div",W,[e("div",G,[e("div",J,[t[5]||(t[5]=e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-100 border border-indigo-200 dark:border-indigo-700"}," Reference# ",-1)),e("span",K,r(((c=s.payment.delivery_request)==null?void 0:c.reference_number)||"DR-"+String(s.payment.delivery_request_id).padStart(6,"0")),1),s.payment.verified_by?(o(),n("span",Q," Verified ")):(o(),n("span",X," Pending Verification "))]),e("div",Y,[e("span",null,"Delivery ID: DO-"+r(String(s.payment.delivery_request_id).padStart(6,"0")),1),s.payment.created_at?(o(),n("span",Z,"Created: "+r(R(s.payment.created_at)),1)):l("",!0)])]),e("div",ee,[e("div",te," â‚±"+r(Number(s.payment.amount).toFixed(2)),1),t[6]||(t[6]=e("div",{class:"text-xs text-gray-600 dark:text-gray-300 text-center md:text-right"}," Amount Collected ",-1))])]),e("div",se,[e("div",re,[e("div",ae,[t[10]||(t[10]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),a(" Payment Information ")],-1)),e("div",oe,[e("div",ne,[t[7]||(t[7]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Payment Source:",-1)),e("span",ie,r(s.payment.source.replace("_"," ")),1)]),e("div",de,[t[8]||(t[8]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Payment Method:",-1)),e("span",le,r(s.payment.method),1)]),s.payment.reference_number?(o(),n("div",me,[t[9]||(t[9]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Reference Number:",-1)),e("span",ge,r(s.payment.reference_number),1)])):l("",!0)])]),e("div",ce,[t[13]||(t[13]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),a(" Collection Information ")],-1)),e("div",ye,[e("div",xe,[t[11]||(t[11]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Collected By:",-1)),e("span",ue,r(((k=s.payment.collected_by)==null?void 0:k.name)||"N/A"),1)]),e("div",ke,[t[12]||(t[12]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Collected At:",-1)),e("span",fe,r(s.payment.collected_at?u(s.payment.collected_at):"N/A"),1)])])])]),e("div",pe,[e("div",ve,[t[16]||(t[16]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),a(" Sender ")],-1)),e("div",he,[e("p",be,r(((p=(f=s.payment.delivery_request)==null?void 0:f.sender)==null?void 0:p.name)||"N/A"),1),e("p",we,[t[14]||(t[14]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a(" "+r(((h=(v=s.payment.delivery_request)==null?void 0:v.sender)==null?void 0:h.email)||"No email"),1)]),e("p",_e,[t[15]||(t[15]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),a(" "+r(((w=(b=s.payment.delivery_request)==null?void 0:b.sender)==null?void 0:w.mobile)||"No phone"),1)])])]),e("div",Ce,[t[19]||(t[19]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),a(" Receiver ")],-1)),e("div",je,[e("p",Me,r(((C=(_=s.payment.delivery_request)==null?void 0:_.receiver)==null?void 0:C.name)||"N/A"),1),e("p",Be,[t[17]||(t[17]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a(" "+r(((M=(j=s.payment.delivery_request)==null?void 0:j.receiver)==null?void 0:M.email)||"No email"),1)]),e("p",Ve,[t[18]||(t[18]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),a(" "+r(((V=(B=s.payment.delivery_request)==null?void 0:B.receiver)==null?void 0:V.mobile)||"No phone"),1)])])])])])]),e("div",ze,[t[22]||(t[22]=e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),a(" Payment Receipt ")])],-1)),e("div",Ne,[s.payment.receipt_image?(o(),n("div",Le,[e("div",De,[e("img",{src:"/storage/"+s.payment.receipt_image,alt:"Payment receipt",class:"max-w-full md:max-w-md rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:t[1]||(t[1]=q=>P("/storage/"+s.payment.receipt_image))},null,8,Se)]),s.payment.notes?(o(),n("div",Pe,[t[20]||(t[20]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),a(" Collection Notes ")],-1)),e("p",Re,r(s.payment.notes),1)])):l("",!0)])):(o(),n("div",qe,t[21]||(t[21]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"No Receipt Available",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"No payment receipt was uploaded for this collection.",-1)])))])])]),e("div",Ae,[e("div",He,[t[30]||(t[30]=e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),a(" Verification ")])],-1)),e("div",Ie,[s.payment.verified_by?(o(),n("div",$e,[e("div",Ee,[e("div",Fe,[t[24]||(t[24]=e("svg",{class:"h-5 w-5 text-green-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[t[23]||(t[23]=e("h3",{class:"text-lg font-medium text-green-800 dark:text-green-300"},"Payment Verified",-1)),e("p",Oe," Verified by "+r((z=s.payment.verified_by)==null?void 0:z.name)+" on "+r(u(s.payment.verified_at)),1)])])])])):(o(),n("div",Te,t[25]||(t[25]=[e("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},[e("div",{class:"flex items-center"},[e("svg",{class:"h-5 w-5 text-blue-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",null,[e("h3",{class:"text-lg font-medium text-blue-800 dark:text-blue-300"},"Ready for Verification"),e("p",{class:"text-blue-700 dark:text-blue-400 text-sm mt-1"}," Review all details before verification ")])])],-1)]))),e("div",Ue,[s.payment.verified_by?l("",!0):(o(),L(H,{key:0,onClick:S,disabled:m.value,class:"w-full justify-center"},{default:d(()=>[m.value?(o(),n("span",We,[y(I,{size:"xs",class:"mr-2"}),t[26]||(t[26]=a(" Verifying... "))])):(o(),n("span",Ge,t[27]||(t[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),a(" Verify Collection ")])))]),_:1},8,["disabled"])),y(N,{onClick:t[2]||(t[2]=q=>D(g).visit(i.route("staff.payments.dashboard"))),class:"w-full justify-center"},{default:d(()=>t[28]||(t[28]=[a(" Back to Dashboard ")])),_:1})]),s.payment.verified_by?l("",!0):(o(),n("div",Je,t[29]||(t[29]=[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3"},"Verification Checklist",-1),e("ul",{class:"space-y-2 text-xs text-gray-600 dark:text-gray-400"},[e("li",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),a(" Payment amount matches delivery total ")]),e("li",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),a(" Receipt image is clear and valid ")]),e("li",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),a(" Collection details are accurate ")])],-1)])))])])])])])]}),_:1}))}};export{rt as default};
