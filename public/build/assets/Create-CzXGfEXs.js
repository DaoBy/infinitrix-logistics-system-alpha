import{g as z,i as w,C as U,j as M,d as X,o as i,w as C,b as e,c as n,e as m,t as c,f as g,n as b,s as P,a as o,u as r,v as S,x as A,h as Y}from"./app-DfDxEqBg.js";import{_ as F}from"./GuestLayout-CoAQzAf7.js";import{_ as T}from"./PrimaryButton-H84cxS-1.js";import{_ as L}from"./SecondaryButton--u4JNCYW.js";import{_ as f}from"./InputLabel-DFMv_Bau.js";import{T as h}from"./TextInput-Y0uxaz16.js";import{_ as x}from"./InputError-46iDtu2J.js";import"./NavLink-Dm252fTo.js";import"./NavBar-BPUi_gGg.js";import"./DropdownLink-BLMCIWsF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XCircleIcon-DKjRWwJA.js";import"./CheckCircleIcon-DzjmvBuM.js";import"./ExclamationTriangleIcon-DqY3NQtz.js";import"./InformationCircleIcon-8ZeAT_Hd.js";import"./TruckIcon-C0xJXvS5.js";/* empty css                                                                  */const E={class:"max-w-4xl w-full mx-auto p-6 bg-white rounded-lg shadow-md"},O={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-30 backdrop-blur-sm flex items-center justify-center z-50"},I={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-lg"},_={class:"text-center"},$={class:"text-lg font-medium text-gray-900 mb-2"},Z={key:0,class:"text-gray-600 mb-4"},G={key:1,class:"text-gray-600 mb-4"},J={class:"mb-6"},K={class:"text-2xl font-bold text-center text-gray-800 mb-2"},Q={class:"text-gray-600 text-center"},W={key:1,class:"mb-6"},ee={key:0,class:"bg-yellow-50 p-4 rounded-lg border border-yellow-200"},te={class:"flex items-start"},se={class:"ml-3"},le={class:"mt-2 text-sm text-yellow-700"},oe={key:1,class:"bg-red-50 p-4 rounded-lg border border-red-200"},re={class:"flex items-start"},ae={class:"ml-3"},ie={class:"mt-2 text-sm text-red-700"},ne={key:0,class:"mt-2 p-3 bg-red-100 rounded border border-red-200"},de={class:"mt-1"},ue={key:2,class:"bg-green-50 p-4 rounded-lg border border-green-200"},me={class:"flex items-start"},ce={class:"ml-3"},ve={class:"mt-2 text-sm text-green-700"},ge={key:2,class:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6"},ye={class:"text-xs text-red-600"},be={class:"font-medium"},fe={class:"font-medium"},xe={key:3,class:"bg-amber-50 p-3 rounded-lg border border-amber-200 mb-4"},he={key:4,class:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6"},pe={class:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-6"},ke={class:"text-sm text-blue-700"},we=["href"],qe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ce={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Re={class:"text-xs text-gray-500 mt-1"},Ve={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},ze={class:"text-xs text-gray-500 mt-1"},De={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},He={class:"text-xs text-gray-500 mt-1"},je={class:"space-y-4"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ne={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Ue={class:"text-xs text-gray-500 mt-1"},Me={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Xe={class:"text-xs text-gray-500 mt-1"},Pe={class:"space-y-4"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Ye={class:"text-xs text-gray-500 mt-1"},Fe={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Te={class:"text-xs text-gray-500 mt-1"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ee={class:"space-y-4"},Oe={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Ie={class:"text-xs text-gray-500 mt-1"},_e={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},$e={class:"text-xs text-gray-500 mt-1"},Ze={class:"space-y-4"},Ge={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Je={class:"text-xs text-gray-500 mt-1"},Ke={key:0,class:"text-xs text-amber-600 mt-1 flex items-center"},Qe={class:"text-xs text-gray-500 mt-1"},We={key:0},et=["required","disabled"],tt={class:"text-sm text-gray-500"},st={class:"text-center"},lt={key:0,class:"ml-4"},ot={key:1,class:"ml-4"},rt={key:2,class:"ml-4"},at={key:3,class:"ml-4"},it={class:"flex justify-end space-x-4 pt-2"},nt={key:0},dt={key:1},Ht={__name:"Create",props:{customer:Object,lockedFields:Array,editableFields:Array,hasDeliveryHistory:Boolean,canRequestChanges:Boolean,activeDeliveriesCount:Number,unpaidDeliveriesCount:Number,existingRequest:Object},setup(s){const a=s,R=z(!1),p=w(()=>!a.hasDeliveryHistory&&a.canRequestChanges),v=w(()=>a.existingRequest&&a.existingRequest.status==="pending"),d=w(()=>a.canRequestChanges&&!v.value),l=U({first_name:a.customer.first_name||"",middle_name:a.customer.middle_name||"",last_name:a.customer.last_name||"",mobile:a.customer.mobile||"",phone:a.customer.phone||"",building_number:a.customer.building_number||"",street:a.customer.street||"",barangay:a.customer.barangay||"",city:a.customer.city||"",province:a.customer.province||"",zip_code:a.customer.zip_code||"",reason:a.hasDeliveryHistory?"":"Direct profile update"}),k=z(new Set),V=w(()=>k.value.size>0||a.hasDeliveryHistory&&l.reason.trim()!==""),D=()=>{["first_name","middle_name","last_name","mobile","phone","building_number","street","barangay","city","province","zip_code"].forEach(t=>{Y(()=>l[t],(u,ut)=>{const N=a.customer[t]||"";(u||"")!==N?k.value.add(t):k.value.delete(t)})})},H=()=>{if(!V.value||!d.value)return;const y={};(a.hasDeliveryHistory||l.reason)&&(y.reason=l.reason||null),k.value.forEach(t=>{y[t]=l[t]||null}),!(Object.keys(y).length===0||Object.keys(y).length===1&&y.reason==="")&&l.transform(t=>({...y,_method:"post"})).post(route("customer.profile.update.store"),{onSuccess:()=>{R.value=!0},onError:t=>{console.error("Form submission errors:",t)},preserveScroll:!0})},j=()=>{l.first_name=a.customer.first_name||"",l.middle_name=a.customer.middle_name||"",l.last_name=a.customer.last_name||"",l.mobile=a.customer.mobile||"",l.phone=a.customer.phone||"",l.building_number=a.customer.building_number||"",l.street=a.customer.street||"",l.barangay=a.customer.barangay||"",l.city=a.customer.city||"",l.province=a.customer.province||"",l.zip_code=a.customer.zip_code||"",l.reason=a.hasDeliveryHistory?"":"Direct profile update",k.value.clear()},B=()=>{window.location.href=route("customer.home")},q=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return M(()=>{D()}),(y,t)=>(i(),X(F,null,{default:C(()=>[e("div",E,[R.value?(i(),n("div",O,[e("div",I,[e("div",_,[t[12]||(t[12]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("h3",$,c(p.value?"Profile Updated Successfully":"Request Submitted Successfully"),1),p.value?(i(),n("p",G," Your profile has been updated successfully. All changes have been logged for security purposes. ")):(i(),n("p",Z," Your delivery information update request has been submitted for approval. Our team will review your request and you'll be notified once it's processed. ")),e("button",{onClick:B,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 w-full"}," Return to Dashboard ")])])])):m("",!0),e("div",J,[e("h1",K,c(p.value?"Update Profile":"Update Delivery Information"),1),e("p",Q,c(p.value?"Update your profile information directly":"Submit changes to your delivery information for approval"),1)]),s.existingRequest?(i(),n("div",W,[s.existingRequest.status==="pending"?(i(),n("div",ee,[e("div",te,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",se,[t[14]||(t[14]=e("h3",{class:"text-sm font-medium text-yellow-800"},"Request Pending Approval",-1)),e("div",le,[e("p",null,"You have a pending update request submitted on "+c(q(s.existingRequest.created_at))+".",1),t[13]||(t[13]=e("p",{class:"mt-1 font-medium"},"You cannot submit another request until this one is processed.",-1))])])])])):s.existingRequest.status==="rejected"?(i(),n("div",oe,[e("div",re,[t[19]||(t[19]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ae,[t[18]||(t[18]=e("h3",{class:"text-sm font-medium text-red-800"},"Request Rejected",-1)),e("div",ie,[e("p",null,"Your update request submitted on "+c(q(s.existingRequest.created_at))+" was rejected.",1),s.existingRequest.admin_notes?(i(),n("div",ne,[t[16]||(t[16]=e("p",{class:"font-medium"},"Reason for rejection:",-1)),e("p",de,c(s.existingRequest.admin_notes),1)])):m("",!0),t[17]||(t[17]=e("p",{class:"mt-2"},"You can submit a new request with corrected information.",-1))])])])])):s.existingRequest.status==="approved"?(i(),n("div",ue,[e("div",me,[t[22]||(t[22]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ce,[t[21]||(t[21]=e("h3",{class:"text-sm font-medium text-green-800"},"Request Approved",-1)),e("div",ve,[e("p",null,"Your update request submitted on "+c(q(s.existingRequest.created_at))+" was approved and processed.",1),t[20]||(t[20]=e("p",{class:"mt-1"},"You can submit a new request if you need to make additional changes.",-1))])])])])):m("",!0)])):m("",!0),s.canRequestChanges?s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",xe,t[26]||(t[26]=[e("div",{class:"flex items-start space-x-3"},[e("div",{class:"flex-shrink-0 mt-0.5"},[e("svg",{class:"h-5 w-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),e("div",{class:"flex-1"},[e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-sm font-medium text-amber-800"},"Approval Required for Changes")]),e("p",{class:"text-xs text-amber-700 mt-1"},' Due to delivery history, changes to critical fields require staff approval for delivery accuracy. Look for the "Requires staff approval" notice below each field. ')])],-1)]))):p.value&&!v.value?(i(),n("div",he,t[27]||(t[27]=[e("h3",{class:"font-medium text-green-800 mb-2"},"Direct Profile Updates",-1),e("p",{class:"text-sm text-green-700"}," As a first-time customer, you can update all fields directly. All changes will be logged for security purposes. ",-1)]))):m("",!0):(i(),n("div",ge,[t[24]||(t[24]=e("h3",{class:"font-medium text-red-800 mb-2"},"Updates Currently Unavailable",-1)),t[25]||(t[25]=e("p",{class:"text-sm text-red-700 mb-2"}," You cannot update your delivery information while you have active deliveries or unpaid payments. ",-1)),e("div",ye,[e("p",be,"Active Deliveries: "+c(s.activeDeliveriesCount),1),e("p",fe,"Unpaid Payments: "+c(s.unpaidDeliveriesCount),1),t[23]||(t[23]=e("p",{class:"mt-2"},"Please complete all deliveries and payments before requesting changes to your delivery information.",-1))])])),e("div",pe,[t[30]||(t[30]=e("h3",{class:"font-medium text-blue-800 mb-2"},"Note About Email Updates",-1)),e("p",ke,[t[28]||(t[28]=g(" To change your login email address, please visit the ")),e("a",{href:y.route("profile.edit"),class:"text-blue-600 hover:text-blue-800 underline"},"Account Settings",8,we),t[29]||(t[29]=g(" page. This form is for updating your delivery contact information only. "))])]),e("form",{onSubmit:P(H,["prevent"]),class:b(["space-y-6",{"opacity-50 pointer-events-none":!d.value}])},[e("div",null,[t[34]||(t[34]=e("h2",{class:"text-lg font-medium text-gray-800 mb-4"},"Personal Information",-1)),e("div",qe,[e("div",null,[o(f,{for:"first_name",value:"First Name"}),o(h,{id:"first_name",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).first_name,"onUpdate:modelValue":t[0]||(t[0]=u=>r(l).first_name=u),placeholder:s.customer.first_name||"First name",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.first_name},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Ce,t[31]||(t[31]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Re," Current: "+c(s.customer.first_name||"Not set"),1)]),e("div",null,[o(f,{for:"middle_name",value:"Middle Name"}),o(h,{id:"middle_name",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).middle_name,"onUpdate:modelValue":t[1]||(t[1]=u=>r(l).middle_name=u),placeholder:s.customer.middle_name||"Middle name",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.middle_name},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Ve,t[32]||(t[32]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",ze," Current: "+c(s.customer.middle_name||"Not set"),1)]),e("div",null,[o(f,{for:"last_name",value:"Last Name"}),o(h,{id:"last_name",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).last_name,"onUpdate:modelValue":t[2]||(t[2]=u=>r(l).last_name=u),placeholder:s.customer.last_name||"Last name",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.last_name},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",De,t[33]||(t[33]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",He," Current: "+c(s.customer.last_name||"Not set"),1)])])]),e("div",null,[t[37]||(t[37]=e("h2",{class:"text-lg font-medium text-gray-800 mb-4"},"Contact Information",-1)),e("div",je,[e("div",Be,[e("div",null,[o(f,{for:"mobile",value:"Mobile Number"}),o(h,{id:"mobile",type:"tel",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).mobile,"onUpdate:modelValue":t[3]||(t[3]=u=>r(l).mobile=u),placeholder:s.customer.mobile||"09XXXXXXXXX",maxlength:"11",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.mobile},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Ne,t[35]||(t[35]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Ue," Current: "+c(s.customer.mobile||"Not set"),1)]),e("div",null,[o(f,{for:"phone",value:"Phone Number (Optional)"}),o(h,{id:"phone",type:"tel",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).phone,"onUpdate:modelValue":t[4]||(t[4]=u=>r(l).phone=u),placeholder:s.customer.phone||"XXXXXXXXX",maxlength:"9",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.phone},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Me,t[36]||(t[36]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Xe," Current: "+c(s.customer.phone||"Not set"),1)])])])]),e("div",null,[t[44]||(t[44]=e("h2",{class:"text-lg font-medium text-gray-800 mb-4"},"Delivery Address",-1)),e("div",Pe,[e("div",Se,[e("div",null,[o(f,{for:"building_number",value:"Building/House Number"}),o(h,{id:"building_number",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).building_number,"onUpdate:modelValue":t[5]||(t[5]=u=>r(l).building_number=u),placeholder:s.customer.building_number||"Building number",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.building_number},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Ae,t[38]||(t[38]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Ye," Current: "+c(s.customer.building_number||"Not set"),1)]),e("div",null,[o(f,{for:"street",value:"Street"}),o(h,{id:"street",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).street,"onUpdate:modelValue":t[6]||(t[6]=u=>r(l).street=u),placeholder:s.customer.street||"Street name",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.street},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Fe,t[39]||(t[39]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Te," Current: "+c(s.customer.street||"Not set"),1)])]),e("div",Le,[e("div",Ee,[e("div",null,[o(f,{for:"barangay",value:"Barangay"}),o(h,{id:"barangay",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).barangay,"onUpdate:modelValue":t[7]||(t[7]=u=>r(l).barangay=u),placeholder:s.customer.barangay||"Barangay",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.barangay},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Oe,t[40]||(t[40]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Ie," Current: "+c(s.customer.barangay||"Not set"),1)]),e("div",null,[o(f,{for:"city",value:"City"}),o(h,{id:"city",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).city,"onUpdate:modelValue":t[8]||(t[8]=u=>r(l).city=u),placeholder:s.customer.city||"City",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.city},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",_e,t[41]||(t[41]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",$e," Current: "+c(s.customer.city||"Not set"),1)])]),e("div",Ze,[e("div",null,[o(f,{for:"province",value:"Province"}),o(h,{id:"province",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).province,"onUpdate:modelValue":t[9]||(t[9]=u=>r(l).province=u),placeholder:s.customer.province||"Province",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.province},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Ge,t[42]||(t[42]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Je," Current: "+c(s.customer.province||"Not set"),1)]),e("div",null,[o(f,{for:"zip_code",value:"ZIP Code"}),o(h,{id:"zip_code",type:"text",class:b(["mt-1 block w-full",{"bg-gray-100 cursor-not-allowed":!d.value}]),modelValue:r(l).zip_code,"onUpdate:modelValue":t[10]||(t[10]=u=>r(l).zip_code=u),placeholder:s.customer.zip_code||"XXXX",maxlength:"4",disabled:!d.value},null,8,["class","modelValue","placeholder","disabled"]),o(x,{class:"mt-1",message:r(l).errors.zip_code},null,8,["message"]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",Ke,t[43]||(t[43]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),g(" Requires staff approval (due to delivery history) ")]))):m("",!0),e("div",Qe," Current: "+c(s.customer.zip_code||"Not set"),1)])])])])]),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("div",We,[t[45]||(t[45]=e("h2",{class:"text-lg font-medium text-gray-800 mb-4"},"Reason for Changes",-1)),e("div",null,[o(f,{for:"reason",value:"Please explain why you need to update your delivery information *"}),S(e("textarea",{id:"reason",rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500","onUpdate:modelValue":t[11]||(t[11]=u=>r(l).reason=u),required:s.hasDeliveryHistory,disabled:!d.value,placeholder:"Please provide a detailed explanation for the changes to your delivery information. This helps our team process your request faster."},null,8,et),[[A,r(l).reason]]),o(x,{class:"mt-1",message:r(l).errors.reason},null,8,["message"])])])):m("",!0),e("div",tt,[e("p",st,[t[50]||(t[50]=e("span",{class:"text-red-500"},"*",-1)),t[51]||(t[51]=g(" indicates required fields ")),s.hasDeliveryHistory&&s.canRequestChanges&&!v.value?(i(),n("span",lt,t[46]||(t[46]=[e("span",{class:"text-amber-500"},"🔄",-1),g(" All fields require staff approval ")]))):m("",!0),s.canRequestChanges?m("",!0):(i(),n("span",ot,t[47]||(t[47]=[e("span",{class:"text-red-500"},"🔒",-1),g(" Updates currently blocked due to active/unpaid deliveries ")]))),v.value?(i(),n("span",rt,t[48]||(t[48]=[e("span",{class:"text-yellow-500"},"⏳",-1),g(" Pending request - form disabled ")]))):m("",!0),p.value&&!v.value?(i(),n("span",at,t[49]||(t[49]=[e("span",{class:"text-green-500"},"✏️",-1),g(" Direct updates allowed ")]))):m("",!0)])]),e("div",it,[o(L,{onClick:j,type:"button",disabled:!d.value},{default:C(()=>t[52]||(t[52]=[g(" Reset Changes ")])),_:1},8,["disabled"]),o(T,{type:"submit",disabled:r(l).processing||!V.value||!d.value},{default:C(()=>[v.value?(i(),n("span",nt," Request Pending ")):(i(),n("span",dt,c(p.value?"Update Profile":"Submit for Approval"),1))]),_:1},8,["disabled"])])],34)])]),_:1}))}};export{Ht as default};
