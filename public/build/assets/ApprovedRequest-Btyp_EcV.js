import{g as x,i as y,h as de,W as C,d as ue,o as r,w as a,b as e,a as u,c as n,e as i,t as o,f as d,n as L,k as I,v as ce,x as pe}from"./app-BOCrhSfO.js";import{E as ve}from"./EmployeeLayout-D01AghRc.js";import{_ as O}from"./PrimaryButton-7U4Qu6md.js";import{_ as T}from"./SecondaryButton-BoCxbQ9w.js";import{D as V}from"./DangerButton-CBhu99um.js";import{P as me}from"./Pagination-D3KPnYBN.js";import{_ as ge}from"./SearchInput-g_WCWFPT.js";import{S as B}from"./SelectInput-BaEQ9Gfo.js";import{_ as xe}from"./DataTable-C5A94wxb.js";import{M as fe}from"./Modal-Dwgib7t_.js";import{_ as ye}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DsrNUkqS.js";const _e={class:"flex justify-between items-center w-full px-6 md:px-8"},he={class:"flex gap-2"},be={class:"zoom-content"},ke={class:"px-6 py-4"},we={key:0,class:"mb-6"},Ce={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},Me={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},Se={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},Ae={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},De={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Re={class:"flex items-center"},je={class:"ml-4"},Pe={class:"text-2xl font-bold text-gray-900"},Te={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},qe={class:"flex items-center"},Le={class:"ml-4"},Ve={class:"text-2xl font-bold text-gray-900"},Be={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},ze={class:"flex items-center"},Fe={class:"ml-4"},Ne={class:"text-2xl font-bold text-gray-900"},$e={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Ue={class:"flex items-center"},Ee={class:"ml-4"},Ie={class:"text-2xl font-bold text-gray-900"},Oe={class:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-4"},We={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},He={class:"flex flex-wrap gap-2 w-full md:w-auto"},Ye={key:0,class:"mt-3 flex flex-wrap gap-2"},Ge={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Ke={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Je={key:2,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},Qe={class:"bg-white shadow-sm sm:rounded-lg border border-gray-200"},Xe={class:"p-4 border-b border-gray-200 bg-gray-50"},Ze={class:"flex justify-between items-center"},et={class:"text-lg font-medium text-gray-900"},tt={class:"text-sm text-gray-500"},st={class:"overflow-x-auto"},lt={class:"flex items-center"},ot={class:"font-mono text-sm text-gray-900 font-semibold"},at={key:0,class:"ml-2 text-xs text-gray-500 bg-gray-100 px-1 rounded"},rt={class:"font-medium text-gray-900"},nt={key:0,class:"text-xs text-gray-500"},it={class:"font-medium text-gray-900"},dt={key:0,class:"text-xs text-gray-500"},ut={class:"flex items-center"},ct={class:"text-gray-700"},pt={class:"flex items-center"},vt={class:"text-gray-700"},mt={class:"text-right"},gt={class:"font-semibold text-gray-900"},xt={class:"flex items-center"},ft={class:"capitalize font-medium"},yt={key:0,class:"ml-1 text-xs text-gray-500 bg-gray-100 px-1 rounded"},_t={class:"text-sm text-gray-900"},ht={key:0,class:"text-xs text-gray-500"},bt={class:"text-sm text-gray-900"},kt={key:0,class:"text-xs text-gray-500"},wt={class:"text-gray-700"},Ct={class:"flex space-x-2 justify-end"},Mt={key:0,class:"text-center py-12"},St={class:"mt-1 text-sm text-gray-500"},At={key:0,class:"mt-6"},Dt={key:1,class:"mt-6 flex justify-between items-center"},Rt={class:"text-sm text-gray-700"},jt={class:"font-medium"},Pt={class:"font-medium"},Tt={class:"font-medium"},qt={class:"p-6"},Lt={class:"mb-4"},Vt={class:"text-sm text-gray-600 mb-2"},Bt={class:"mb-4"},zt={class:"flex justify-end space-x-4"},Ft={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Nt={__name:"ApprovedRequest",props:{deliveries:{type:Array,required:!0,default:()=>[]},pagination:{type:Object,default:()=>({current_page:1,last_page:1,links:[]})},filters:{type:Object,default:()=>({search:"",payment_method:"",payment_type:"",date_range:"all"})},status:String,success:String,error:String},setup(g){const p=g,c=x(p.filters.search||""),v=x(p.filters.payment_method||""),m=x(p.filters.payment_type||""),h=x(p.filters.date_range||"all"),f=x("approved_at"),M=x("desc"),S=x(!1),b=x(""),_=x(null),k=x(!1),P=y(()=>{var l;return Number((l=p.pagination)==null?void 0:l.current_page)||1}),z=y(()=>{var l;return Number((l=p.pagination)==null?void 0:l.last_page)||1}),W=y(()=>{var l;return{current_page:P.value,last_page:z.value,links:((l=p.pagination)==null?void 0:l.links)||[]}}),F=y(()=>p.deliveries.reduce((l,t)=>l+(t.total_price||0),0)),H=y(()=>{const l=p.deliveries.reduce((t,s)=>t+(s.package_count||0),0);return l>0?F.value/l:0}),Y=y(()=>{const l=new Date;return p.deliveries.filter(t=>{if(!t.approved_at)return!1;const s=new Date(t.approved_at);return s.getMonth()===l.getMonth()&&s.getFullYear()===l.getFullYear()}).length}),q=y(()=>c.value!==""||v.value!==""||m.value!==""||h.value!=="all"),N=[{value:"",text:"All Payment Types"},{value:"prepaid",text:"Prepaid"},{value:"postpaid",text:"Postpaid"}],$=[{value:"",text:"All Methods"},{value:"cash",text:"Cash"},{value:"gcash",text:"GCash"},{value:"bank",text:"Bank Transfer"}],G=[{value:"all",text:"All Time"},{value:"today",text:"Today"},{value:"week",text:"This Week"},{value:"month",text:"This Month"},{value:"year",text:"This Year"}],K=[{field:"id",header:"Request ID",sortable:!0,width:"140px"},{field:"sender",header:"Sender",sortable:!0},{field:"receiver",header:"Receiver",sortable:!0},{field:"pick_up_region",header:"Pick-up",sortable:!0},{field:"drop_off_region",header:"Drop-off",sortable:!0},{field:"status",header:"Status",sortable:!0,width:"100px"},{field:"total_price",header:"Amount",sortable:!0,width:"120px"},{field:"payment_method",header:"Payment Method",sortable:!0},{field:"payment_type",header:"Payment Type",sortable:!0,width:"110px"},{field:"created_at",header:"Request Date",sortable:!0,width:"130px"},{field:"approved_at",header:"Approved At",sortable:!0,width:"130px"},{field:"approved_by",header:"Approved By",sortable:!0},{field:"actions",header:"Actions",sortable:!1,width:"240px"}];function J(l){C.get(route("deliveries.approved.edit",l))}function Q(l){switch(l){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function X(l){switch(l){case"prepaid":return"bg-green-100 text-green-800";case"postpaid":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}function Z(l){switch(l){case"paid":return"text-green-600";case"pending":return"text-yellow-600";case"unpaid":return"text-red-600";default:return"text-gray-600"}}function ee(l){const t=$.find(s=>s.value===l);return t?t.text:l}function te(l){const t=N.find(s=>s.value===l);return t?t.text:l}function U(){c.value="",v.value="",m.value="",h.value="all"}const E=y(()=>(p.deliveries||[]).map(l=>({...l,payment_type:l.payment_type??(["cash","gcash","bank"].includes(l.payment_method)?"prepaid":"postpaid")}))),A=y(()=>E.value?E.value.filter(l=>{var D,R,j;const t=c.value===""||((D=l.sender)==null?void 0:D.toLowerCase().includes(c.value.toLowerCase()))||((R=l.receiver)==null?void 0:R.toLowerCase().includes(c.value.toLowerCase()))||l.id.toString().includes(c.value)||((j=l.reference_number)==null?void 0:j.toLowerCase().includes(c.value.toLowerCase())),s=v.value===""||l.payment_method===v.value,w=m.value===""||l.payment_type===m.value;return t&&s&&w}).sort((l,t)=>{if(!f.value)return 0;const s=M.value==="asc"?1:-1;return l[f.value]<t[f.value]?-1*s:l[f.value]>t[f.value]?1*s:0}):[]);function se(l){console.log("confirmCancel called with:",l),_.value=l,b.value="",S.value=!0,k.value=!1,console.log("showCancelModal set to:",S.value)}function le(){!_.value||!b.value.trim()||(k.value=!0,C.delete(route("deliveries.cancel",_.value.id),{data:{cancellation_reason:b.value},preserveScroll:!0,onSuccess:()=>{S.value=!1,_.value=null,b.value="",k.value=!1},onError:l=>{console.error("Failed to cancel request:",l),alert("Failed to cancel request: "+(l.message||"Unknown error")),k.value=!1}}))}de([c,v,h,m],()=>{C.get(route("deliveries.index"),{search:c.value,payment_method:v.value,payment_type:m.value,date_range:h.value,page:1},{preserveState:!0,replace:!0})});function oe(l){f.value===l?M.value=M.value==="asc"?"desc":"asc":(f.value=l,M.value="asc")}function ae(l){C.get(route("deliveries.index"),{page:l,search:c.value,payment_method:v.value,payment_type:m.value,date_range:h.value},{preserveState:!0})}function re(l){C.get(route("deliveries.show",l))}function ne(){C.get(route("deliveries.pending"))}function ie(){C.get(route("deliveries.rejected"))}return(l,t)=>(r(),ue(ve,null,{header:a(()=>[e("div",_e,[t[12]||(t[12]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Approved Delivery Requests"),e("p",{class:"mt-1 text-sm text-gray-500"}," Review and manage approved delivery requests ")],-1)),e("div",he,[u(O,{onClick:ne},{default:a(()=>t[10]||(t[10]=[d(" Pending Requests ")])),_:1}),u(V,{onClick:ie},{default:a(()=>t[11]||(t[11]=[d(" Rejected Requests ")])),_:1})])])]),default:a(()=>[e("div",be,[e("div",ke,[g.status||g.success||g.error?(r(),n("div",we,[g.status?(r(),n("div",Ce,o(g.status),1)):i("",!0),g.success?(r(),n("div",Me,o(g.success),1)):i("",!0),g.error?(r(),n("div",Se,o(g.error),1)):i("",!0)])):i("",!0),e("div",Ae,[e("div",De,[e("div",Re,[t[14]||(t[14]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",je,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Approved",-1)),e("p",Pe,o(p.deliveries.length),1)])])]),e("div",Te,[e("div",qe,[t[16]||(t[16]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Le,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Revenue",-1)),e("p",Ve,"₱"+o(F.value.toLocaleString()),1)])])]),e("div",Be,[e("div",ze,[t[18]||(t[18]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),e("div",Fe,[t[17]||(t[17]=e("p",{class:"text-sm font-medium text-gray-600"},"Avg. Package Value",-1)),e("p",Ne,"₱"+o(H.value.toLocaleString()),1)])])]),e("div",$e,[e("div",Ue,[t[20]||(t[20]=e("div",{class:"p-2 bg-orange-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ee,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-gray-600"},"This Month",-1)),e("p",Ie,o(Y.value),1)])])])]),e("div",Oe,[e("div",We,[u(ge,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),placeholder:"Search by ID, sender, receiver...",class:"w-full max-w-md"},null,8,["modelValue"]),e("div",He,[u(B,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),options:N,"option-value":"value","option-label":"text",placeholder:"All Payment Types",class:"w-full md:w-48"},null,8,["modelValue"]),u(B,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),options:$,"option-value":"value","option-label":"text",placeholder:"All Payment Methods",class:"w-full md:w-48"},null,8,["modelValue"]),u(B,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=s=>h.value=s),options:G,"option-value":"value","option-label":"text",placeholder:"Filter by date",class:"w-full md:w-48"},null,8,["modelValue"]),u(T,{onClick:U,class:"whitespace-nowrap"},{default:a(()=>t[21]||(t[21]=[d(" Clear Filters ")])),_:1})])]),q.value?(r(),n("div",Ye,[t[25]||(t[25]=e("span",{class:"text-sm text-gray-600"},"Active filters:",-1)),c.value?(r(),n("span",Ge,[d(' Search: "'+o(c.value)+'" ',1),e("button",{onClick:t[4]||(t[4]=s=>c.value=""),class:"ml-1 hover:text-blue-600"},t[22]||(t[22]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):i("",!0),v.value?(r(),n("span",Ke,[d(" Method: "+o(ee(v.value))+" ",1),e("button",{onClick:t[5]||(t[5]=s=>v.value=""),class:"ml-1 hover:text-green-600"},t[23]||(t[23]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):i("",!0),m.value?(r(),n("span",Je,[d(" Type: "+o(te(m.value))+" ",1),e("button",{onClick:t[6]||(t[6]=s=>m.value=""),class:"ml-1 hover:text-purple-600"},t[24]||(t[24]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])):i("",!0)])):i("",!0)]),e("div",Qe,[e("div",Xe,[e("div",Ze,[e("h3",et," Approved Requests ("+o(A.value.length)+") ",1),e("div",tt," Sorted by: "+o(f.value)+" ("+o(M.value)+") ",1)])]),e("div",st,[u(xe,{columns:K,data:A.value,"sort-field":f.value,"sort-direction":M.value,onSort:oe,class:"w-full"},{id:a(({row:s})=>[e("div",lt,[e("span",ot,"DR-"+o(String(s.id).padStart(6,"0")),1),s.reference_number?(r(),n("span",at,o(s.reference_number),1)):i("",!0)])]),status:a(({row:s})=>[e("span",{class:L([Q(s.status),"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full capitalize"])},o(s.status),3)]),sender:a(({row:s})=>[e("div",null,[e("p",rt,o(s.sender||"N/A"),1),s.sender_company?(r(),n("p",nt,o(s.sender_company),1)):i("",!0)])]),receiver:a(({row:s})=>[e("div",null,[e("p",it,o(s.receiver||"N/A"),1),s.receiver_company?(r(),n("p",dt,o(s.receiver_company),1)):i("",!0)])]),pick_up_region:a(({row:s})=>[e("div",ut,[s.pick_up_region&&s.pick_up_region_color?(r(),n("div",{key:0,class:"w-3 h-3 rounded-full mr-2 border border-gray-300",style:I({backgroundColor:s.pick_up_region_color})},null,4)):i("",!0),e("span",ct,o(s.pick_up_region||"N/A"),1)])]),drop_off_region:a(({row:s})=>[e("div",pt,[s.drop_off_region&&s.drop_off_region_color?(r(),n("div",{key:0,class:"w-3 h-3 rounded-full mr-2 border border-gray-300",style:I({backgroundColor:s.drop_off_region_color})},null,4)):i("",!0),e("span",vt,o(s.drop_off_region||"N/A"),1)])]),total_price:a(({row:s})=>[e("div",mt,[e("p",gt,"₱"+o((s.total_price||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),s.payment_status?(r(),n("p",{key:0,class:L([Z(s.payment_status),"text-xs capitalize"])},o(s.payment_status),3)):i("",!0)])]),payment_method:a(({row:s})=>[e("div",xt,[e("span",ft,o(s.payment_method||"N/A"),1),s.payment_terms?(r(),n("span",yt,o(s.payment_terms),1)):i("",!0)])]),payment_type:a(({row:s})=>[e("span",{class:L([X(s.payment_type),"px-2 py-1 text-xs font-medium rounded-full capitalize"])},o(s.payment_type||"N/A"),3)]),created_at:a(({row:s})=>[e("div",null,[e("p",_t,o(s.created_at?new Date(s.created_at).toLocaleDateString():"N/A"),1),s.created_at?(r(),n("p",ht,o(new Date(s.created_at).toLocaleTimeString()),1)):i("",!0)])]),approved_at:a(({row:s})=>[e("div",null,[e("p",bt,o(s.approved_at?new Date(s.approved_at).toLocaleDateString():"N/A"),1),s.approved_at?(r(),n("p",kt,o(new Date(s.approved_at).toLocaleTimeString()),1)):i("",!0)])]),approved_by:a(({row:s})=>[e("span",wt,o(s.approved_by||"System"),1)]),actions:a(({row:s})=>[e("div",Ct,[u(T,{onClick:w=>re(s.id),class:"text-xs"},{default:a(()=>t[26]||(t[26]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),d(" View ")])),_:2},1032,["onClick"]),u(O,{onClick:w=>J(s.id),class:"text-xs bg-blue-600 hover:bg-blue-700"},{default:a(()=>t[27]||(t[27]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),d(" Edit Packages ")])),_:2},1032,["onClick"]),u(V,{onClick:w=>se(s),class:"text-xs bg-red-600 hover:bg-red-700"},{default:a(()=>t[28]||(t[28]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),d(" Cancel ")])),_:2},1032,["onClick"])])]),_:1},8,["data","sort-field","sort-direction"])]),A.value.length===0?(r(),n("div",Mt,[t[30]||(t[30]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[31]||(t[31]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No approved requests",-1)),e("p",St,o(q.value?"Try adjusting your filters":"All approved delivery requests will appear here"),1),q.value?(r(),n("div",At,[u(T,{onClick:U},{default:a(()=>t[29]||(t[29]=[d(" Clear Filters ")])),_:1})])):i("",!0)])):i("",!0)]),A.value.length>0?(r(),n("div",Dt,[e("div",Rt,[t[32]||(t[32]=d(" Showing ")),e("span",jt,o((P.value-1)*15+1),1),t[33]||(t[33]=d(" to ")),e("span",Pt,o(Math.min(P.value*15,A.value.length)),1),t[34]||(t[34]=d(" of ")),e("span",Tt,o(A.value.length),1),t[35]||(t[35]=d(" results "))]),u(me,{"current-page":P.value,"total-pages":z.value,pagination:W.value,onPageChanged:ae},null,8,["current-page","total-pages","pagination"])])):i("",!0)])]),u(fe,{show:S.value,onClose:t[9]||(t[9]=s=>S.value=!1)},{default:a(()=>{var s,w,D,R;return[e("div",qt,[t[45]||(t[45]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Cancel Delivery Request ",-1)),t[46]||(t[46]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-yellow-800"},"Warning"),e("div",{class:"mt-1 text-sm text-yellow-700"},[e("p",null,"This action will mark the approved request as rejected. The customer will be notified about the cancellation.")])])])],-1)),e("div",Lt,[e("p",Vt,[t[36]||(t[36]=e("strong",null,"Request Details:",-1)),t[37]||(t[37]=e("br",null,null,-1)),d(" ID: DR-"+o(String((s=_.value)==null?void 0:s.id).padStart(6,"0")),1),t[38]||(t[38]=e("br",null,null,-1)),d(" Sender: "+o((w=_.value)==null?void 0:w.sender),1),t[39]||(t[39]=e("br",null,null,-1)),d(" Receiver: "+o((D=_.value)==null?void 0:D.receiver),1),t[40]||(t[40]=e("br",null,null,-1)),d(" Amount: ₱"+o((((R=_.value)==null?void 0:R.total_price)||0).toLocaleString()),1)])]),e("div",Bt,[t[41]||(t[41]=e("label",{for:"cancellation_reason",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Cancellation Reason "),e("span",{class:"text-red-500"},"*")],-1)),ce(e("textarea",{id:"cancellation_reason","onUpdate:modelValue":t[7]||(t[7]=j=>b.value=j),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Please provide a detailed reason for cancelling this approved request...",required:""},null,512),[[pe,b.value]]),t[42]||(t[42]=e("p",{class:"mt-1 text-xs text-gray-500"}," This reason will be shared with the customer and recorded in the system. ",-1))]),e("div",zt,[u(T,{onClick:t[8]||(t[8]=j=>S.value=!1)},{default:a(()=>t[43]||(t[43]=[d(" Keep Request ")])),_:1}),u(V,{onClick:le,disabled:!b.value.trim()||k.value},{default:a(()=>[k.value?(r(),n("svg",Ft,t[44]||(t[44]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):i("",!0),d(" "+o(k.value?"Cancelling...":"Confirm Cancellation"),1)]),_:1},8,["disabled"])])])]}),_:1},8,["show"])]),_:1}))}},Xt=ye(Nt,[["__scopeId","data-v-e67896ab"]]);export{Xt as default};
