import{E as Ce}from"./EmployeeLayout-D01AghRc.js";import{_ as je}from"./PrimaryButton-7U4Qu6md.js";import{_ as D}from"./SecondaryButton-BoCxbQ9w.js";import{D as le}from"./DangerButton-CBhu99um.js";import{_ as Ne}from"./InputLabel-ByB8oFns.js";import{_ as Ae}from"./TextArea-B3xnA6tu.js";import{M}from"./Modal-Dwgib7t_.js";import{_ as Se}from"./DataTable-C5A94wxb.js";import{g,i as Re,N as Pe,d as $,o as n,w as a,b as e,a as y,c as i,e as d,t as o,n as B,f,u as De,W as k,F as _,r as N}from"./app-BOCrhSfO.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DsrNUkqS.js";const $e={class:"flex justify-between items-center w-full px-6 md:px-8"},Be={class:"flex gap-2"},Fe={class:"flex-1 overflow-auto"},Ie={class:"zoom-content"},qe={class:"px-6 py-4"},Ve={key:0,class:"mb-4"},Le={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},Ue={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},ze={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},Te={class:"justify-center flex items-center"},We={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-full max-w-[75vw]"},Ee={class:"p-4 bg-white border-b border-gray-200"},He={class:"bg-white shadow-sm rounded-lg border border-gray-200 mb-6"},Ge={class:"p-6"},Oe={class:"flex flex-col"},Je={class:"flex items-center gap-2"},Ke={class:"font-bold text-green-700 tracking-wide"},Qe={class:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500"},Xe={key:0},Ye={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},Ze={class:"bg-white shadow-sm rounded-lg border border-gray-200"},et={class:"p-4 space-y-4"},tt={class:"grid grid-cols-1 gap-3"},st={class:"mt-1 text-sm text-gray-900"},rt={class:"mt-1 text-sm text-gray-900"},ot={class:"mt-1 text-sm text-gray-900"},lt={class:"mt-1 text-sm text-gray-900"},nt={class:"bg-white shadow-sm rounded-lg border border-gray-200"},it={class:"p-4 space-y-4"},at={class:"grid grid-cols-1 gap-3"},dt={class:"mt-1 text-sm text-gray-900"},ct={class:"mt-1 text-sm text-gray-900"},ut={class:"mt-1 text-sm text-gray-900"},mt={class:"mt-1 text-sm text-gray-900"},gt={class:"bg-white shadow-sm rounded-lg border border-gray-200"},yt={class:"p-4 space-y-4"},ft={class:"grid grid-cols-1 gap-3"},vt={class:"mt-1"},xt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800"},bt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-700"},pt={class:"mt-1 text-sm text-gray-900"},ht={class:"mt-1 text-sm text-gray-900"},kt={class:"mt-1 text-sm text-gray-900"},_t={class:"mt-1 text-sm text-gray-900"},wt={key:0},Ct={class:"mt-1 text-sm text-gray-900"},jt={key:1},Nt={class:"mt-1 text-sm text-gray-900"},At={key:2},St={class:"mt-1 text-sm text-gray-900"},Rt={key:3},Pt={class:"mt-1 text-sm text-gray-900"},Dt={key:4},Mt={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},$t={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Bt={class:"lg:col-span-2 bg-white shadow-sm rounded-lg border border-gray-200"},Ft={class:"p-4"},It={class:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200"},qt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Vt={class:"mt-1"},Lt={class:"mt-1 text-lg font-semibold text-blue-900"},Ut={key:0},zt={class:"mt-1 text-sm text-blue-900 capitalize"},Tt={key:1},Wt={class:"mt-1 text-sm text-blue-900 font-mono"},Et={key:0,class:"mt-4 pt-4 border-t border-blue-200"},Ht={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Gt={class:"mt-1 text-sm text-blue-900"},Ot={class:"mt-1"},Jt={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800"},Kt={key:0,class:"flex items-end"},Qt={key:1,class:"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200"},Xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Yt={class:"mt-1 text-lg font-semibold text-gray-900"},Zt={key:0,class:"text-xs text-gray-500"},es={class:"mt-1 text-sm text-gray-900 capitalize"},ts={class:"mt-1"},ss={class:"mt-1"},rs={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800"},os={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-700"},ls={key:0,class:"md:col-span-2"},ns={class:"mt-1 text-sm text-gray-900"},is={class:"bg-white shadow-sm rounded-lg border border-gray-200"},as={class:"p-4 border-b border-gray-200"},ds={class:"text-lg font-medium text-gray-900"},cs={class:"p-4"},us={class:"font-mono text-xs text-gray-600"},ms={class:"flex flex-col gap-1 max-w-[80px]"},gs={class:"flex gap-1"},ys=["src","alt","onClick"],fs={key:0,class:"flex gap-1"},vs=["src","alt","onClick"],xs={key:1,class:"flex gap-1"},bs=["src","alt","onClick"],ps=["src","onClick"],hs={key:2,class:"text-gray-400 text-xs"},ks={key:1,class:"text-center py-8 text-gray-500"},_s={class:"p-6"},ws={class:"mt-4 space-y-4"},Cs={class:"flex justify-between"},js={class:"font-medium"},Ns={class:"text-sm text-gray-500"},As={class:"text-sm text-gray-600 mt-1"},Ss={class:"text-xs text-gray-500 mt-1"},Rs={class:"mt-6 flex justify-end"},Ps={class:"p-6"},Ds={class:"mt-4"},Ms={class:"mt-6 flex justify-end space-x-4"},$s={key:0},Bs={key:1},Fs={class:"p-4"},Is={class:"flex justify-center items-center bg-gray-50 rounded-lg p-3"},qs=["src"],Vs={class:"p-4"},Ls={class:"flex justify-between items-center mb-4"},Us={class:"text-lg font-medium text-gray-900"},zs={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ts=["onClick"],Ws={class:"bg-gray-50 rounded-lg p-3 flex justify-center items-center h-40"},Es=["src","alt"],Hs={class:"text-center text-xs text-gray-600 mt-1"},Gs={__name:"Show",props:{delivery:{type:Object,required:!0,default:()=>({id:null,order_number:null,status:null,created_at:null,approved_at:null,approved_by:null,rejected_at:null,rejected_by:null,rejection_reason:null,total_price:0,payment_method:null,payment_status:null,payment_terms:null,payment_due_date:null,pick_up_region:null,drop_off_region:null,sender:null,receiver:null,packages:[]})},packages:{type:Array,default:()=>[]},status:String,success:String,error:String},setup(r){const A=r;function ne(s){return s?s.startsWith("http")?s:s.startsWith("downpayment-receipts/")?`/storage/${s}`:`/storage/${s}`:""}function ie(s){s&&(R.value=s,S.value=!0)}const F=g(!1),p=g(""),h=g(!1),S=g(!1),R=g(""),U=g(!1),I=g([]),z=g(!1),T=g([]),ae=[{field:"item_code",header:"Item Code",sortable:!0},{field:"item_name",header:"Item Name",sortable:!0},{field:"category",header:"Category",sortable:!0},{field:"dimensions",header:"Dimensions",sortable:!1},{field:"volume",header:"Volume",sortable:!0},{field:"weight",header:"Weight",sortable:!0},{field:"value",header:"Value",sortable:!0},{field:"status",header:"Status",sortable:!0},{field:"photo",header:"Photos",sortable:!1,width:"150px"},{field:"status_history",header:"Actions",sortable:!1,width:"120px"}],w=g("item_code"),q=g("asc"),de=Re(()=>A.delivery.packages?[...A.delivery.packages].sort((s,t)=>{if(!w.value)return 0;const c=q.value==="asc"?1:-1,x=W(s,w.value),b=W(t,w.value);return x<b?-1*c:x>b?1*c:0}):[]);function W(s,t){return t.split(".").reduce((c,x)=>c==null?void 0:c[x],s)}function P(s){return(Number(s)||0).toFixed(2)}function V(s){return(Number(s)||0).toFixed(0)}function E(s){const t=Number(s)||0;return t===0?"0 m³":t<.001?`${(t*1e6).toFixed(0)} cm³`:t<.1?`${t.toFixed(3)} m³`:t<1?`${t.toFixed(2)} m³`:`${t.toFixed(1)} m³`}function ce(s){const t=Number(s)||0;return t===0?"0 kg":t<.1?`${(t*1e3).toFixed(0)} g`:t<10?`${t.toFixed(1)} kg`:`${t.toFixed(0)} kg`}function ue(s){if(s.height&&s.width&&s.length){const t=parseFloat(s.height)||0,c=parseFloat(s.width)||0,x=parseFloat(s.length)||0,b=t*c*x/1e6;return E(b)}return E(s.volume)}function C(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function H(s){return s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function G(s){return s?[s.building_number,s.street,s.barangay,s.city,s.province,s.zip_code].filter(Boolean).join(", ")||"Address not specified":"N/A"}function me(s){return s?{piece:"Piece",carton:"Carton",sack:"Sack",bundle:"Bundle",roll:"Roll","B/R":"B/R","C/S":"C/S"}[s]||s.charAt(0).toUpperCase()+s.slice(1):"N/A"}function ge(s){return s?{preparing:"Preparing",ready_for_pickup:"Ready for Pickup",loaded:"Loaded",in_transit:"In Transit",delivered:"Delivered",completed:"Completed",returned:"Returned",rejected:"Rejected",damaged_in_transit:"Damaged in Transit",lost_in_transit:"Lost in Transit"}[s]||s.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase()):"N/A"}function ye(s){return s?{net_7:"Net 7 Days",net_15:"Net 15 Days",net_30:"Net 30 Days",cnd:"Cash on Delivery"}[s]||s.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase()):"N/A"}function fe(s){if(!s)return"bg-gray-100 text-gray-800";switch(String(s).toLowerCase()){case"piece":return"bg-blue-100 text-blue-800";case"carton":return"bg-green-100 text-green-800";case"sack":return"bg-amber-100 text-amber-800";case"bundle":return"bg-purple-100 text-purple-800";case"roll":return"bg-red-100 text-red-800";case"b/r":return"bg-indigo-100 text-indigo-800";case"c/s":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}}function ve(s){if(!s)return"bg-gray-100 text-gray-800";switch(s){case"delivered":case"completed":return"bg-green-100 text-green-800";case"approved":case"ready_for_pickup":return"bg-blue-100 text-blue-800";case"pending":case"preparing":return"bg-yellow-100 text-yellow-800";case"rejected":case"cancelled":case"damaged_in_transit":case"lost_in_transit":return"bg-red-100 text-red-800";case"in_transit":case"loaded":return"bg-purple-100 text-purple-800";case"returned":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}}function xe(s){if(!s||s==="N/A")return"bg-gray-200 text-gray-700";const t=String(s).toLowerCase().trim();return t==="completed"||t==="complete"||t==="paid"?"bg-green-100 text-green-800":t==="pending"||t==="pending_payment"?"bg-yellow-100 text-yellow-800":t==="unpaid"||t==="uncollectible"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-700"}function be(s){if(!s||s===""||s==="N/A")return"N/A";const t=String(s).toLowerCase().trim();return t==="paid"?"Paid":t==="complete"?"Complete":t==="completed"?"Completed":t==="pending"?"Pending":t==="pending_payment"?"Pending Payment":t==="unpaid"?"Unpaid":t==="uncollectible"?"Uncollectible":s.charAt(0).toUpperCase()+s.slice(1)}function pe(){F.value=!0}function L(){F.value=!1,p.value=""}function j(s){R.value=s,S.value=!0}function O(){S.value=!1,R.value=""}function J(){U.value=!1,I.value=[]}function K(){z.value=!1,T.value=[]}function he({field:s,direction:t}){w.value=s,q.value=t}async function ke(){if(confirm("Are you sure you want to approve this delivery request?")){h.value=!0;try{await k.post(route("deliveries.approve",A.delivery.id),{},{preserveScroll:!0,onSuccess:()=>{k.reload()}})}catch(s){console.error("Failed to approve request:",s)}finally{h.value=!1}}}function v(s){return s?s.startsWith("http")?s:s.startsWith("package-photos/")?`/storage/${s}`:`/storage/${s}`:""}async function _e(){if(p.value.trim()){h.value=!0;try{await k.post(route("deliveries.reject",A.delivery.id),{rejection_reason:p.value},{preserveScroll:!0,onSuccess:()=>{L(),k.reload()}})}catch(s){console.error("Failed to reject request:",s)}finally{h.value=!1}}}Pe(),g(document.referrer);function we(){window.history.length>1?window.history.back():k.visit("/")}return(s,t)=>(n(),$(Ce,null,{header:a(()=>[e("div",$e,[t[5]||(t[5]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Delivery Request Details"),e("p",{class:"mt-1 text-sm text-gray-500"}," View delivery request information ")],-1)),e("div",Be,[y(D,{onClick:we},{default:a(()=>t[2]||(t[2]=[f(" Back ")])),_:1}),r.delivery.status==="pending"?(n(),$(le,{key:0,onClick:pe},{default:a(()=>t[3]||(t[3]=[f(" Reject Request ")])),_:1})):d("",!0),r.delivery.status==="pending"?(n(),$(je,{key:1,onClick:ke},{default:a(()=>t[4]||(t[4]=[f(" Approve Request ")])),_:1})):d("",!0)])])]),default:a(()=>{var c,x,b,Q,X,Y,Z,ee,te,se,re;return[e("div",Fe,[e("div",Ie,[e("div",qe,[r.status||r.success||r.error?(n(),i("div",Ve,[r.status?(n(),i("div",Le,o(r.status),1)):d("",!0),r.success?(n(),i("div",Ue,o(r.success),1)):d("",!0),r.error?(n(),i("div",ze,o(r.error),1)):d("",!0)])):d("",!0),e("div",Te,[e("div",We,[e("div",Ee,[e("div",He,[e("div",Ge,[e("div",Oe,[e("div",Je,[t[6]||(t[6]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800"}," Delivery ID: ",-1)),e("span",Ke," DR-"+o(String(r.delivery.id).padStart(6,"0")),1)]),e("div",Qe,[e("span",null," Reference # "+o(r.delivery.status==="pending"?"N/A":r.delivery.reference_number||r.delivery.order_number||"DR-"+String(r.delivery.id).padStart(6,"0")),1),r.delivery.created_at?(n(),i("span",Xe," | Created: "+o(C(r.delivery.created_at)),1)):d("",!0)])])])]),e("div",Ye,[e("div",Ze,[t[11]||(t[11]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Sender Information")],-1)),e("div",et,[e("div",tt,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",st,o(((c=r.delivery.sender)==null?void 0:c.name)||((x=r.delivery.sender)==null?void 0:x.company_name)||"N/A"),1)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contact",-1)),e("p",rt,o(((b=r.delivery.sender)==null?void 0:b.phone)||((Q=r.delivery.sender)==null?void 0:Q.mobile)||"N/A"),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",ot,o(((X=r.delivery.sender)==null?void 0:X.email)||"N/A"),1)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),e("p",lt,o(G(r.delivery.sender)),1)])])])]),e("div",nt,[t[16]||(t[16]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Receiver Information")],-1)),e("div",it,[e("div",at,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",dt,o(((Y=r.delivery.receiver)==null?void 0:Y.name)||((Z=r.delivery.receiver)==null?void 0:Z.company_name)||"N/A"),1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contact",-1)),e("p",ct,o(((ee=r.delivery.receiver)==null?void 0:ee.phone)||((te=r.delivery.receiver)==null?void 0:te.mobile)||"N/A"),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",ut,o(((se=r.delivery.receiver)==null?void 0:se.email)||"N/A"),1)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),e("p",mt,o(G(r.delivery.receiver)),1)])])])]),e("div",gt,[t[27]||(t[27]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Information")],-1)),e("div",yt,[e("div",ft,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),e("div",vt,[r.delivery.reference_number?(n(),i("span",xt,o(r.delivery.reference_number),1)):(n(),i("span",bt," N/A "))])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700"},"Order Number",-1)),e("p",pt,o(r.delivery.order_number||"N/A"),1)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700"},"Request Date",-1)),e("p",ht,o(C(r.delivery.created_at)),1)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"Pick Up Region",-1)),e("p",kt,o(r.delivery.pick_up_region||"N/A"),1)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Drop Off Region",-1)),e("p",_t,o(r.delivery.drop_off_region||"N/A"),1)]),r.delivery.approved_at?(n(),i("div",wt,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Approved Date",-1)),e("p",Ct,o(C(r.delivery.approved_at)),1)])):d("",!0),r.delivery.approved_by?(n(),i("div",jt,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Approved By",-1)),e("p",Nt,o(r.delivery.approved_by),1)])):d("",!0),r.delivery.rejected_at?(n(),i("div",At,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejected Date",-1)),e("p",St,o(C(r.delivery.rejected_at)),1)])):d("",!0),r.delivery.rejected_by?(n(),i("div",Rt,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejected By",-1)),e("p",Pt,o(r.delivery.rejected_by),1)])):d("",!0),r.delivery.rejection_reason?(n(),i("div",Dt,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejection Reason",-1)),e("p",Mt,o(r.delivery.rejection_reason),1)])):d("",!0)])])])]),e("div",$t,[e("div",Bt,[t[42]||(t[42]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),e("div",Ft,[e("div",It,[t[36]||(t[36]=e("h4",{class:"text-md font-semibold text-blue-800 mb-3"},"Processing Fee Summary",-1)),e("div",qt,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-blue-700"},"Processing Fee Status",-1)),e("div",Vt,[e("span",{class:B(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",r.delivery.processing_fee_paid?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},o(r.delivery.processing_fee_paid?"Paid":"Unpaid"),3)])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-blue-700"},"Processing Fee Amount",-1)),e("p",Lt,"₱"+o(P(r.delivery.processing_fee_amount||200)),1)]),r.delivery.downpayment?(n(),i("div",Ut,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-blue-700"},"Payment Method",-1)),e("p",zt,o(r.delivery.downpayment.method||"N/A"),1)])):d("",!0),r.delivery.downpayment?(n(),i("div",Tt,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-blue-700"},"Reference Number",-1)),e("p",Wt,o(r.delivery.downpayment.reference_number||"N/A"),1)])):d("",!0)]),r.delivery.processing_fee_paid&&r.delivery.downpayment?(n(),i("div",Et,[e("div",Ht,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-blue-700"},"Paid At",-1)),e("p",Gt,o(H(r.delivery.downpayment.paid_at)),1)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-blue-700"},"Payment Status",-1)),e("div",Ot,[e("span",Jt,o(r.delivery.downpayment.status||"Paid"),1)])]),r.delivery.downpayment.receipt_image?(n(),i("div",Kt,[e("button",{onClick:t[0]||(t[0]=l=>ie(r.delivery.downpayment.receipt_image_url||ne(r.delivery.downpayment.receipt_image))),class:"inline-flex items-center px-3 py-2 border border-blue-300 text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[34]||(t[34]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),f(" View Receipt ")]))])):d("",!0)])])):d("",!0),r.delivery.processing_fee_paid?d("",!0):(n(),i("div",Qt,t[35]||(t[35]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-yellow-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),e("p",{class:"text-sm text-yellow-700"}," Processing fee of ₱200 is required before this request can be processed. ")],-1)])))]),e("div",Xt,[e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700"},"Total Amount",-1)),e("p",Yt,"₱"+o(P(r.delivery.total_price)),1),r.delivery.processing_fee_paid?(n(),i("p",Zt," After ₱"+o(P(r.delivery.processing_fee_amount||200))+" processing fee deduction ",1)):d("",!0)]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method",-1)),e("p",es,o(r.delivery.payment_method||"N/A"),1)]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Status",-1)),e("div",ts,[e("span",{class:B(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",xe(r.delivery.payment_status)])},o(be(r.delivery.payment_status)),3)])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Terms",-1)),e("div",ss,[r.delivery.payment_terms?(n(),i("span",rs,o(ye(r.delivery.payment_terms)),1)):(n(),i("span",os," N/A "))])]),r.delivery.payment_due_date?(n(),i("div",ls,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Due Date",-1)),e("p",ns,o(C(r.delivery.payment_due_date)),1)])):d("",!0)])])])]),e("div",is,[e("div",as,[e("h3",ds,"Packages ("+o(((re=r.delivery.packages)==null?void 0:re.length)||0)+")",1)]),e("div",cs,[r.delivery.packages&&r.delivery.packages.length?(n(),$(Se,{key:0,columns:ae,data:de.value,"sort-field":w.value,"sort-direction":q.value,onSort:he,class:"compact-table"},{item_code:a(({row:l})=>[e("span",us,o(l.item_code||"N/A"),1)]),category:a(({row:l})=>[e("span",{class:B(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",fe(l.category)])},o(me(l.category)),3)]),dimensions:a(({row:l})=>[f(o(V(l.height))+" × "+o(V(l.width))+" × "+o(V(l.length))+" cm ",1)]),volume:a(({row:l})=>[f(o(ue(l)),1)]),weight:a(({row:l})=>[f(o(ce(l.weight)),1)]),value:a(({row:l})=>[f(" ₱"+o(P(l.value)),1)]),photo:a(({row:l})=>[e("div",ms,[l.photo_path&&Array.isArray(l.photo_path)&&l.photo_path.length?(n(),i(_,{key:0},[e("div",gs,[(n(!0),i(_,null,N(l.photo_path.slice(0,2),(u,m)=>(n(),i("img",{key:m,src:v(u),alt:`Package photo ${m+1}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:oe=>j(v(u))},null,8,ys))),128))]),l.photo_path.length>2?(n(),i("div",fs,[(n(!0),i(_,null,N(l.photo_path.slice(2,4),(u,m)=>(n(),i("img",{key:m+2,src:v(u),alt:`Package photo ${m+3}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:oe=>j(v(u))},null,8,vs))),128))])):d("",!0),l.photo_path.length>4?(n(),i("div",xs,[(n(!0),i(_,null,N(l.photo_path.slice(4,6),(u,m)=>(n(),i("img",{key:m+4,src:v(u),alt:`Package photo ${m+5}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:oe=>j(v(u))},null,8,bs))),128))])):d("",!0)],64)):l.photo_path&&typeof l.photo_path=="string"?(n(),i("img",{key:1,src:v(l.photo_path),alt:"Package photo",class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:u=>j(v(l.photo_path))},null,8,ps)):(n(),i("span",hs,"No photos"))])]),status:a(({row:l})=>[e("span",{class:B(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",ve(l.status)])},o(ge(l.status)),3)]),status_history:a(({row:l})=>[y(D,{class:"!px-2 !py-1 !text-xs !font-normal",onClick:()=>De(k).visit(s.route("packages.track",l.id))},{default:a(()=>t[43]||(t[43]=[f(" Track Package ")])),_:2},1032,["onClick"])]),_:1},8,["data","sort-field","sort-direction"])):(n(),i("div",ks," No packages found for this delivery. "))])])])])])])])]),y(M,{show:z.value,onClose:K,"max-width":"lg"},{default:a(()=>[e("div",_s,[t[45]||(t[45]=e("h2",{class:"text-lg font-medium text-gray-900"},"Status History",-1)),e("div",ws,[(n(!0),i(_,null,N(T.value,(l,u)=>{var m;return n(),i("div",{key:u,class:"border-l-4 border-blue-500 pl-4 py-2"},[e("div",Cs,[e("span",js,o(l.status),1),e("span",Ns,o(H(l.created_at)),1)]),e("p",As,o(l.notes||"No notes provided"),1),e("p",Ss,"Updated by: "+o(((m=l.user)==null?void 0:m.name)||"System"),1)])}),128))]),e("div",Rs,[y(D,{onClick:K},{default:a(()=>t[44]||(t[44]=[f(" Close ")])),_:1})])])]),_:1},8,["show"]),y(M,{show:F.value,onClose:L},{default:a(()=>[e("div",Ps,[t[47]||(t[47]=e("h2",{class:"text-lg font-medium text-gray-900"},"Reject Delivery Request?",-1)),t[48]||(t[48]=e("p",{class:"mt-1 text-sm text-gray-600"}," Are you sure you want to reject this delivery request? ",-1)),e("div",Ds,[y(Ne,{for:"rejection_reason",value:"Reason for Rejection (Required)"}),y(Ae,{id:"rejection_reason",class:"mt-1 block w-full",modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),rows:3,placeholder:"Enter reason for rejection...",required:""},null,8,["modelValue"])]),e("div",Ms,[y(D,{onClick:L},{default:a(()=>t[46]||(t[46]=[f(" Cancel ")])),_:1}),y(le,{onClick:_e,disabled:h.value||!p.value.trim()},{default:a(()=>[h.value?(n(),i("span",$s,"Rejecting...")):(n(),i("span",Bs,"Reject"))]),_:1},8,["disabled"])])])]),_:1},8,["show"]),y(M,{show:S.value,onClose:O,"max-width":"2xl"},{default:a(()=>[e("div",Fs,[e("div",{class:"flex justify-between items-center mb-4"},[t[50]||(t[50]=e("h3",{class:"text-lg font-medium text-gray-900"},"Package Photo",-1)),e("button",{onClick:O,class:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100"},t[49]||(t[49]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Is,[e("img",{src:R.value,alt:"Package photo preview",class:"max-h-[65vh] max-w-[90%] rounded-lg shadow-md object-contain"},null,8,qs)])])]),_:1},8,["show"]),y(M,{show:U.value,onClose:J,"max-width":"5xl"},{default:a(()=>[e("div",Vs,[e("div",Ls,[e("h3",Us,"Package Photos ("+o(I.value.length)+")",1),e("button",{onClick:J,class:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100"},t[51]||(t[51]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",zs,[(n(!0),i(_,null,N(I.value,(l,u)=>(n(),i("div",{key:u,class:"cursor-pointer group",onClick:m=>j(v(l))},[e("div",Ws,[e("img",{src:v(l),alt:`Package photo ${u+1}`,class:"max-h-32 max-w-full object-contain rounded-lg border border-gray-200 group-hover:border-blue-400 transition-colors"},null,8,Es)]),e("p",Hs,"Photo "+o(u+1),1)],8,Ts))),128))])])]),_:1},8,["show"])]}),_:1}))}},or=Me(Gs,[["__scopeId","data-v-7a69b7c2"]]);export{or as default};
