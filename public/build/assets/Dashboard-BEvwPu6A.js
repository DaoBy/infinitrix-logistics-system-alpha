import{E as se}from"./EmployeeLayout-DIT5z9wE.js";import{c as n,o,b as e,i as $,d as re,w as y,a as l,u as b,t as r,f as a,e as h,F as k,r as A,n as S,W as G}from"./app-xrBi3RtB.js";import{_ as z}from"./PrimaryButton-C_K9q06y.js";import{_ as V}from"./SecondaryButton-BolX5WPO.js";import{r as O}from"./ClockIcon-CMd07tzr.js";import{r as de}from"./CheckCircleIcon-B0G0i9Ys.js";import{r as J}from"./ExclamationTriangleIcon-WK6qts0J.js";import{r as oe}from"./ChartBarIcon-4U5NsJ1i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BuzuRvoY.js";import"./DangerButton-C4ke1hY1.js";function K(m,M){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Q(m,M){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"})])}const ne={class:"flex justify-between items-center px-4 sm:px-6"},ae={class:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400"},le={class:"px-4 md:px-6 py-4 max-w-7xl mx-auto"},ie={class:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6"},ce={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 sm:p-4"},xe={class:"flex items-center"},ge={class:"flex-shrink-0"},ue={class:"w-10 h-10 sm:w-12 sm:h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"},_e={class:"ml-3"},me={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},ye={class:"mt-2"},ve={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 sm:p-4"},fe={class:"flex items-center"},pe={class:"flex-shrink-0"},be={class:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},he={class:"ml-3"},ke={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},we={class:"mt-2"},Ce={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 sm:p-4"},qe={class:"flex items-center"},je={class:"flex-shrink-0"},De={class:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},Ve={class:"ml-3"},Ne={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},Ae={class:"mt-2"},Se={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 sm:p-4"},Me={class:"flex items-center"},Pe={class:"flex-shrink-0"},Be={class:"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},Re={class:"ml-3"},$e={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100"},ze={class:"mt-2"},Oe={class:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6"},Le={class:"xl:col-span-2 space-y-4 sm:space-y-6"},Te={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Ee={class:"p-4 border-b border-gray-200 dark:border-gray-700"},Fe={class:"flex items-center justify-between"},He={class:"text-base sm:text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},Ie={class:"text-xs text-gray-500 dark:text-gray-400"},Ue={class:"p-4"},We={class:"sm:hidden space-y-4"},Ye={class:"flex justify-between items-start mb-3"},Ze={class:"flex items-center gap-2 mb-1"},Ge={class:"font-bold text-green-700 dark:text-green-300 tracking-wide"},Je={class:"text-xs text-gray-500 dark:text-gray-400"},Ke={class:"mb-3"},Qe={class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},Xe={class:"text-xs text-gray-500 dark:text-gray-400 space-y-1"},et={class:"flex items-center gap-1"},tt={class:"flex items-center gap-1"},st={class:"grid grid-cols-2 gap-4 mb-3"},rt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},dt={class:"text-sm text-gray-900 dark:text-gray-100"},ot={key:0,class:"text-red-500 text-xs"},nt={class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},at={key:0,class:"bg-orange-50 dark:bg-orange-900/20 rounded p-2 mb-3"},lt={class:"text-xs text-orange-700 dark:text-orange-300"},it={class:"hidden sm:block"},ct={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},xt={class:"flex items-center justify-between mb-3"},gt={class:"flex items-center gap-2"},ut={class:"font-bold text-green-700 dark:text-green-300 text-sm"},_t={class:"mb-3"},mt={class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},yt={class:"text-xs text-gray-500 dark:text-gray-400 space-y-1"},vt={class:"flex items-center gap-1"},ft={class:"flex items-center gap-1"},pt={class:"grid grid-cols-2 gap-3 mb-3"},bt={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ht={class:"text-sm text-gray-900 dark:text-gray-100"},kt={key:0,class:"text-red-500 text-xs block"},wt={class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},Ct={class:"text-xs text-gray-500 dark:text-gray-400"},qt={key:0,class:"bg-orange-50 dark:bg-orange-900/20 rounded p-2 mt-3"},jt={class:"text-xs text-orange-700 dark:text-orange-300"},Dt={key:0,class:"text-center py-6"},Vt={class:"mt-4 text-center"},Nt={key:0,class:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg p-4"},At={class:"flex items-start gap-3"},St={class:"flex-1"},Mt={class:"text-sm text-red-700 dark:text-red-300 mb-3"},Pt={class:"space-y-2"},Bt={class:"min-w-0"},Rt={class:"flex items-center gap-2 mb-1"},$t={class:"text-sm font-medium text-red-800 dark:text-red-200 truncate"},zt={class:"text-xs text-red-700 dark:text-red-300"},Ot={key:0,class:"mt-2 text-center"},Lt={class:"space-y-4 sm:space-y-6"},Tt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Et={class:"p-4 border-b border-gray-200 dark:border-gray-700"},Ft={class:"flex items-center justify-between"},Ht={class:"text-base sm:text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},It={class:"text-xs text-gray-500 dark:text-gray-400"},Ut={class:"p-4"},Wt={class:"sm:hidden space-y-4"},Yt={class:"flex justify-between items-start mb-3"},Zt={class:"flex items-center gap-2 mb-1"},Gt={class:"font-bold text-green-700 dark:text-green-300 tracking-wide"},Jt={class:"text-xs text-gray-500 dark:text-gray-400"},Kt={key:0},Qt={class:"text-right"},Xt={key:0,class:"text-xs text-gray-500 mt-1"},es={key:1,class:"text-xs text-gray-400"},ts={class:"mb-3"},ss={class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},rs={class:"text-xs text-gray-500 dark:text-gray-400 space-y-1"},ds={class:"flex items-center gap-1"},os={class:"flex items-center gap-1"},ns={class:"grid grid-cols-2 gap-4 mb-3"},as={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ls={class:"text-sm text-gray-900 dark:text-gray-100"},is={class:"flex justify-between gap-2"},cs={class:"hidden sm:block space-y-4"},xs={class:"flex justify-between items-start"},gs={class:"flex-1"},us={class:"flex items-center gap-3 mb-3"},_s={class:"flex items-center gap-2"},ms={class:"font-bold text-green-700 dark:text-green-300 text-sm"},ys={class:"flex items-start justify-between"},vs={class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},fs={class:"text-xs text-gray-500 dark:text-gray-400 space-y-1"},ps={class:"flex items-center gap-1"},bs={class:"flex items-center gap-1"},hs={class:"text-right ml-6"},ks={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},ws={class:"flex items-center justify-between mt-3"},Cs={class:"text-xs text-gray-500 dark:text-gray-400"},qs={key:0,class:"text-center py-6"},js={class:"mt-4 text-center"},Ds={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Vs={class:"p-4 border-b border-gray-200 dark:border-gray-700"},Ns={class:"text-base sm:text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},As={class:"p-4 sm:p-6"},Ss={class:"text-center"},Ms={class:"text-2xl sm:text-3xl font-bold text-green-600 dark:text-green-400 mb-2"},Us={__name:"Dashboard",props:{stats:{type:Object,default:()=>({})},recentPendingCollections:{type:Array,default:()=>[]},recentActivities:{type:Array,default:()=>[]},overdueCollections:{type:Array,default:()=>[]},metrics:{type:Object,default:()=>({})}},setup(m){const M=m,P=$(()=>M.recentPendingCollections.filter(d=>{var s;const t=(s=d.delivery_request)==null?void 0:s.payment_status;return!["uncollectible","verified","pending_verification"].includes(t)}).slice(0,4)),B=$(()=>M.recentActivities.slice(0,3)),X=$(()=>new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}));function N(d){var t;return((t=d.delivery_request)==null?void 0:t.payment_status)||"pending"}function L(d){switch(N(d)){case"verified":return"Verified";case"pending_verification":return"Pending Verification";case"uncollectible":return"Extended Due";case"overdue":return"Overdue";default:return"Pending Collection"}}function T(d){switch(N(d)){case"verified":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100";case"pending_verification":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100";case"uncollectible":return"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-100";case"overdue":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100";default:return"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"}}function ee(d){return N(d)==="uncollectible"?"bg-orange-50 dark:bg-orange-900/20":R(d)?"bg-red-50 dark:bg-red-900/20":"bg-white dark:bg-gray-800"}function E(d){return d.verified_by?"Verified":d.rejected_by?"Rejected":"Pending Verification"}function F(d){return d.verified_by?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":d.rejected_by?"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100"}function H(d){var t,s,i,c,x,g,u,_;return((s=(t=d.delivery_request)==null?void 0:t.sender)==null?void 0:s.mobile)||((c=(i=d.delivery_request)==null?void 0:i.receiver)==null?void 0:c.mobile)||((g=(x=d.delivery_request)==null?void 0:x.sender)==null?void 0:g.phone)||((_=(u=d.delivery_request)==null?void 0:u.receiver)==null?void 0:_.phone)}function I(d){var t,s,i,c;return((s=(t=d.delivery_request)==null?void 0:t.sender)==null?void 0:s.email)||((c=(i=d.delivery_request)==null?void 0:i.receiver)==null?void 0:c.email)}function R(d){var s;return(s=d.delivery_request)!=null&&s.payment_due_date?new Date(d.delivery_request.payment_due_date)<new Date:!1}function U(d){return d?Number(d).toFixed(2):"0.00"}function W(d){return d?d==="cnd"?"Cash on Delivery":d.charAt(0).toUpperCase()+d.slice(1):"Standard"}function te(d){G.visit(route("collector.payments.create",d))}function Y(d){G.visit(route("collector.payments.show",d))}function C(d){if(!d)return"N/A";try{return new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}return(d,t)=>(o(),re(se,null,{header:y(()=>[e("div",ne,[t[0]||(t[0]=e("div",{class:"min-w-0 flex-1"},[e("h2",{class:"text-lg sm:text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200 truncate"}," Collection Dashboard "),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400 hidden sm:block"}," Overview of your collection activities and performance ")],-1)),e("div",ae,[l(b(O),{class:"h-4 w-4"}),e("span",null,"Updated: "+r(X.value),1)])])]),default:y(()=>[e("div",le,[e("div",ie,[e("div",ce,[e("div",xe,[e("div",ge,[e("div",ue,[l(b(O),{class:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-600 dark:text-yellow-400"})])]),e("div",_e,[t[1]||(t[1]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400"},"Pending Collections",-1)),e("p",me,r(m.stats.pending_collections),1)])]),e("div",ye,[l(V,{href:d.route("collector.payments.pending"),class:"!px-2 !py-1 !text-xs w-full justify-center"},{default:y(()=>t[2]||(t[2]=[a(" View All ")])),_:1},8,["href"])])]),e("div",ve,[e("div",fe,[e("div",pe,[e("div",be,[l(b(Q),{class:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600 dark:text-blue-400"})])]),e("div",he,[t[3]||(t[3]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400"},"Pending Verification",-1)),e("p",ke,r(m.stats.pending_verification),1)])]),e("div",we,[l(V,{href:d.route("collector.payments.index",{status:"pending"}),class:"!px-2 !py-1 !text-xs w-full justify-center"},{default:y(()=>t[4]||(t[4]=[a(" View All ")])),_:1},8,["href"])])]),e("div",Ce,[e("div",qe,[e("div",je,[e("div",De,[l(b(de),{class:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 dark:text-green-400"})])]),e("div",Ve,[t[5]||(t[5]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400"},"Verified Payments",-1)),e("p",Ne,r(m.stats.verified_payments),1)])]),e("div",Ae,[l(V,{href:d.route("collector.payments.index",{status:"verified"}),class:"!px-2 !py-1 !text-xs w-full justify-center"},{default:y(()=>t[6]||(t[6]=[a(" View All ")])),_:1},8,["href"])])]),e("div",Se,[e("div",Me,[e("div",Pe,[e("div",Be,[l(b(J),{class:"h-5 w-5 sm:h-6 sm:w-6 text-red-600 dark:text-red-400"})])]),e("div",Re,[t[7]||(t[7]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400"},"Rejected Payments",-1)),e("p",$e,r(m.stats.rejected_payments),1)])]),e("div",ze,[l(V,{href:d.route("collector.payments.index",{status:"rejected"}),class:"!px-2 !py-1 !text-xs w-full justify-center"},{default:y(()=>t[8]||(t[8]=[a(" View All ")])),_:1},8,["href"])])])]),e("div",Oe,[e("div",Le,[e("div",Te,[e("div",Ee,[e("div",Fe,[e("h3",He,[l(b(O),{class:"h-5 w-5 text-yellow-500"}),t[9]||(t[9]=a(" Recent Pending Collections "))]),e("span",Ie,r(P.value.length)+" items ",1)])]),e("div",Ue,[e("div",We,[(o(!0),n(k,null,A(P.value,s=>{var i,c,x,g,u,_,v,f,p,w,q,j,D;return o(),n("div",{key:s.id,class:S([ee(s),"rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm p-4"])},[e("div",Ye,[e("div",null,[e("div",Ze,[t[10]||(t[10]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"}," Ref ",-1)),e("span",Ge,r(((i=s.delivery_request)==null?void 0:i.reference_number)||`DR-${String(s.delivery_request_id).padStart(6,"0")}`),1)]),e("div",Je," ID: DO-"+r(String(s.delivery_request_id).padStart(6,"0")),1)]),e("span",{class:S([T(s),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(L(s)),3)]),e("div",Ke,[e("div",Qe,r(((x=(c=s.delivery_request)==null?void 0:c.sender)==null?void 0:x.name)||"N/A"),1),e("div",Xe,[e("div",et,[t[11]||(t[11]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),a(" "+r(((u=(g=s.delivery_request)==null?void 0:g.sender)==null?void 0:u.mobile)||"No phone"),1)]),e("div",tt,[t[12]||(t[12]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a(" "+r(((v=(_=s.delivery_request)==null?void 0:_.sender)==null?void 0:v.email)||"No email"),1)])])]),e("div",st,[e("div",null,[t[13]||(t[13]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Amount",-1)),e("div",rt," ₱"+r(U((f=s.delivery_request)==null?void 0:f.total_price)),1)]),e("div",null,[t[14]||(t[14]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Due Date",-1)),e("div",dt,[((p=s.delivery_request)==null?void 0:p.payment_terms)==="cnd"?(o(),n(k,{key:0},[a(" CND ")],64)):(w=s.delivery_request)!=null&&w.payment_due_date?(o(),n(k,{key:1},[a(r(C(s.delivery_request.payment_due_date))+" ",1),R(s)?(o(),n("span",ot,"(Overdue)")):h("",!0)],64)):(o(),n(k,{key:2},[a("—")],64))])])]),e("div",nt," Terms: "+r(W((q=s.delivery_request)==null?void 0:q.payment_terms)),1),N(s)==="uncollectible"?(o(),n("div",at,[e("div",lt,[t[15]||(t[15]=e("div",{class:"font-medium"},"Extended Due Date",-1)),e("div",null,"Reason: "+r((j=s.delivery_request)==null?void 0:j.non_payment_reason),1),e("div",null,"New due: "+r(C((D=s.delivery_request)==null?void 0:D.payment_due_date)),1)])])):h("",!0)],2)}),128))]),e("div",it,[e("div",ct,[(o(!0),n(k,null,A(P.value,s=>{var i,c,x,g,u,_,v,f,p,w,q,j,D;return o(),n("div",{key:s.id,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("div",xt,[e("div",gt,[t[16]||(t[16]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"}," Ref ",-1)),e("span",ut,r(((i=s.delivery_request)==null?void 0:i.reference_number)||`DR-${String(s.delivery_request_id).padStart(6,"0")}`),1)]),e("span",{class:S([T(s),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(L(s)),3)]),e("div",_t,[e("div",mt,r(((x=(c=s.delivery_request)==null?void 0:c.sender)==null?void 0:x.name)||"N/A"),1),e("div",yt,[e("div",vt,[t[17]||(t[17]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),a(" "+r(((u=(g=s.delivery_request)==null?void 0:g.sender)==null?void 0:u.mobile)||"No phone"),1)]),e("div",ft,[t[18]||(t[18]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a(" "+r(((v=(_=s.delivery_request)==null?void 0:_.sender)==null?void 0:v.email)||"No email"),1)])])]),e("div",pt,[e("div",null,[t[19]||(t[19]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Amount",-1)),e("div",bt," ₱"+r(U((f=s.delivery_request)==null?void 0:f.total_price)),1)]),e("div",null,[t[20]||(t[20]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Due Date",-1)),e("div",ht,[((p=s.delivery_request)==null?void 0:p.payment_terms)==="cnd"?(o(),n(k,{key:0},[a(" CND ")],64)):(w=s.delivery_request)!=null&&w.payment_due_date?(o(),n(k,{key:1},[a(r(C(s.delivery_request.payment_due_date))+" ",1),R(s)?(o(),n("span",kt,"(Overdue)")):h("",!0)],64)):(o(),n(k,{key:2},[a("—")],64))])])]),e("div",wt," Terms: "+r(W((q=s.delivery_request)==null?void 0:q.payment_terms)),1),e("div",Ct," ID: DO-"+r(String(s.delivery_request_id).padStart(6,"0")),1),N(s)==="uncollectible"?(o(),n("div",qt,[e("div",jt,[t[21]||(t[21]=e("div",{class:"font-medium"},"Extended Due Date",-1)),e("div",null,"Reason: "+r((j=s.delivery_request)==null?void 0:j.non_payment_reason),1),e("div",null,"New due: "+r(C((D=s.delivery_request)==null?void 0:D.payment_due_date)),1)])])):h("",!0)])}),128))])]),P.value.length===0?(o(),n("div",Dt,[l(b(Q),{class:"mx-auto h-8 w-8 text-gray-400"}),t[22]||(t[22]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"No pending collections",-1))])):h("",!0),e("div",Vt,[l(V,{href:d.route("collector.payments.pending"),class:"w-full justify-center"},{default:y(()=>t[23]||(t[23]=[a(" View All Pending Collections ")])),_:1},8,["href"])])])]),m.overdueCollections.length>0?(o(),n("div",Nt,[e("div",At,[l(b(J),{class:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),e("div",St,[t[25]||(t[25]=e("h3",{class:"text-base font-medium text-red-800 dark:text-red-200"},"Overdue Collections",-1)),e("p",Mt," You have "+r(m.overdueCollections.length)+" collection(s) that are overdue for payment. ",1),e("div",Pt,[(o(!0),n(k,null,A(m.overdueCollections.slice(0,2),s=>{var i,c;return o(),n("div",{key:s.id,class:"flex items-center justify-between p-2 bg-red-100 dark:bg-red-800/50 rounded border border-red-200 dark:border-red-600"},[e("div",Bt,[e("div",Rt,[e("span",$t,r(((i=s.delivery_request)==null?void 0:i.reference_number)||`DR-${String(s.delivery_request_id).padStart(6,"0")}`),1),e("span",zt," Due: "+r(C((c=s.delivery_request)==null?void 0:c.payment_due_date)),1)])]),l(z,{onClick:x=>te(s.delivery_request_id),class:"!px-2 !py-1 !text-xs bg-red-600 hover:bg-red-700 whitespace-nowrap"},{default:y(()=>t[24]||(t[24]=[a(" Collect ")])),_:2},1032,["onClick"])])}),128))]),m.overdueCollections.length>2?(o(),n("div",Ot,[l(V,{href:d.route("collector.payments.pending"),class:"!px-2 !py-1 !text-xs"},{default:y(()=>[a(" +"+r(m.overdueCollections.length-2)+" more overdue ",1)]),_:1},8,["href"])])):h("",!0)])])])):h("",!0)]),e("div",Lt,[e("div",Tt,[e("div",Et,[e("div",Ft,[e("h3",Ht,[l(b(K),{class:"h-5 w-5 text-green-500"}),t[26]||(t[26]=a(" Recent Activities "))]),e("span",It,r(B.value.length)+" items ",1)])]),e("div",Ut,[e("div",Wt,[(o(!0),n(k,null,A(B.value,s=>{var i,c,x,g,u,_,v,f,p,w,q,j,D,Z;return o(),n("div",{key:s.id,class:"rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm p-4 bg-white dark:bg-gray-800"},[e("div",Yt,[e("div",null,[e("div",Zt,[t[27]||(t[27]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"}," Ref ",-1)),e("span",Gt,r(((i=s.delivery_request)==null?void 0:i.reference_number)||`DR-${String(s.delivery_request_id).padStart(6,"0")}`),1)]),e("div",Jt,[a(" ID: DO-"+r(String(s.delivery_request_id).padStart(6,"0"))+" ",1),s.created_at?(o(),n("span",Kt," | Created: "+r(C(s.created_at)),1)):h("",!0)])]),e("div",Qt,[e("span",{class:S([F(s),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(E(s)),3),s.verified_by||s.rejected_by?(o(),n("div",Xt,r((c=s.verified_by||s.rejected_by)==null?void 0:c.name),1)):h("",!0),(g=(x=s.verified_by||s.rejected_by)==null?void 0:x.employee_profile)!=null&&g.employee_id?(o(),n("div",es," ID: "+r((_=(u=s.verified_by||s.rejected_by)==null?void 0:u.employee_profile)==null?void 0:_.employee_id),1)):h("",!0)])]),e("div",ts,[e("div",ss,r(((f=(v=s.delivery_request)==null?void 0:v.sender)==null?void 0:f.name)||((w=(p=s.delivery_request)==null?void 0:p.sender)==null?void 0:w.company_name)||((j=(q=s.delivery_request)==null?void 0:q.receiver)==null?void 0:j.name)||((Z=(D=s.delivery_request)==null?void 0:D.receiver)==null?void 0:Z.company_name)||"N/A"),1),e("div",rs,[e("div",ds,[t[28]||(t[28]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),a(" "+r(H(s)||"No phone"),1)]),e("div",os,[t[29]||(t[29]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a(" "+r(I(s)||"No email"),1)])])]),e("div",ns,[e("div",null,[t[30]||(t[30]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Amount",-1)),e("div",as," ₱"+r(Number(s.amount).toFixed(2)),1)]),e("div",null,[t[31]||(t[31]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Collected At",-1)),e("div",ls,r(s.collected_at?C(s.collected_at):"Not collected"),1)])]),e("div",is,[l(z,{onClick:Ps=>Y(s.id),class:"!px-3 !py-2 !text-xs flex-1 flex items-center justify-center gap-1"},{default:y(()=>t[32]||(t[32]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zm6 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),a(" View ")])),_:2},1032,["onClick"])])])}),128))]),e("div",cs,[(o(!0),n(k,null,A(B.value,s=>{var i,c,x,g,u,_,v,f,p;return o(),n("div",{key:s.id,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("div",xs,[e("div",gs,[e("div",us,[e("div",_s,[t[33]||(t[33]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"}," Ref ",-1)),e("span",ms,r(((i=s.delivery_request)==null?void 0:i.reference_number)||`DR-${String(s.delivery_request_id).padStart(6,"0")}`),1)]),e("span",{class:S([F(s),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(E(s)),3)]),e("div",ys,[e("div",null,[e("div",vs,r(((x=(c=s.delivery_request)==null?void 0:c.sender)==null?void 0:x.name)||((u=(g=s.delivery_request)==null?void 0:g.sender)==null?void 0:u.company_name)||((v=(_=s.delivery_request)==null?void 0:_.receiver)==null?void 0:v.name)||((p=(f=s.delivery_request)==null?void 0:f.receiver)==null?void 0:p.company_name)||"N/A"),1),e("div",fs,[e("div",ps,[t[34]||(t[34]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),a(" "+r(H(s)||"No phone"),1)]),e("div",bs,[t[35]||(t[35]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),a(" "+r(I(s)||"No email"),1)])])]),e("div",hs,[e("div",ks," ₱"+r(Number(s.amount).toFixed(2)),1)])]),e("div",ws,[e("div",Cs," Collected: "+r(s.collected_at?C(s.collected_at):"Not collected"),1),l(z,{onClick:w=>Y(s.id),class:"!px-3 !py-1.5 !text-xs"},{default:y(()=>t[36]||(t[36]=[a(" View Details ")])),_:2},1032,["onClick"])])])])])}),128))]),B.value.length===0?(o(),n("div",qs,[l(b(K),{class:"mx-auto h-8 w-8 text-gray-400"}),t[37]||(t[37]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"No recent activities",-1))])):h("",!0),e("div",js,[l(V,{href:d.route("collector.payments.index"),class:"w-full justify-center"},{default:y(()=>t[38]||(t[38]=[a(" View All Payment History ")])),_:1},8,["href"])])])]),e("div",Ds,[e("div",Vs,[e("h3",Ns,[l(b(oe),{class:"h-5 w-5 text-indigo-500"}),t[39]||(t[39]=a(" Performance "))])]),e("div",As,[e("div",Ss,[e("div",Ms," ₱"+r(m.metrics.total_collected.toLocaleString()),1),t[40]||(t[40]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Collected This Month",-1)),t[41]||(t[41]=e("div",{class:"mt-3 text-xs text-gray-400 dark:text-gray-500"}," Verified payments only ",-1))])])])])])])]),_:1}))}};export{Us as default};
