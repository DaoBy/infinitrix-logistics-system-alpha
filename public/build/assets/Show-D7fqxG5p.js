import{E as _e}from"./EmployeeLayout-CPjjj0VT.js";import{_ as ke}from"./PrimaryButton-v78qpko7.js";import{_ as S}from"./SecondaryButton-CtLoK5i5.js";import{D as re}from"./DangerButton-CVW78upS.js";import{_ as we}from"./InputLabel-DWThjhuV.js";import{_ as Ce}from"./TextArea-CSZ1G_g3.js";import{M as R}from"./Modal-CoAStuC2.js";import{_ as je}from"./DataTable-B34jkpRg.js";import{g,i as Ne,M as Ae,d as D,o as a,w as i,b as e,a as y,c as n,e as c,t as o,n as V,u as Se,W as h,f as v,F as _,r as N}from"./app-7ARdHXBa.js";import{_ as Re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DmzxVQVl.js";const De={class:"flex justify-between items-center w-full px-6 md:px-8"},Pe={class:"flex gap-2"},Me={class:"flex-1 overflow-auto"},Be={class:"zoom-content"},Ie={class:"px-6 py-4"},$e={key:0,class:"mb-4"},qe={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},Ue={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},Ve={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},Le={class:"justify-center flex items-center"},Te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-full max-w-[75vw]"},Fe={class:"p-4 bg-white border-b border-gray-200"},ze={class:"bg-white shadow-sm rounded-lg border border-gray-200 mb-6"},Ee={class:"p-6"},We={class:"flex flex-col"},He={class:"flex items-center gap-2"},Ge={class:"font-bold text-green-700 tracking-wide"},Oe={class:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500"},Je={key:0},Ke={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},Qe={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Xe={class:"p-4 space-y-4"},Ye={class:"grid grid-cols-1 gap-3"},Ze={class:"mt-1 text-sm text-gray-900"},et={class:"mt-1 text-sm text-gray-900"},tt={class:"mt-1 text-sm text-gray-900"},st={class:"mt-1 text-sm text-gray-900"},rt={class:"bg-white shadow-sm rounded-lg border border-gray-200"},ot={class:"p-4 space-y-4"},lt={class:"grid grid-cols-1 gap-3"},at={class:"mt-1 text-sm text-gray-900"},nt={class:"mt-1 text-sm text-gray-900"},it={class:"mt-1 text-sm text-gray-900"},dt={class:"mt-1 text-sm text-gray-900"},ct={class:"bg-white shadow-sm rounded-lg border border-gray-200"},ut={class:"p-4 space-y-4"},mt={class:"grid grid-cols-1 gap-3"},gt={class:"mt-1"},yt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800"},ft={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-700"},vt={class:"mt-1 text-sm text-gray-900"},xt={class:"mt-1 text-sm text-gray-900"},bt={class:"mt-1 text-sm text-gray-900"},pt={class:"mt-1 text-sm text-gray-900"},ht={key:0},_t={class:"mt-1 text-sm text-gray-900"},kt={key:1},wt={class:"mt-1 text-sm text-gray-900"},Ct={key:2},jt={class:"mt-1 text-sm text-gray-900"},Nt={key:3},At={class:"mt-1 text-sm text-gray-900"},St={key:4},Rt={class:"mt-1 text-sm text-gray-900 whitespace-pre-wrap"},Dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Pt={class:"lg:col-span-2 bg-white shadow-sm rounded-lg border border-gray-200"},Mt={class:"p-4"},Bt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},It={class:"mt-1 text-lg font-semibold text-gray-900"},$t={class:"mt-1 text-sm text-gray-900 capitalize"},qt={class:"mt-1"},Ut={class:"mt-1"},Vt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800"},Lt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-200 text-gray-700"},Tt={key:0,class:"md:col-span-2"},Ft={class:"mt-1 text-sm text-gray-900"},zt={class:"bg-white shadow-sm rounded-lg border border-gray-200"},Et={class:"p-4 border-b border-gray-200"},Wt={class:"text-lg font-medium text-gray-900"},Ht={class:"p-4"},Gt={class:"font-mono text-xs text-gray-600"},Ot={class:"flex flex-col gap-1 max-w-[80px]"},Jt={class:"flex gap-1"},Kt=["src","alt","onClick"],Qt={key:0,class:"flex gap-1"},Xt=["src","alt","onClick"],Yt={key:1,class:"flex gap-1"},Zt=["src","alt","onClick"],es=["src","onClick"],ts={key:2,class:"text-gray-400 text-xs"},ss={key:1,class:"text-center py-8 text-gray-500"},rs={class:"p-6"},os={class:"mt-4 space-y-4"},ls={class:"flex justify-between"},as={class:"font-medium"},ns={class:"text-sm text-gray-500"},is={class:"text-sm text-gray-600 mt-1"},ds={class:"text-xs text-gray-500 mt-1"},cs={class:"mt-6 flex justify-end"},us={class:"p-6"},ms={class:"mt-4"},gs={class:"mt-6 flex justify-end space-x-4"},ys={key:0},fs={key:1},vs={class:"p-4"},xs={class:"flex justify-center items-center bg-gray-50 rounded-lg p-3"},bs=["src"],ps={class:"p-4"},hs={class:"flex justify-between items-center mb-4"},_s={class:"text-lg font-medium text-gray-900"},ks={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ws=["onClick"],Cs={class:"bg-gray-50 rounded-lg p-3 flex justify-center items-center h-40"},js=["src","alt"],Ns={class:"text-center text-xs text-gray-600 mt-1"},As={__name:"Show",props:{delivery:{type:Object,required:!0,default:()=>({id:null,order_number:null,status:null,created_at:null,approved_at:null,approved_by:null,rejected_at:null,rejected_by:null,rejection_reason:null,total_price:0,payment_method:null,payment_status:null,payment_terms:null,payment_due_date:null,pick_up_region:null,drop_off_region:null,sender:null,receiver:null,packages:[]})},packages:{type:Array,default:()=>[]},status:String,success:String,error:String},setup(r){const A=r,P=g(!1),b=g(""),p=g(!1),M=g(!1),B=g(""),L=g(!1),I=g([]),T=g(!1),F=g([]),oe=[{field:"item_code",header:"Item Code",sortable:!0},{field:"item_name",header:"Item Name",sortable:!0},{field:"category",header:"Category",sortable:!0},{field:"dimensions",header:"Dimensions",sortable:!1},{field:"volume",header:"Volume",sortable:!0},{field:"weight",header:"Weight",sortable:!0},{field:"value",header:"Value",sortable:!0},{field:"status",header:"Status",sortable:!0},{field:"photo",header:"Photos",sortable:!1,width:"150px"},{field:"status_history",header:"Actions",sortable:!1,width:"120px"}],k=g("item_code"),$=g("asc"),le=Ne(()=>A.delivery.packages?[...A.delivery.packages].sort((s,t)=>{if(!k.value)return 0;const u=$.value==="asc"?1:-1,x=z(s,k.value),j=z(t,k.value);return x<j?-1*u:x>j?1*u:0}):[]);function z(s,t){return t.split(".").reduce((u,x)=>u==null?void 0:u[x],s)}function E(s){return(Number(s)||0).toFixed(2)}function q(s){return(Number(s)||0).toFixed(1)}function ae(s){return(Number(s)||0).toFixed(3)}function ne(s){return(Number(s)||0).toFixed(1)}function w(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function ie(s){return s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function W(s){return s?[s.building_number,s.street,s.barangay,s.city,s.province,s.zip_code].filter(Boolean).join(", ")||"Address not specified":"N/A"}function de(s){return s?{piece:"Piece",carton:"Carton",sack:"Sack",bundle:"Bundle",roll:"Roll","B/R":"B/R","C/S":"C/S"}[s]||s.charAt(0).toUpperCase()+s.slice(1):"N/A"}function ce(s){return s?{preparing:"Preparing",ready_for_pickup:"Ready for Pickup",loaded:"Loaded",in_transit:"In Transit",delivered:"Delivered",completed:"Completed",returned:"Returned",rejected:"Rejected",damaged_in_transit:"Damaged in Transit",lost_in_transit:"Lost in Transit"}[s]||s.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase()):"N/A"}function ue(s){return s?{net_7:"Net 7 Days",net_15:"Net 15 Days",net_30:"Net 30 Days",cnd:"Cash on Delivery"}[s]||s.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase()):"N/A"}function me(s){if(!s)return"bg-gray-100 text-gray-800";switch(String(s).toLowerCase()){case"piece":return"bg-blue-100 text-blue-800";case"carton":return"bg-green-100 text-green-800";case"sack":return"bg-amber-100 text-amber-800";case"bundle":return"bg-purple-100 text-purple-800";case"roll":return"bg-red-100 text-red-800";case"b/r":return"bg-indigo-100 text-indigo-800";case"c/s":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}}function ge(s){if(!s)return"bg-gray-100 text-gray-800";switch(s){case"delivered":case"completed":return"bg-green-100 text-green-800";case"approved":case"ready_for_pickup":return"bg-blue-100 text-blue-800";case"pending":case"preparing":return"bg-yellow-100 text-yellow-800";case"rejected":case"cancelled":case"damaged_in_transit":case"lost_in_transit":return"bg-red-100 text-red-800";case"in_transit":case"loaded":return"bg-purple-100 text-purple-800";case"returned":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}}function ye(s){if(!s||s==="N/A")return"bg-gray-200 text-gray-700";const t=String(s).toLowerCase().trim();return t==="completed"||t==="complete"||t==="paid"?"bg-green-100 text-green-800":t==="pending"||t==="pending_payment"?"bg-yellow-100 text-yellow-800":t==="unpaid"||t==="uncollectible"?"bg-red-100 text-red-800":"bg-gray-200 text-gray-700"}function fe(s){if(!s||s===""||s==="N/A")return"N/A";const t=String(s).toLowerCase().trim();return t==="paid"?"Paid":t==="complete"?"Complete":t==="completed"?"Completed":t==="pending"?"Pending":t==="pending_payment"?"Pending Payment":t==="unpaid"?"Unpaid":t==="uncollectible"?"Uncollectible":s.charAt(0).toUpperCase()+s.slice(1)}function ve(){P.value=!0}function U(){P.value=!1,b.value=""}function C(s){B.value=s,M.value=!0}function H(){M.value=!1,B.value=""}function G(){L.value=!1,I.value=[]}function O(){T.value=!1,F.value=[]}function xe({field:s,direction:t}){k.value=s,$.value=t}async function be(){if(confirm("Are you sure you want to approve this delivery request?")){p.value=!0;try{await h.post(route("deliveries.approve",A.delivery.id),{},{preserveScroll:!0,onSuccess:()=>{h.reload()}})}catch(s){console.error("Failed to approve request:",s)}finally{p.value=!1}}}function f(s){return s?s.startsWith("http")?s:s.startsWith("package-photos/")?`/storage/${s}`:`/storage/${s}`:""}async function pe(){if(b.value.trim()){p.value=!0;try{await h.post(route("deliveries.reject",A.delivery.id),{rejection_reason:b.value},{preserveScroll:!0,onSuccess:()=>{U(),h.reload()}})}catch(s){console.error("Failed to reject request:",s)}finally{p.value=!1}}}Ae(),g(document.referrer);function he(){window.history.length>1?window.history.back():h.visit("/")}return(s,t)=>(a(),D(_e,null,{header:i(()=>[e("div",De,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Delivery Request Details"),e("p",{class:"mt-1 text-sm text-gray-500"}," View delivery request information ")],-1)),e("div",Pe,[y(S,{onClick:he},{default:i(()=>t[1]||(t[1]=[v(" Back ")])),_:1}),r.delivery.status==="pending"?(a(),D(re,{key:0,onClick:ve},{default:i(()=>t[2]||(t[2]=[v(" Reject Request ")])),_:1})):c("",!0),r.delivery.status==="pending"?(a(),D(ke,{key:1,onClick:be},{default:i(()=>t[3]||(t[3]=[v(" Approve Request ")])),_:1})):c("",!0)])])]),default:i(()=>{var u,x,j,J,K,Q,X,Y,Z,ee,te;return[e("div",Me,[e("div",Be,[e("div",Ie,[r.status||r.success||r.error?(a(),n("div",$e,[r.status?(a(),n("div",qe,o(r.status),1)):c("",!0),r.success?(a(),n("div",Ue,o(r.success),1)):c("",!0),r.error?(a(),n("div",Ve,o(r.error),1)):c("",!0)])):c("",!0),e("div",Le,[e("div",Te,[e("div",Fe,[e("div",ze,[e("div",Ee,[e("div",We,[e("div",He,[t[5]||(t[5]=e("span",{class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800"}," Delivery ID: ",-1)),e("span",Ge," DR-"+o(String(r.delivery.id).padStart(6,"0")),1)]),e("div",Oe,[e("span",null," Reference # "+o(r.delivery.status==="pending"?"N/A":r.delivery.reference_number||r.delivery.order_number||"DR-"+String(r.delivery.id).padStart(6,"0")),1),r.delivery.created_at?(a(),n("span",Je," | Created: "+o(w(r.delivery.created_at)),1)):c("",!0)])])])]),e("div",Ke,[e("div",Qe,[t[10]||(t[10]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Sender Information")],-1)),e("div",Xe,[e("div",Ye,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",Ze,o(((u=r.delivery.sender)==null?void 0:u.name)||((x=r.delivery.sender)==null?void 0:x.company_name)||"N/A"),1)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contact",-1)),e("p",et,o(((j=r.delivery.sender)==null?void 0:j.phone)||((J=r.delivery.sender)==null?void 0:J.mobile)||"N/A"),1)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",tt,o(((K=r.delivery.sender)==null?void 0:K.email)||"N/A"),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),e("p",st,o(W(r.delivery.sender)),1)])])])]),e("div",rt,[t[15]||(t[15]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Receiver Information")],-1)),e("div",ot,[e("div",lt,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("p",at,o(((Q=r.delivery.receiver)==null?void 0:Q.name)||((X=r.delivery.receiver)==null?void 0:X.company_name)||"N/A"),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Contact",-1)),e("p",nt,o(((Y=r.delivery.receiver)==null?void 0:Y.phone)||((Z=r.delivery.receiver)==null?void 0:Z.mobile)||"N/A"),1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",it,o(((ee=r.delivery.receiver)==null?void 0:ee.email)||"N/A"),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),e("p",dt,o(W(r.delivery.receiver)),1)])])])]),e("div",ct,[t[26]||(t[26]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Delivery Information")],-1)),e("div",ut,[e("div",mt,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),e("div",gt,[r.delivery.reference_number?(a(),n("span",yt,o(r.delivery.reference_number),1)):(a(),n("span",ft," N/A "))])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700"},"Order Number",-1)),e("p",vt,o(r.delivery.order_number||"N/A"),1)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700"},"Request Date",-1)),e("p",xt,o(w(r.delivery.created_at)),1)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700"},"Pick Up Region",-1)),e("p",bt,o(r.delivery.pick_up_region||"N/A"),1)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"Drop Off Region",-1)),e("p",pt,o(r.delivery.drop_off_region||"N/A"),1)]),r.delivery.approved_at?(a(),n("div",ht,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Approved Date",-1)),e("p",_t,o(w(r.delivery.approved_at)),1)])):c("",!0),r.delivery.approved_by?(a(),n("div",kt,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Approved By",-1)),e("p",wt,o(r.delivery.approved_by),1)])):c("",!0),r.delivery.rejected_at?(a(),n("div",Ct,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejected Date",-1)),e("p",jt,o(w(r.delivery.rejected_at)),1)])):c("",!0),r.delivery.rejected_by?(a(),n("div",Nt,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejected By",-1)),e("p",At,o(r.delivery.rejected_by),1)])):c("",!0),r.delivery.rejection_reason?(a(),n("div",St,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rejection Reason",-1)),e("p",Rt,o(r.delivery.rejection_reason),1)])):c("",!0)])])])]),e("div",Dt,[e("div",Pt,[t[32]||(t[32]=e("div",{class:"p-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Payment Information")],-1)),e("div",Mt,[e("div",Bt,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Total Amount",-1)),e("p",It,"₱"+o(E(r.delivery.total_price)),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method",-1)),e("p",$t,o(r.delivery.payment_method||"N/A"),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Status",-1)),e("div",qt,[e("span",{class:V(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",ye(r.delivery.payment_status)])},o(fe(r.delivery.payment_status)),3)])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Terms",-1)),e("div",Ut,[r.delivery.payment_terms?(a(),n("span",Vt,o(ue(r.delivery.payment_terms)),1)):(a(),n("span",Lt," N/A "))])]),r.delivery.payment_due_date?(a(),n("div",Tt,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Payment Due Date",-1)),e("p",Ft,o(w(r.delivery.payment_due_date)),1)])):c("",!0)])])])]),e("div",zt,[e("div",Et,[e("h3",Wt,"Packages ("+o(((te=r.delivery.packages)==null?void 0:te.length)||0)+")",1)]),e("div",Ht,[r.delivery.packages&&r.delivery.packages.length?(a(),D(je,{key:0,columns:oe,data:le.value,"sort-field":k.value,"sort-direction":$.value,onSort:xe,class:"compact-table"},{item_code:i(({row:l})=>[e("span",Gt,o(l.item_code||"N/A"),1)]),category:i(({row:l})=>[e("span",{class:V(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",me(l.category)])},o(de(l.category)),3)]),dimensions:i(({row:l})=>[v(o(q(l.height))+" × "+o(q(l.width))+" × "+o(q(l.length))+" cm ",1)]),volume:i(({row:l})=>[v(o(ae(l.volume))+" m³ ",1)]),weight:i(({row:l})=>[v(o(ne(l.weight))+" kg ",1)]),value:i(({row:l})=>[v(" ₱"+o(E(l.value)),1)]),photo:i(({row:l})=>[e("div",Ot,[l.photo_path&&Array.isArray(l.photo_path)&&l.photo_path.length?(a(),n(_,{key:0},[e("div",Jt,[(a(!0),n(_,null,N(l.photo_path.slice(0,2),(d,m)=>(a(),n("img",{key:m,src:f(d),alt:`Package photo ${m+1}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:se=>C(f(d))},null,8,Kt))),128))]),l.photo_path.length>2?(a(),n("div",Qt,[(a(!0),n(_,null,N(l.photo_path.slice(2,4),(d,m)=>(a(),n("img",{key:m+2,src:f(d),alt:`Package photo ${m+3}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:se=>C(f(d))},null,8,Xt))),128))])):c("",!0),l.photo_path.length>4?(a(),n("div",Yt,[(a(!0),n(_,null,N(l.photo_path.slice(4,6),(d,m)=>(a(),n("img",{key:m+4,src:f(d),alt:`Package photo ${m+5}`,class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:se=>C(f(d))},null,8,Zt))),128))])):c("",!0)],64)):l.photo_path&&typeof l.photo_path=="string"?(a(),n("img",{key:1,src:f(l.photo_path),alt:"Package photo",class:"h-8 w-8 object-cover rounded cursor-pointer border border-gray-300",onClick:d=>C(f(l.photo_path))},null,8,es)):(a(),n("span",ts,"No photos"))])]),status:i(({row:l})=>[e("span",{class:V(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",ge(l.status)])},o(ce(l.status)),3)]),status_history:i(({row:l})=>[y(S,{class:"!px-2 !py-1 !text-xs !font-normal",onClick:()=>Se(h).visit(s.route("packages.track",l.id))},{default:i(()=>t[33]||(t[33]=[v(" Track Package ")])),_:2},1032,["onClick"])]),_:1},8,["data","sort-field","sort-direction"])):(a(),n("div",ss," No packages found for this delivery. "))])])])])])])])]),y(R,{show:T.value,onClose:O,"max-width":"lg"},{default:i(()=>[e("div",rs,[t[35]||(t[35]=e("h2",{class:"text-lg font-medium text-gray-900"},"Status History",-1)),e("div",os,[(a(!0),n(_,null,N(F.value,(l,d)=>{var m;return a(),n("div",{key:d,class:"border-l-4 border-blue-500 pl-4 py-2"},[e("div",ls,[e("span",as,o(l.status),1),e("span",ns,o(ie(l.created_at)),1)]),e("p",is,o(l.notes||"No notes provided"),1),e("p",ds,"Updated by: "+o(((m=l.user)==null?void 0:m.name)||"System"),1)])}),128))]),e("div",cs,[y(S,{onClick:O},{default:i(()=>t[34]||(t[34]=[v(" Close ")])),_:1})])])]),_:1},8,["show"]),y(R,{show:P.value,onClose:U},{default:i(()=>[e("div",us,[t[37]||(t[37]=e("h2",{class:"text-lg font-medium text-gray-900"},"Reject Delivery Request?",-1)),t[38]||(t[38]=e("p",{class:"mt-1 text-sm text-gray-600"}," Are you sure you want to reject this delivery request? ",-1)),e("div",ms,[y(we,{for:"rejection_reason",value:"Reason for Rejection (Required)"}),y(Ce,{id:"rejection_reason",class:"mt-1 block w-full",modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=l=>b.value=l),rows:3,placeholder:"Enter reason for rejection...",required:""},null,8,["modelValue"])]),e("div",gs,[y(S,{onClick:U},{default:i(()=>t[36]||(t[36]=[v(" Cancel ")])),_:1}),y(re,{onClick:pe,disabled:p.value||!b.value.trim()},{default:i(()=>[p.value?(a(),n("span",ys,"Rejecting...")):(a(),n("span",fs,"Reject"))]),_:1},8,["disabled"])])])]),_:1},8,["show"]),y(R,{show:M.value,onClose:H,"max-width":"2xl"},{default:i(()=>[e("div",vs,[e("div",{class:"flex justify-between items-center mb-4"},[t[40]||(t[40]=e("h3",{class:"text-lg font-medium text-gray-900"},"Package Photo",-1)),e("button",{onClick:H,class:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100"},t[39]||(t[39]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",xs,[e("img",{src:B.value,alt:"Package photo preview",class:"max-h-[65vh] max-w-[90%] rounded-lg shadow-md object-contain"},null,8,bs)])])]),_:1},8,["show"]),y(R,{show:L.value,onClose:G,"max-width":"5xl"},{default:i(()=>[e("div",ps,[e("div",hs,[e("h3",_s,"Package Photos ("+o(I.value.length)+")",1),e("button",{onClick:G,class:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100"},t[41]||(t[41]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ks,[(a(!0),n(_,null,N(I.value,(l,d)=>(a(),n("div",{key:d,class:"cursor-pointer group",onClick:m=>C(f(l))},[e("div",Cs,[e("img",{src:f(l),alt:`Package photo ${d+1}`,class:"max-h-32 max-w-full object-contain rounded-lg border border-gray-200 group-hover:border-blue-400 transition-colors"},null,8,js)]),e("p",Ns,"Photo "+o(d+1),1)],8,ws))),128))])])]),_:1},8,["show"])]}),_:1}))}},Ls=Re(As,[["__scopeId","data-v-d34ddf21"]]);export{Ls as default};
