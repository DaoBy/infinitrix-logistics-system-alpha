import{g as E,C as z,L as j,d as T,o as q,w as n,b as a,a as l,p as L,u as t,l as P,v as R,f as g,j as F,W as O}from"./app-B0R_bMJi.js";import{E as W}from"./EmployeeLayout-BQLa5PLV.js";import{_ as H}from"./PrimaryButton-z6gddSkS.js";import{_ as b}from"./SecondaryButton-BDpVYXxA.js";import{D as Z}from"./DangerButton-DlTel5kP.js";import{_ as i}from"./InputLabel-BebyH7Kw.js";import{T as d}from"./TextInput-m8vkJNre.js";import{S as N}from"./SelectInput-f4kpY-DU.js";import{_ as m}from"./InputError-BoXW6i3M.js";import{M as G}from"./Modal-Oa0ozw3w.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BchASNUp.js";/* empty css                                                                  *//* empty css                                                                    */const J={class:"flex justify-between items-center px-6"},K={class:"px-6"},Q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg max-w-7xl mx-auto"},X={class:"p-6 bg-white border-b border-gray-200"},Y={class:"mb-8"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},le={class:"mb-8"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},te={class:"mb-8"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},se={class:"mb-8"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={class:"mb-8"},me={class:"mt-6 flex justify-end space-x-4"},de={class:"p-6"},ne={class:"mt-6 flex justify-end space-x-4"},Ce={__name:"Edit",props:{employee:Object,status:String},setup(I){var f,v,c,x,V,_,w,k,U,C,h,B,D;const r=I,p=E(!1),y=E([]),M=[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"driver",label:"Driver"},{value:"collector",label:"Collector"}],o=z({name:r.employee.name,email:r.employee.email,role:r.employee.role,employee_id:(f=r.employee.employee_profile)==null?void 0:f.employee_id,phone:((v=r.employee.employee_profile)==null?void 0:v.phone)||"",mobile:((c=r.employee.employee_profile)==null?void 0:c.mobile)||"",building_number:((x=r.employee.employee_profile)==null?void 0:x.building_number)||"",street:((V=r.employee.employee_profile)==null?void 0:V.street)||"",barangay:((_=r.employee.employee_profile)==null?void 0:_.barangay)||"",city:((w=r.employee.employee_profile)==null?void 0:w.city)||"",province:((k=r.employee.employee_profile)==null?void 0:k.province)||"",zip_code:((U=r.employee.employee_profile)==null?void 0:U.zip_code)||"",hire_date:((C=r.employee.employee_profile)==null?void 0:C.hire_date)||"",termination_date:((h=r.employee.employee_profile)==null?void 0:h.termination_date)||"",region_id:((B=r.employee.employee_profile)==null?void 0:B.region_id)||"",notes:((D=r.employee.employee_profile)==null?void 0:D.notes)||""}),S=async()=>{try{const u=await F.get("/api/delivery/regions"),e=Array.isArray(u.data)?u.data:u.data.data||u.data.regions||[];y.value=e.map(s=>({value:s.id,label:s.name}))}catch(u){console.error("Failed to fetch regions:",u),y.value=[]}},$=()=>{o.put(route("admin.employees.update",r.employee.id),{preserveScroll:!0,onSuccess:()=>o.reset()})},A=()=>{p.value=!1,O.visit(route("admin.employees.index"))};return j(()=>{S()}),(u,e)=>(q(),T(W,null,{header:n(()=>[a("div",J,[e[21]||(e[21]=a("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Edit Employee",-1)),l(b,{onClick:e[0]||(e[0]=s=>p.value=!0)},{default:n(()=>e[20]||(e[20]=[g(" Back to List ")])),_:1})])]),default:n(()=>[a("div",K,[a("div",Q,[a("div",X,[a("form",{onSubmit:L($,["prevent"])},[a("div",Y,[e[22]||(e[22]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Basic Information ",-1)),a("div",ee,[a("div",null,[l(i,{for:"employee_id",value:"Employee ID"}),l(d,{id:"employee_id",type:"text",class:"mt-1 block w-full bg-gray-100",modelValue:t(o).employee_id,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).employee_id=s),readonly:""},null,8,["modelValue"])]),a("div",null,[l(i,{for:"name",value:"Full Name *"}),l(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(o).name,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).name=s),required:"",autofocus:"",placeholder:"Employee Name"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.name},null,8,["message"])]),a("div",null,[l(i,{for:"email",value:"Email *"}),l(d,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(o).email,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).email=s),required:"",autofocus:"",placeholder:"employee@example.com"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.email},null,8,["message"])]),a("div",null,[l(i,{for:"role",value:"Role *"}),l(N,{id:"role",modelValue:t(o).role,"onUpdate:modelValue":e[4]||(e[4]=s=>t(o).role=s),options:M,"option-value":"value","option-label":"label",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.role},null,8,["message"])])])]),a("div",le,[e[23]||(e[23]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Contact Information ",-1)),a("div",oe,[a("div",null,[l(i,{for:"phone",value:"Phone (Landline)"}),l(d,{id:"phone",type:"tel",class:"mt-1 block w-full",modelValue:t(o).phone,"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).phone=s),placeholder:" (02) 1234-5678",maxlength:"10"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.phone},null,8,["message"])]),a("div",null,[l(i,{for:"mobile",value:"Mobile *"}),l(d,{id:"mobile",type:"tel",class:"mt-1 block w-full",modelValue:t(o).mobile,"onUpdate:modelValue":e[6]||(e[6]=s=>t(o).mobile=s),required:"",placeholder:" 0917-123-4567",maxlength:"11"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.mobile},null,8,["message"])])])]),a("div",te,[e[24]||(e[24]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Address Information ",-1)),a("div",ae,[a("div",null,[l(i,{for:"building_number",value:"Building Number"}),l(d,{id:"building_number",type:"text",class:"mt-1 block w-full",modelValue:t(o).building_number,"onUpdate:modelValue":e[7]||(e[7]=s=>t(o).building_number=s),placeholder:" Building/Unit No.",maxlength:"10"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.building_number},null,8,["message"])]),a("div",null,[l(i,{for:"street",value:"Street"}),l(d,{id:"street",type:"text",class:"mt-1 block w-full",modelValue:t(o).street,"onUpdate:modelValue":e[8]||(e[8]=s=>t(o).street=s),placeholder:" Street Name",maxlength:"50"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.street},null,8,["message"])]),a("div",null,[l(i,{for:"barangay",value:"Barangay"}),l(d,{id:"barangay",type:"text",class:"mt-1 block w-full",modelValue:t(o).barangay,"onUpdate:modelValue":e[9]||(e[9]=s=>t(o).barangay=s),placeholder:" Barangay/District",maxlength:"50"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.barangay},null,8,["message"])]),a("div",null,[l(i,{for:"city",value:"City/Municipality"}),l(d,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:t(o).city,"onUpdate:modelValue":e[10]||(e[10]=s=>t(o).city=s),placeholder:" City or Municipality",maxlength:"50"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.city},null,8,["message"])]),a("div",null,[l(i,{for:"province",value:"Province"}),l(d,{id:"province",type:"text",class:"mt-1 block w-full",modelValue:t(o).province,"onUpdate:modelValue":e[11]||(e[11]=s=>t(o).province=s),placeholder:" Province Name",maxlength:"50"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.province},null,8,["message"])]),a("div",null,[l(i,{for:"zip_code",value:"ZIP Code"}),l(d,{id:"zip_code",type:"text",class:"mt-1 block w-full",modelValue:t(o).zip_code,"onUpdate:modelValue":e[12]||(e[12]=s=>t(o).zip_code=s),maxlength:"4",placeholder:" e.g., 1234",pattern:"^\\d{4}$"},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.zip_code},null,8,["message"])])])]),a("div",se,[e[25]||(e[25]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Employment Information ",-1)),a("div",re,[a("div",null,[l(i,{for:"hire_date",value:"Hire Date"}),l(d,{id:"hire_date",type:"date",class:"mt-1 block w-full",modelValue:t(o).hire_date,"onUpdate:modelValue":e[13]||(e[13]=s=>t(o).hire_date=s)},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.hire_date},null,8,["message"])]),a("div",null,[l(i,{for:"region_id",value:"Assigned Region/Branch"}),l(N,{id:"region_id",modelValue:t(o).region_id,"onUpdate:modelValue":e[14]||(e[14]=s=>t(o).region_id=s),options:y.value,"option-value":"value","option-label":"label",class:"mt-1 block w-full"},null,8,["modelValue","options"]),l(m,{class:"mt-2",message:t(o).errors.region_id},null,8,["message"])]),a("div",null,[l(i,{for:"termination_date",value:"Termination Date"}),l(d,{id:"termination_date",type:"date",class:"mt-1 block w-full",modelValue:t(o).termination_date,"onUpdate:modelValue":e[15]||(e[15]=s=>t(o).termination_date=s)},null,8,["modelValue"]),l(m,{class:"mt-2",message:t(o).errors.termination_date},null,8,["message"])])])]),a("div",ie,[e[26]||(e[26]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4 pb-2 border-b border-gray-200"}," Additional Information ",-1)),a("div",null,[l(i,{for:"notes",value:"Notes"}),P(a("textarea",{id:"notes",rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500","onUpdate:modelValue":e[16]||(e[16]=s=>t(o).notes=s)},null,512),[[R,t(o).notes]]),l(m,{class:"mt-2",message:t(o).errors.notes},null,8,["message"])])]),a("div",me,[l(b,{type:"button",onClick:e[17]||(e[17]=s=>p.value=!0)},{default:n(()=>e[27]||(e[27]=[g(" Cancel ")])),_:1}),l(H,{type:"submit",disabled:t(o).processing},{default:n(()=>e[28]||(e[28]=[g(" Update Employee ")])),_:1},8,["disabled"])])],32)])])]),l(G,{show:p.value,onClose:e[19]||(e[19]=s=>p.value=!1)},{default:n(()=>[a("div",de,[e[31]||(e[31]=a("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to cancel? ",-1)),e[32]||(e[32]=a("p",{class:"mt-1 text-sm text-gray-600"}," All unsaved changes will be lost. ",-1)),a("div",ne,[l(b,{onClick:e[18]||(e[18]=s=>p.value=!1)},{default:n(()=>e[29]||(e[29]=[g(" Continue Editing ")])),_:1}),l(Z,{onClick:A},{default:n(()=>e[30]||(e[30]=[g(" Discard Changes ")])),_:1})])])]),_:1},8,["show"])]),_:1}))}};export{Ce as default};
