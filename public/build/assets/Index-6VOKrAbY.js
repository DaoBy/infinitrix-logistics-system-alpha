import{E as z}from"./EmployeeLayout-BQLa5PLV.js";import{_ as m}from"./PrimaryButton-z6gddSkS.js";import{_ as N}from"./SecondaryButton-BDpVYXxA.js";import{_ as S}from"./SearchInput-BHbkz-wy.js";import{g as j,h as B,W as c,i as H,d as P,o as d,w as x,b as e,c as n,e as w,F as v,r as b,t as r,a as g,f as p,n as T}from"./app-B0R_bMJi.js";import{l as W}from"./lodash-B2rxDOCG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BchASNUp.js";import"./DangerButton-DlTel5kP.js";const D={class:"flex justify-between items-center px-6"},E={class:"flex space-x-2"},O={class:"px-6 py-4 space-y-6"},q={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700"},F={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},G={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},R={class:"px-6 py-4 whitespace-nowrap"},U={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},I={class:"text-sm text-gray-500 dark:text-gray-400"},J={class:"px-6 py-4 whitespace-nowrap"},K={key:0,class:"text-sm text-gray-900 dark:text-gray-100"},Q={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Z={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ee={key:0},te={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700"},se={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},re={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ie={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},le={class:"px-6 py-4 whitespace-nowrap"},ce={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},xe={class:"flex justify-end space-x-2"},ge={key:0},pe={class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-center border-t border-gray-200 dark:border-gray-700 sm:px-6"},ye={class:"flex items-center space-x-2"},me=["disabled"],ue=["disabled"],Ae={__name:"Index",props:{manifests:{type:Object,required:!0,default:()=>({data:[],links:[],current_page:1,last_page:1})},trucksWithAssignments:{type:Array,required:!0,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(i){const o=i,y=j(o.filters.search);B(y,W.debounce(a=>{c.get(route("manifests.index"),{search:a},{preserveState:!0,replace:!0})},300));const _=a=>{const t="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(a){case"draft":return`${t} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"finalized":return`${t} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;default:return`${t} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},C=()=>{c.get(route("manifests.index"),{},{preserveState:!0,replace:!0,only:["manifests","trucksWithAssignments"]})},M=a=>{c.visit(route("manifests.show",a.id))},A=a=>{window.open(route("manifests.print",a.id),"_blank")},V=a=>{const t=o.manifests.data.find(s=>{var l;return((l=s.truck)==null?void 0:l.id)===a&&s.status==="draft"});t?c.visit(route("manifests.show",t.id),{preserveScroll:!0,preserveState:!0,only:["manifest","truck","driver","packages"],onSuccess:()=>{}}):c.visit(route("manifests.create",{truck:a}))};function u(a){a>=1&&a<=o.manifests.last_page&&c.get(route("manifests.index"),{...o.filters,page:a},{preserveState:!0,replace:!0})}const f=H(()=>o.manifests.data?o.manifests.data.slice(0,5):[]);return(a,t)=>(d(),P(z,null,{header:x(()=>[e("div",D,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Manifests Management ",-1)),e("div",E,[g(S,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),placeholder:"Search manifests..."},null,8,["modelValue"]),g(m,{onClick:C,class:"inline-flex items-center"},{default:x(()=>t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1),p(" Refresh ")])),_:1})])])]),default:x(()=>[e("div",O,[e("div",q,[t[8]||(t[8]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Trucks with Assignments "),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Trucks that have delivery orders ready for manifest creation ")],-1)),e("div",F,[e("table",L,[t[7]||(t[7]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Truck "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Driver "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Delivery Orders "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Packages "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",G,[(d(!0),n(v,null,b(i.trucksWithAssignments,s=>(d(),n("tr",{key:s.id},[e("td",R,[e("div",U,r(s.make)+" "+r(s.model)+" ("+r(s.license_plate)+") ",1),e("div",I,r(s.status),1)]),e("td",J,[s.driver?(d(),n("div",K,r(s.driver.name),1)):(d(),n("div",Q," Not assigned "))]),e("td",X,r(s.delivery_orders_count),1),e("td",Y,r(s.packages_count),1),e("td",Z,[g(m,{onClick:l=>V(s.id),class:"inline-flex items-center"},{default:x(()=>t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),p(" Create Manifest ")])),_:2},1032,["onClick"])])]))),128)),i.trucksWithAssignments.length===0?(d(),n("tr",ee,t[6]||(t[6]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," No trucks with assignments found ",-1)]))):w("",!0)])])])]),e("div",te,[t[13]||(t[13]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Generated Manifests "),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," All manifests that have been generated ")])],-1)),e("div",se,[e("table",ae,[t[12]||(t[12]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Manifest # "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Truck "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Driver "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Packages "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",re,[(d(!0),n(v,null,b(f.value,s=>{var l,h,k;return d(),n("tr",{key:s.id},[e("td",ie,r(s.manifest_number),1),e("td",de,r(((l=s.truck)==null?void 0:l.license_plate)||"N/A"),1),e("td",ne,r(((h=s.driver)==null?void 0:h.name)||"N/A"),1),e("td",oe,r(((k=s.package_ids)==null?void 0:k.length)||0),1),e("td",le,[e("span",{class:T(_(s.status))},r(s.status),3)]),e("td",ce,[e("div",xe,[g(N,{onClick:$=>M(s),class:"inline-flex items-center"},{default:x(()=>t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1),p(" View ")])),_:2},1032,["onClick"]),g(m,{onClick:$=>A(s),class:"inline-flex items-center"},{default:x(()=>t[10]||(t[10]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),p(" Print ")])),_:2},1032,["onClick"])])])])}),128)),f.value.length===0?(d(),n("tr",ge,t[11]||(t[11]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400"}," No manifests found ",-1)]))):w("",!0)])])]),e("div",pe,[e("div",ye,[e("button",{onClick:t[1]||(t[1]=s=>u(i.manifests.current_page-1)),disabled:i.manifests.current_page<=1,class:"px-3 py-1 rounded border text-sm"},"Previous",8,me),e("span",null,"Page "+r(i.manifests.current_page)+" of "+r(i.manifests.last_page),1),e("button",{onClick:t[2]||(t[2]=s=>u(i.manifests.current_page+1)),disabled:i.manifests.current_page>=i.manifests.last_page,class:"px-3 py-1 rounded border text-sm"},"Next",8,ue)])])])])]),_:1}))}};export{Ae as default};
