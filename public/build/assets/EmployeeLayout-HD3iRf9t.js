import{c as n,o,b as e,M as K,g as w,j as U,O as Q,i as Y,e as u,a,n as k,t as l,u as b,w as r,V as g,f as m,F as j,r as B,d as E,W as H,Q as J,k as O,R as X,K as W,S as Z}from"./app-Xu1-QTPS.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as C}from"./NavLink-Dma88ZBl.js";import{D as q}from"./DangerButton-B9GvHwCg.js";const ee={},te={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 object-contain"};function se(I,M){return o(),n("svg",te,M[0]||(M[0]=[e("circle",{cx:"24",cy:"24",r:"20",fill:"#22c55e"},null,-1),e("circle",{cx:"24",cy:"24",r:"12",fill:"#fff",opacity:"0.8"},null,-1),e("circle",{cx:"24",cy:"24",r:"6",fill:"#22c55e",opacity:"0.9"},null,-1)]))}const N=z(ee,[["render",se]]),oe={key:0,class:"flex items-center space-x-2"},ae={class:"text-lg font-bold"},re={key:0,class:"p-4 border-b border-gray-700"},ne={key:0,class:"text-base font-semibold"},ie={key:1,class:"text-sm text-gray-100"},le={key:0,class:"ml-4"},de={class:"flex-1 p-4 space-y-4 flex flex-col overflow-y-auto"},ce={key:0,class:"ml-4"},ue={class:"p-4 border-t border-gray-700"},me=["title"],fe={key:0,class:"ml-4"},ge={class:"p-4 border-t border-gray-700"},he={key:0,class:"ml-2"},pe={key:1},ve={class:"p-4 border-b border-gray-700 flex items-center justify-between"},be={class:"flex items-center space-x-2"},ye={class:"flex items-center space-x-2"},xe={class:"text-lg font-bold"},ke={key:0,class:"p-4 border-b border-gray-700"},_e={class:"text-base font-semibold"},we={class:"text-sm text-gray-100"},Me={class:"flex-1 p-4 space-y-4 flex flex-col overflow-y-auto"},Se={class:"ml-4"},Le={class:"p-4 border-t border-gray-700"},Ce=["title"],$e={class:"ml-4"},De={class:"p-4 border-t border-gray-700"},Ee={__name:"ESidebar",emits:["sidebar-toggle"],setup(I,{emit:M}){var T;const{props:_}=K(),y=M,t=w(!0),p=w(!1),S=w(!1),i=w(!1),L=()=>{i.value=!i.value,localStorage.setItem("darkMode",i.value),d()},d=()=>{i.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},v=()=>{S.value=window.innerWidth<1024},x=()=>{t.value=!t.value,localStorage.setItem("sidebarOpen",t.value),y("sidebar-toggle",t.value)},G=()=>{p.value=!0},$=()=>{p.value=!1},P=()=>{v(),S.value||(p.value=!1)};U(()=>{const f=localStorage.getItem("sidebarOpen");t.value=f===null||f==="true",y("sidebar-toggle",t.value);const s=localStorage.getItem("darkMode");s!==null?i.value=s==="true":i.value=window.matchMedia("(prefers-color-scheme: dark)").matches,d(),v(),window.addEventListener("resize",P)}),Q(()=>{window.removeEventListener("resize",P)});const h=(T=_.auth)==null?void 0:T.user,D=(h==null?void 0:h.role)??"guest",A=Y(()=>D.charAt(0).toUpperCase()+D.slice(1)),R={admin:[{name:"Pending Requests",href:"/deliveries/pending",route:"deliveries.pending",icon:"mdi-clock-alert"},{name:"Payments",href:"/staff/payments",route:"staff.payments.dashboard",icon:"mdi-cash-multiple"},{name:"Refunds",href:"/refunds",route:"refunds.index",icon:"mdi-cash-refund"},{name:"Manifest",href:"/admin/manifests",route:"manifests.index",icon:"mdi-file-tree"},{name:"Waybills",href:"/waybills",route:"waybills.index",icon:"mdi-file-document"},{name:"Driver-Truck Sets",href:"/driver-truck-assignments",route:"driver-truck-assignments.index",icon:"mdi-account-switch"},{name:"Employees",href:"/admin/employees",route:"admin.employees",icon:"mdi-account-group"},{name:"Customers",href:"/admin/customers",route:"admin.customers",icon:"mdi-account-box"},{name:"Profile Requests",href:"/admin/customer-update-requests",route:"admin.customer-update-requests.index",icon:"mdi-account-edit"},{name:"Regions",href:"/admin/regions",route:"admin.regions.index",icon:"mdi-map-marker-multiple"},{name:"Trucks",href:"/admin/trucks",route:"admin.trucks",icon:"mdi-truck"},{name:"Package Management",href:"/admin/packages",route:"admin.packages.index",icon:"mdi-package"},{name:"Reports",href:"/admin/reports",route:"reports.dashboard",icon:"mdi-chart-bar"},{name:"Utilities",href:"/admin/utilities",route:"admin.utilities.index",icon:"mdi-tools"}],staff:[{name:"Dashboard",href:"/staff/dashboard",route:"staff.dashboard",icon:"mdi-home"},{name:"Pending Requests",href:"/deliveries/pending",route:"deliveries.pending",icon:"mdi-clock-alert"},{name:"Payments",href:"/staff/payments",route:"staff.payments.index",icon:"mdi-cash-multiple"},{name:"Waybills",href:"/waybills",route:"waybills.index",icon:"mdi-file-document"},{name:"Stickers",href:"/stickers",route:"stickers.index",icon:"mdi-label"},{name:"Manifest",href:"/admin/manifests",route:"manifests.index",icon:"mdi-file-tree"},{name:"Driver-Truck Sets",href:"/driver-truck-assignments",route:"driver-truck-assignments.index",icon:"mdi-account-switch"},{name:"Cargo Assignment",href:"/cargo-assignments",route:"cargo-assignments.index",icon:"mdi-package-variant"},{name:"Release Package",href:"/cargo-assignments/delivery-completion/ready-for-completion",route:"cargo-assignments.delivery-completion.ready-for-completion",icon:"mdi-package-up"},{name:"Package Management",href:"/admin/packages",route:"admin.packages.index",icon:"mdi-package"},{name:"Trucks",href:"/admin/trucks",route:"admin.trucks",icon:"mdi-truck"}],driver:[{name:"Dashboard",href:"/driver/dashboard",route:"driver.dashboard",icon:"mdi-home"},{name:"Assigned Deliveries",href:"/driver/deliveries/assigned",route:"driver.assigned-deliveries",icon:"mdi-package-variant"},{name:"Update Location",href:"/driver/packages/status-update",route:"driver.status-update",icon:"mdi-map-marker"}],collector:[{name:"Collection Dashboard",href:"/collector/payments/dashboard",route:"collector.payments.dashboard",icon:"mdi-view-dashboard"},{name:"Pending Collections",href:"/collector/payments/pending",route:"collector.payments.pending",icon:"mdi-clock-alert"},{name:"My Collections",href:"/collector/payments",route:"collector.payments.index",icon:"mdi-cash"}],guest:[]}[D]||[],V=()=>{H.post("/logout")};return(f,s)=>S.value?(o(),n("div",pe,[e("div",{class:k(["bg-gray-900 text-white flex flex-col h-screen fixed left-0 top-0 z-50 transform transition-transform duration-300",p.value?"translate-x-0 w-64":"-translate-x-full w-64"])},[e("div",ve,[e("div",be,[a(N,{class:"w-12 h-11"}),e("div",ye,[e("h1",xe,l(A.value),1)])]),e("button",{onClick:$,class:"p-2 text-gray-400 hover:text-white"},[a(g,null,{default:r(()=>s[3]||(s[3]=[m("mdi-close")])),_:1})])]),b(h)?(o(),n("div",ke,[e("p",_e,l(b(h).name),1),e("p",we,l(b(h).email),1),a(C,{href:f.route("profile.edit"),class:k(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white mt-3 w-full",{"bg-green-600 text-white":f.route().current("profile.edit")}]),onClick:$},{default:r(()=>[a(g,{size:"24px"},{default:r(()=>s[4]||(s[4]=[m("mdi-account")])),_:1}),s[5]||(s[5]=e("span",{class:"ml-4"},"My Profile",-1))]),_:1},8,["href","class"])])):u("",!0),e("nav",Me,[(o(!0),n(j,null,B(b(R),c=>(o(),E(C,{key:c.name,href:c.href,active:f.route().current(c.route),class:k(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white w-full",{"bg-green-600 text-white":f.route().current(c.route)}]),onClick:$},{default:r(()=>[a(g,null,{default:r(()=>[m(l(c.icon),1)]),_:2},1024),e("span",Se,l(c.name),1)]),_:2},1032,["href","active","class"]))),128))]),e("div",Le,[e("button",{onClick:L,class:"flex items-center justify-center p-3 rounded hover:bg-green-600 hover:text-white w-full transition-colors duration-200",title:i.value?"Switch to light mode":"Switch to dark mode"},[a(g,null,{default:r(()=>[m(l(i.value?"mdi-weather-night":"mdi-weather-sunny"),1)]),_:1}),e("span",$e,l(i.value?"Light Mode":"Dark Mode"),1)],8,Ce)]),e("div",De,[a(q,{onClick:V,class:"w-full"},{default:r(()=>[a(g,null,{default:r(()=>s[6]||(s[6]=[m("mdi-logout")])),_:1}),s[7]||(s[7]=e("span",{class:"ml-2"},"Logout",-1))]),_:1})])],2),p.value?u("",!0):(o(),n("button",{key:0,onClick:G,class:"fixed top-4 right-4 z-40 p-3 bg-gray-900 text-white rounded-lg shadow-lg hover:bg-green-600 transition-colors duration-200"},[a(g,null,{default:r(()=>s[8]||(s[8]=[m("mdi-menu")])),_:1})]))])):(o(),n("div",{key:0,class:k(["bg-gray-900 text-white flex flex-col transition-all duration-300 h-screen",t.value?"w-64":"w-20"])},[e("div",{class:"p-4 flex items-center space-x-2 border-b border-gray-700 cursor-pointer",onClick:x},[a(N,{class:k((t.value,"w-12 h-11"))},null,8,["class"]),t.value?(o(),n("div",oe,[e("h1",ae,l(A.value),1),s[0]||(s[0]=e("p",{class:"text-lg font-bold text-gray-400"},null,-1))])):u("",!0)]),b(h)?(o(),n("div",re,[t.value?(o(),n("p",ne,l(b(h).name),1)):u("",!0),t.value?(o(),n("p",ie,l(b(h).email),1)):u("",!0),a(C,{href:f.route("profile.edit"),class:k(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white mt-3 w-full",{"bg-green-600 text-white":f.route().current("profile.edit")}])},{default:r(()=>[a(g,{size:t.value?"24px":"20px"},{default:r(()=>s[1]||(s[1]=[m("mdi-account")])),_:1},8,["size"]),t.value?(o(),n("span",le,"My Profile")):u("",!0)]),_:1},8,["href","class"])])):u("",!0),e("nav",de,[(o(!0),n(j,null,B(b(R),c=>(o(),E(C,{key:c.name,href:c.href,active:!1,class:k(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white w-full",{"bg-green-600 text-white":f.route().current(c.route)}])},{default:r(()=>[a(g,null,{default:r(()=>[m(l(c.icon),1)]),_:2},1024),t.value?(o(),n("span",ce,l(c.name),1)):u("",!0)]),_:2},1032,["href","class"]))),128))]),e("div",ue,[e("button",{onClick:L,class:"flex items-center justify-center p-3 rounded hover:bg-green-600 hover:text-white w-full transition-colors duration-200",title:i.value?"Switch to light mode":"Switch to dark mode"},[a(g,null,{default:r(()=>[m(l(i.value?"mdi-weather-night":"mdi-weather-sunny"),1)]),_:1}),t.value?(o(),n("span",fe,l(i.value?"Light Mode":"Dark Mode"),1)):u("",!0)],8,me)]),e("div",ge,[a(q,{onClick:V,class:"w-full"},{default:r(()=>[a(g,null,{default:r(()=>s[2]||(s[2]=[m("mdi-logout")])),_:1}),t.value?(o(),n("span",he,"Logout")):u("",!0)]),_:1})])],2))}},F=z(Ee,[["__scopeId","data-v-35cf8b65"]]),ze={class:"lg:hidden"},Ie=["title"],Pe={key:0,class:"text-xl"},Ae={key:1,class:"text-xl"},Re={key:0,class:"bg-white dark:bg-gray-800 shadow-sm shrink-0 border-b border-gray-200 dark:border-gray-700"},Ve={class:"px-4 sm:px-6 lg:px-8 py-4"},Te={class:"flex-1 overflow-y-auto overflow-x-hidden bg-gray-50 dark:bg-gray-900"},je={class:"w-full p-4 sm:p-6"},Be={class:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 py-3 px-4 sm:px-6 shrink-0"},Oe={class:"w-full flex flex-col sm:flex-row justify-between items-center gap-2"},We={class:"text-xs text-gray-500 dark:text-gray-400 text-center sm:text-left"},qe={__name:"EmployeeLayout",setup(I){const _=K().props.googleMapsApiKey,y=w(256),t=w(!1);function p(d){y.value=d?256:80}function S(){t.value=!t.value,localStorage.setItem("darkMode",t.value),i()}function i(){t.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function L(d){p(d)}return U(()=>{const d=localStorage.getItem("sidebarOpen");p(d===null||d==="true");const v=localStorage.getItem("darkMode");if(v!==null?t.value=v==="true":t.value=window.matchMedia("(prefers-color-scheme: dark)").matches,i(),_&&!document.getElementById("google-maps-api")){const x=document.createElement("script");x.id="google-maps-api",x.src=`https://maps.googleapis.com/maps/api/js?key=${_}&libraries=places&loading=async`,x.async=!0,x.defer=!0,document.head.appendChild(x),console.log("Google Maps API script loaded with key:",_)}else _||console.error("Google Maps API key is missing")}),(d,v)=>(o(),E(Z,null,{default:r(()=>[a(J,{style:{height:"100vh",overflow:"hidden"}},{default:r(()=>[e("div",{style:O({position:"fixed",top:0,left:0,height:"100vh",zIndex:1100,width:y.value+"px",transition:"width 0.3s cubic-bezier(0.4,0,0.2,1)"}),class:"hidden lg:block"},[a(F,{onSidebarToggle:L})],4),e("div",ze,[a(F,{onSidebarToggle:L})]),e("button",{onClick:S,class:"fixed bottom-6 left-6 z-50 p-3 rounded-full bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-110",title:t.value?"Switch to light mode":"Switch to dark mode"},[t.value?(o(),n("span",Pe,"🌙")):(o(),n("span",Ae,"☀️"))],8,Ie),a(X,{class:"flex flex-col",style:O({marginLeft:y.value+"px",width:`calc(100vw - ${y.value}px)`,height:"100vh",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"})},{default:r(()=>[d.$slots.header?(o(),n("header",Re,[e("div",Ve,[W(d.$slots,"header",{},void 0,!0)])])):u("",!0),e("div",Te,[e("div",je,[W(d.$slots,"default",{},void 0,!0)])]),e("footer",Be,[e("div",Oe,[e("p",We," © "+l(new Date().getFullYear())+" LogiSys. All rights reserved. ",1),v[0]||(v[0]=e("p",{class:"text-xs text-gray-400 dark:text-gray-500 text-center sm:text-right"},[m(" Employee Portal v1.0 • "),e("span",{class:"text-green-600 dark:text-green-400 font-medium"},"Online")],-1))])])]),_:3},8,["style"])]),_:3})]),_:3}))}},Qe=z(qe,[["__scopeId","data-v-29d39d2f"]]);export{Qe as E};
