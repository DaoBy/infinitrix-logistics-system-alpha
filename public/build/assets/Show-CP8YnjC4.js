import{E as F}from"./EmployeeLayout-CgMY_n5V.js";import{_ as g}from"./PrimaryButton-eC2eu5yQ.js";import{_ as h}from"./SecondaryButton-f4DzqSLc.js";import{D}from"./DangerButton-B7_oj2jq.js";import{_ as N}from"./DataTable-BArupUOg.js";import{M as z}from"./Modal-DAAK_Wm5.js";import{g as C,d as y,o,w as i,b as e,a as u,c as r,e as m,t as a,n as $,u as M,W as d,f as c}from"./app-BllHWhcy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";const W={class:"flex justify-between items-center"},q={class:"text-xl font-semibold leading-tight text-gray-800"},G={class:"flex space-x-2"},H={class:"py-6"},O={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Y={key:0,class:"mb-6"},_={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},J={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},K={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},Q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},U={class:"p-6 bg-white border-b border-gray-200"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={class:"space-y-4"},tt={class:"space-y-4"},et={class:"mt-1 text-sm text-gray-900"},st={class:"mt-1 text-sm text-gray-900"},nt={class:"mt-1 text-sm text-gray-900"},ot={key:0},it={class:"mt-1 text-sm text-gray-900"},at={class:"space-y-4"},lt={class:"space-y-4"},rt={key:0},dt={class:"mt-1 text-sm text-gray-900"},ct={key:1},ut={class:"mt-1 text-sm text-gray-900"},mt={key:2},kt={class:"mt-1 text-sm text-gray-900"},ft={key:3},xt={class:"mt-1 text-sm text-gray-900 whitespace-pre-line"},gt={class:"space-y-4 md:col-span-2"},yt={class:"flex justify-between items-center"},vt=["onClick"],bt=["onClick"],ht={key:1,class:"text-gray-500"},Ct={class:"space-y-4 md:col-span-2"},wt={class:"flex justify-between items-center"},pt=["onClick"],Dt={key:1,class:"text-gray-500"},Nt={class:"mt-8 flex justify-end space-x-4"},$t={class:"p-6"},Mt={class:"mt-1 text-sm text-gray-600"},At={class:"mt-6 flex justify-end space-x-4"},St={key:0},Tt={key:1},zt={__name:"Show",props:{truck:{type:Object,required:!0,default:()=>({maintenance:[],components:[]})},status:String,success:String,error:String},setup(s){const k=s,A={available:"bg-green-100 text-green-800",in_use:"bg-yellow-100 text-yellow-800",under_repair:"bg-red-100 text-red-800"},S={new:"New",good:"Good",fair:"Fair",poor:"Poor",needs_replacement:"Needs Replacement"},T=[{field:"maintenance_date",header:"Date"},{field:"type",header:"Type",formatter:n=>n?n.replace("_"," "):"N/A"},{field:"service_provider",header:"Provider"},{field:"cost",header:"Cost"},{field:"actions",header:"Actions"}],B=[{field:"name",header:"Name"},{field:"type",header:"Type",formatter:n=>n?n.replace("_"," "):"N/A"},{field:"condition",header:"Condition"},{field:"installation_date",header:"Installed",formatter:n=>n?b(n):"N/A"},{field:"actions",header:"Actions"}],f=C(!1),x=C(null),v=C(!1),b=n=>{if(!n)return"N/A";try{return new Date(n).toLocaleDateString()}catch{return"Invalid Date"}},j=n=>({new:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",needs_replacement:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",w=()=>{d.get(route("admin.trucks.edit",k.truck.id))},E=()=>{confirm("Are you sure you want to archive this truck?")&&d.put(route("admin.trucks.archive",k.truck.id),{preserveScroll:!0,onSuccess:()=>d.reload()})},L=()=>{confirm("Are you sure you want to restore this truck?")&&d.put(route("admin.trucks.restore",k.truck.id),{preserveScroll:!0,onSuccess:()=>d.reload()})},V=n=>{d.get(route("admin.trucks.maintenance.edit",{truck:k.truck.id,maintenance:n.id}))},I=n=>{x.value=n,f.value=!0},P=()=>{x.value&&(v.value=!0,d.delete(route("admin.trucks.maintenance.destroy",{truck:k.truck.id,maintenance:x.value.id}),{preserveScroll:!0,onSuccess:()=>{f.value=!1,d.reload()},onFinish:()=>{v.value=!1}}))},R=n=>{d.get(route("admin.trucks.components.show",{truck:k.truck.id,component:n.id}))};return(n,t)=>(o(),y(F,null,{header:i(()=>[e("div",W,[e("h2",q," Truck Details: "+a(s.truck.license_plate),1),e("div",G,[u(h,{onClick:t[0]||(t[0]=l=>n.$inertia.visit(n.route("admin.trucks.index")))},{default:i(()=>t[6]||(t[6]=[c(" Back to List ")])),_:1}),u(g,{onClick:w},{default:i(()=>t[7]||(t[7]=[c(" Edit ")])),_:1}),s.truck.is_active?(o(),y(D,{key:0,onClick:E},{default:i(()=>t[8]||(t[8]=[c(" Archive ")])),_:1})):(o(),y(g,{key:1,onClick:L},{default:i(()=>t[9]||(t[9]=[c(" Restore ")])),_:1}))])])]),default:i(()=>[e("div",H,[e("div",O,[s.status||s.success||s.error?(o(),r("div",Y,[s.status?(o(),r("div",_,a(s.status),1)):m("",!0),s.success?(o(),r("div",J,a(s.success),1)):m("",!0),s.error?(o(),r("div",K,a(s.error),1)):m("",!0)])):m("",!0),e("div",Q,[e("div",U,[e("div",X,[e("div",Z,[t[15]||(t[15]=e("h3",{class:"text-lg font-medium text-gray-900"},"Basic Information",-1)),e("div",tt,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-500"},"License Plate",-1)),e("p",et,a(s.truck.license_plate),1)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-500"},"Make & Model",-1)),e("p",st,a(s.truck.make)+" "+a(s.truck.model),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-500"},"Capacity",-1)),e("p",nt,a(s.truck.capacity)+" kg",1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-500"},"Status",-1)),e("span",{class:$([A[s.truck.status],"px-2 inline-flex text-xs leading-5 font-semibold rounded-full capitalize"])},a(s.truck.status.replace("_"," ")),3)]),s.truck.region?(o(),r("div",ot,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-500"},"Region",-1)),e("p",it,a(s.truck.region.name),1)])):m("",!0)])]),e("div",at,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900"},"Additional Information",-1)),e("div",lt,[s.truck.year?(o(),r("div",rt,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-500"},"Year",-1)),e("p",dt,a(s.truck.year),1)])):m("",!0),s.truck.vin?(o(),r("div",ct,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-500"},"VIN",-1)),e("p",ut,a(s.truck.vin),1)])):m("",!0),s.truck.purchase_date?(o(),r("div",mt,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-500"},"Purchase Date",-1)),e("p",kt,a(b(s.truck.purchase_date)),1)])):m("",!0),s.truck.notes?(o(),r("div",ft,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-500"},"Notes",-1)),e("p",xt,a(s.truck.notes),1)])):m("",!0)])]),e("div",gt,[e("div",yt,[t[22]||(t[22]=e("h3",{class:"text-lg font-medium text-gray-900"},"Maintenance History",-1)),u(g,{onClick:t[1]||(t[1]=l=>M(d).get(n.route("admin.trucks.maintenance.create",s.truck.id)))},{default:i(()=>t[21]||(t[21]=[c(" Add Maintenance ")])),_:1})]),s.truck.maintenance&&s.truck.maintenance.length?(o(),y(N,{key:0,columns:T,data:s.truck.maintenance},{maintenance_date:i(({row:l})=>[c(a(b(l.maintenance_date)),1)]),cost:i(({row:l})=>[c(" $"+a(Number(l.cost).toFixed(2)),1)]),actions:i(({row:l})=>[e("button",{onClick:p=>V(l),class:"text-blue-600 hover:text-blue-900 mr-3"}," Edit ",8,vt),e("button",{onClick:p=>I(l),class:"text-red-600 hover:text-red-900"}," Delete ",8,bt)]),_:1},8,["data"])):(o(),r("div",ht," No maintenance records found. "))]),e("div",Ct,[e("div",wt,[t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900"},"Components",-1)),u(g,{onClick:t[2]||(t[2]=l=>M(d).get(n.route("admin.trucks.components.index",s.truck.id)))},{default:i(()=>t[23]||(t[23]=[c(" Manage Components ")])),_:1})]),s.truck.components&&s.truck.components.length?(o(),y(N,{key:0,columns:B,data:s.truck.components},{condition:i(({row:l})=>[e("span",{class:$(`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j(l.condition)}`)},a(S[l.condition]),3)]),actions:i(({row:l})=>[e("button",{onClick:p=>R(l),class:"text-blue-600 hover:text-blue-900"}," View ",8,pt)]),_:1},8,["data"])):(o(),r("div",Dt," No components found. "))])]),e("div",Nt,[u(h,{onClick:t[3]||(t[3]=l=>n.$inertia.visit(n.route("admin.trucks.index")))},{default:i(()=>t[25]||(t[25]=[c(" Back to List ")])),_:1}),u(g,{onClick:w},{default:i(()=>t[26]||(t[26]=[c(" Edit Truck ")])),_:1})])])])])]),u(z,{show:f.value,onClose:t[5]||(t[5]=l=>f.value=!1)},{default:i(()=>[e("div",$t,[t[28]||(t[28]=e("h2",{class:"text-lg font-medium text-gray-900"}," Delete Maintenance Record? ",-1)),e("p",Mt," Are you sure you want to delete this maintenance record from "+a(x.value?b(x.value.maintenance_date):"")+"? ",1),e("div",At,[u(h,{onClick:t[4]||(t[4]=l=>f.value=!1)},{default:i(()=>t[27]||(t[27]=[c(" Cancel ")])),_:1}),u(D,{onClick:P,disabled:v.value},{default:i(()=>[v.value?(o(),r("span",St,"Deleting...")):(o(),r("span",Tt,"Delete"))]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1}))}};export{zt as default};
