import{g as x,p as _,i as g,j,a3 as B,c as i,o as n,b as e,a2 as T,s as h,a,v as c,x as m,w as f,k as w,t as k,f as U,W as q}from"./app-DV6QGe5n.js";import{_ as S}from"./PrimaryButton-D1QT-SsD.js";import{_ as D}from"./SecondaryButton-Cs3_kGiW.js";import{S as z}from"./SelectInput-oxDmFdQg.js";import{_ as r}from"./InputLabel-CnY6pNyX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"space-y-6"},N={class:"bg-white shadow rounded-lg border border-gray-200"},O={class:"px-6 py-4"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"flex justify-end"},$={key:0},A={key:1},E={class:"bg-white shadow rounded-lg border border-gray-200"},G={class:"px-6 py-4"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"border-t pt-4 border-gray-200"},Q={class:"p-4 border rounded-lg bg-gray-50"},X={class:"space-y-2"},Y={class:"text-xs text-gray-600"},Z={class:"flex justify-end space-x-3"},ee={key:0},se={key:1},ne={__name:"SettingsSection",props:{priceMatrix:Object},setup(V){const{preferences:F,saveGlobalPreferences:P}=B(),d=x(!1),u=x(!1),l=_({base_fee:0,volume_rate:0,weight_rate:0,package_rate:0}),t=_({font_style:"inter",font_size:"medium"}),M=g(()=>[{value:"inter",label:"Inter (Modern)"},{value:"arial",label:"Arial (Classic)"},{value:"roboto",label:"Roboto (Clean)"}]),W=g(()=>[{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}]),v=g(()=>{const p=t.font_style==="inter"?'"Inter", sans-serif':t.font_style==="roboto"?'"Roboto", sans-serif':"Arial, sans-serif",s=t.font_size==="small"?"14px":t.font_size==="large"?"18px":"16px";return{fontFamily:p,fontSize:s}});j(()=>{Object.assign(t,F.value),y.priceMatrix&&Object.assign(l,y.priceMatrix)});const C=()=>{u.value=!0,q.post("/admin/utilities/price-matrix",l,{preserveScroll:!0,onFinish:()=>{u.value=!1}})},b=async()=>{d.value=!0;try{await P(t)}catch(p){console.error("Error saving preferences:",p)}finally{d.value=!1}},R=()=>{t.font_style="inter",t.font_size="medium",b()},y=V;return(p,s)=>(n(),i("div",L,[e("div",N,[s[7]||(s[7]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Price Matrix"),e("p",{class:"mt-1 text-sm text-gray-500"}," Configure pricing rates for calculations ")],-1)),e("div",O,[s[6]||(s[6]=T('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><h3 class="text-sm font-medium text-blue-800"> How Pricing Works </h3><div class="mt-2 text-sm text-blue-700 space-y-2"><p><strong>Total Price = Base Fee + Volume Fee + Weight Fee + Package Fee</strong></p><div class="space-y-1"><p>• <strong>Base Fee</strong>: Fixed cost applied to every shipment</p><p>• <strong>Volume Fee</strong>: (Height × Width × Length in meters) × Volume Rate</p><p>• <strong>Weight Fee</strong>: Package Weight (kg) × Weight Rate</p><p>• <strong>Package Fee</strong>: Fixed fee per package</p></div><p class="text-xs"><strong>Note:</strong> Dimensions converted from cm to m. Limits: Volume ≤ 10m³, Weight ≤ 100kg per package.</p></div></div></div></div>',1)),e("form",{onSubmit:h(C,["prevent"]),class:"space-y-6"},[e("div",H,[e("div",null,[a(r,{value:"Base Fee (₱)",class:"mb-2"}),c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>l.base_fee=o),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",required:""},null,512),[[m,l.base_fee]])]),e("div",null,[a(r,{value:"Volume Rate (₱ per m³)",class:"mb-2"}),c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>l.volume_rate=o),type:"number",step:"0.0001",min:"0",class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",required:""},null,512),[[m,l.volume_rate]])]),e("div",null,[a(r,{value:"Weight Rate (₱ per kg)",class:"mb-2"}),c(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>l.weight_rate=o),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",required:""},null,512),[[m,l.weight_rate]])]),e("div",null,[a(r,{value:"Package Rate (₱ per package)",class:"mb-2"}),c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>l.package_rate=o),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",required:""},null,512),[[m,l.package_rate]])])]),e("div",I,[a(S,{type:"submit",disabled:u.value,class:"px-4 py-2"},{default:f(()=>[u.value?(n(),i("span",$,"Saving...")):(n(),i("span",A,"Save Price Matrix"))]),_:1},8,["disabled"])])],32)])]),e("div",E,[s[10]||(s[10]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Font Preferences"),e("p",{class:"mt-1 text-sm text-gray-500"}," Customize your font style and size ")],-1)),e("div",G,[e("form",{onSubmit:h(b,["prevent"]),class:"space-y-6"},[e("div",J,[e("div",null,[a(r,{value:"",class:"mb-2"}),a(z,{modelValue:t.font_style,"onUpdate:modelValue":s[4]||(s[4]=o=>t.font_style=o),options:M.value,"option-value":"value","option-label":"label",placeholder:"Select font style",class:"w-full"},null,8,["modelValue","options"])]),e("div",null,[a(r,{value:"",class:"mb-2"}),a(z,{modelValue:t.font_size,"onUpdate:modelValue":s[5]||(s[5]=o=>t.font_size=o),options:W.value,"option-value":"value","option-label":"label",placeholder:"Select font size",class:"w-full"},null,8,["modelValue","options"])])]),e("div",K,[s[8]||(s[8]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Live Preview",-1)),e("div",Q,[e("div",X,[e("p",{class:"font-bold",style:w(v.value)},"This is a heading with your font settings",4),e("p",{class:"text-sm",style:w(v.value)},"This is regular text with your chosen font style and size. The quick brown fox jumps over the lazy dog.",4),e("p",Y,"Current: "+k(t.font_style)+" • "+k(t.font_size),1)])])]),e("div",Z,[a(D,{type:"button",onClick:R,class:"px-4 py-2"},{default:f(()=>s[9]||(s[9]=[U(" Reset to Default ")])),_:1}),a(S,{type:"submit",disabled:d.value,class:"px-4 py-2"},{default:f(()=>[d.value?(n(),i("span",ee,"Saving...")):(n(),i("span",se,"Save Font Preferences"))]),_:1},8,["disabled"])])],32)])])]))}};export{ne as default};
