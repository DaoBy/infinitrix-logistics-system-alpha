import{E as M}from"./EmployeeLayout-DIT5z9wE.js";import{_ as T}from"./PrimaryButton-C_K9q06y.js";import{_ as p}from"./SecondaryButton-BolX5WPO.js";import{D}from"./DangerButton-C4ke1hY1.js";import{_ as E}from"./SearchInput-BlX_e4xM.js";import{_ as P}from"./DataTable-DLSq4y8x.js";import{M as z}from"./Modal-BzGLoRAP.js";import{g as m,i as J,d as O,o as i,w as o,b as e,a as r,c,e as y,t as l,u as A,f as d,F,k as N,W as f}from"./app-xrBi3RtB.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as U}from"./ArchiveBoxIcon-H6bW9hwP.js";import{r as q}from"./MapPinIcon-DkbD1ypW.js";import"./NavLink-BuzuRvoY.js";const G={class:"flex justify-between items-center w-full px-6 md:px-8"},H={class:"flex gap-2"},K={class:"zoom-content"},Q={class:"px-6 py-4"},X={key:0,class:"mb-4"},Y={key:0,class:"p-3 bg-blue-100 text-blue-800 rounded"},Z={key:1,class:"p-3 bg-green-100 text-green-800 rounded"},ee={key:2,class:"p-3 bg-red-100 text-red-800 rounded"},se={class:"mb-4 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3"},te={class:"w-full sm:w-96"},oe={class:"text-sm text-gray-500 bg-blue-50 px-3 py-1 rounded border border-blue-100"},ae={class:"justify-center flex items-center"},le={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-full max-w-[95vw]"},re={class:"p-4 bg-white border-b border-gray-200"},ne={class:"flex items-center"},de={class:"font-medium text-gray-900"},ie={class:"flex items-center"},ce={class:"text-sm font-mono text-gray-600"},ue={class:"text-gray-700 line-clamp-2"},me={class:"flex items-center"},fe={class:"text-sm text-gray-600 font-mono"},ge={class:"text-sm text-gray-600"},he={class:"flex space-x-2"},ve={class:"text-center py-8"},_e={class:"bg-gray-50 rounded-lg p-6 max-w-md mx-auto"},xe={class:"text-gray-500 mb-3"},pe={class:"p-5"},ye={class:"mt-1 text-sm text-gray-600"},be={class:"mt-4 flex justify-end space-x-3"},we={key:0},ke={key:1},Ce={__name:"Archived",props:{regions:Array,status:String,success:String,error:String},setup(n){const V=n,u=m(""),g=m("updated_at"),h=m("desc"),b=m(!1),v=m(null),x=m(!1),W=[{field:"name",header:"Warehouse Name",sortable:!0},{field:"color_hex",header:"Region Color",sortable:!1},{field:"warehouse_address",header:"Warehouse Address",sortable:!1},{field:"geographic_location",header:"Coordinates",sortable:!1},{field:"disabled_date",header:"Disabled Date",sortable:!0},{field:"actions",header:"Actions",sortable:!1}],w=J(()=>V.regions.filter(a=>(u.value===""||a.name.toLowerCase().includes(u.value.toLowerCase())||a.warehouse_address&&a.warehouse_address.toLowerCase().includes(u.value.toLowerCase()))&&!a.is_active).sort((a,s)=>{const t=h.value==="asc"?1:-1;return a[g.value]<s[g.value]?-1*t:1*t}));function $(a){g.value===a?h.value=h.value==="asc"?"desc":"asc":(g.value=a,h.value="asc")}function C(){f.get(route("admin.regions.index"))}function j(a){f.get(route("admin.regions.show",a))}function B(a){f.put(route("admin.regions.restore",a),{preserveScroll:!0,onSuccess:()=>f.reload()})}function L(a){v.value=a,b.value=!0}function k(){b.value=!1,v.value=null,x.value=!1}function R(){v.value&&(x.value=!0,f.delete(route("admin.regions.destroy",v.value.id),{preserveScroll:!0,onSuccess:()=>f.reload(),onError:()=>alert("Failed to delete warehouse"),onFinish:()=>k()}))}return(a,s)=>(i(),O(M,null,{header:o(()=>[e("div",G,[s[2]||(s[2]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Disabled Warehouses"),e("p",{class:"mt-1 text-sm text-gray-500"}," Manage disabled warehouses and restore or delete them permanently ")],-1)),e("div",H,[r(p,{onClick:C},{default:o(()=>s[1]||(s[1]=[d("Back to Active Warehouses")])),_:1})])])]),default:o(()=>[e("div",K,[e("div",Q,[n.status||n.success||n.error?(i(),c("div",X,[n.status?(i(),c("div",Y,l(n.status),1)):y("",!0),n.success?(i(),c("div",Z,l(n.success),1)):y("",!0),n.error?(i(),c("div",ee,l(n.error),1)):y("",!0)])):y("",!0),e("div",se,[e("div",te,[r(E,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),placeholder:"Search disabled warehouses by name...",class:"w-full"},null,8,["modelValue"])]),e("div",oe," ðŸ“‹ Showing "+l(w.value.length)+" disabled "+l(w.value.length===1?"warehouse":"warehouses"),1)]),e("div",ae,[e("div",le,[e("div",re,[r(P,{columns:W,data:w.value,"sort-field":g.value,"sort-direction":h.value,onSort:$,class:"w-full"},{name:o(({row:t})=>[e("div",ne,[e("div",{class:"w-3 h-3 rounded-full mr-3 border border-gray-300",style:N({backgroundColor:t.color_hex})},null,4),e("span",de,l(t.name),1)])]),color_hex:o(({row:t})=>[e("div",ie,[e("div",{class:"w-6 h-6 rounded border border-gray-300 mr-2",style:N({backgroundColor:t.color_hex})},null,4),e("span",ce,l(t.color_hex),1)])]),warehouse_address:o(({row:t})=>[e("div",null,[e("span",ue,l(t.warehouse_address||"No address provided"),1)])]),geographic_location:o(({row:t})=>{var _,S;return[e("div",me,[r(A(q),{class:"h-4 w-4 mr-2 text-gray-400"}),e("span",fe,[typeof t.geographic_location=="object"?(i(),c(F,{key:0},[d(l((_=t.geographic_location.latitude)==null?void 0:_.toFixed(4))+", "+l((S=t.geographic_location.longitude)==null?void 0:S.toFixed(4)),1)],64)):(i(),c(F,{key:1},[d(l(JSON.parse(t.geographic_location).latitude.toFixed(4))+", "+l(JSON.parse(t.geographic_location).longitude.toFixed(4)),1)],64))])])]}),disabled_date:o(({row:t})=>[e("span",ge,l(new Date(t.updated_at).toLocaleDateString()),1)]),actions:o(({row:t})=>[e("div",he,[r(p,{onClick:_=>j(t.id),class:"text-xs py-1 px-2"},{default:o(()=>s[3]||(s[3]=[d("View")])),_:2},1032,["onClick"]),r(T,{onClick:_=>B(t.id),class:"text-xs py-1 px-2"},{default:o(()=>s[4]||(s[4]=[d("Restore")])),_:2},1032,["onClick"]),r(D,{onClick:_=>L(t),class:"text-xs py-1 px-2"},{default:o(()=>s[5]||(s[5]=[d("Delete")])),_:2},1032,["onClick"])])]),empty:o(()=>[e("div",ve,[e("div",_e,[r(A(U),{class:"h-10 w-10 text-gray-400 mx-auto mb-3"}),s[7]||(s[7]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No disabled warehouses found",-1)),e("p",xe,l(u.value?"Try adjusting your search terms":"All warehouses are currently active"),1),r(p,{onClick:C},{default:o(()=>s[6]||(s[6]=[d("View Active Warehouses")])),_:1})])])]),_:1},8,["data","sort-field","sort-direction"])])])])])]),r(z,{show:b.value,onClose:k},{default:o(()=>{var t;return[e("div",pe,[s[11]||(s[11]=e("h2",{class:"text-lg font-medium text-gray-900"},"Delete Warehouse Permanently?",-1)),e("p",ye,[s[8]||(s[8]=d(" Are you sure you want to permanently delete ")),e("strong",null,l((t=v.value)==null?void 0:t.name),1),s[9]||(s[9]=d("? This action cannot be undone and will remove all associated data. "))]),e("div",be,[r(p,{onClick:k},{default:o(()=>s[10]||(s[10]=[d("Cancel")])),_:1}),r(D,{onClick:R,disabled:x.value},{default:o(()=>[x.value?(i(),c("span",we,"Deleting...")):(i(),c("span",ke,"Delete Permanently"))]),_:1},8,["disabled"])])])]}),_:1},8,["show"])]),_:1}))}},Me=I(Ce,[["__scopeId","data-v-7d50d344"]]);export{Me as default};
