import{C,d as T,o as c,w as p,b as a,c as v,e as f,t as m,p as U,a as s,u as n,W as y,f as g}from"./app-BllHWhcy.js";import{E as $}from"./EmployeeLayout-CgMY_n5V.js";import{_ as E}from"./PrimaryButton-eC2eu5yQ.js";import{_ as x}from"./SecondaryButton-f4DzqSLc.js";import{_ as r}from"./InputLabel-DydH0wB0.js";import{T as b}from"./TextInput-CRqjwWF5.js";import{S as _}from"./SelectInput-BACJkmZB.js";import{_ as V}from"./TextArea-aLSmk0zP.js";import{_ as d}from"./InputError-B4ahD7h-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";import"./DangerButton-B7_oj2jq.js";/* empty css                                                                  *//* empty css                                                                    */const I={class:"flex justify-between items-center"},N={class:"text-xl font-semibold leading-tight text-gray-800"},q={class:"py-6"},B={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},D={key:0,class:"mb-6"},M={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},O={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},j={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},h={class:"p-6 bg-white border-b border-gray-200"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={class:"md:col-span-2"},L={class:"md:col-span-2"},P={class:"md:col-span-2"},z={class:"mt-6 flex justify-end space-x-4"},ae={__name:"Edit",props:{truck:Object,maintenance:Object,maintenanceTypes:{type:Array,default:()=>[{value:"routine",text:"Routine Maintenance"},{value:"repair",text:"Repair"},{value:"component_replacement",text:"Component Replacement"},{value:"inspection",text:"Inspection"}]},status:String,success:String,error:String},setup(o){var k;const i=o,e=C({maintenance_date:((k=i.maintenance.maintenance_date)==null?void 0:k.split("T")[0])||new Date().toISOString().split("T")[0],type:i.maintenance.type||"routine",service_details:i.maintenance.service_details||"",cost:i.maintenance.cost?String(i.maintenance.cost):"",service_provider:i.maintenance.service_provider||"",notes:i.maintenance.notes||"",component_id:i.maintenance.component_id||null}),w=u=>{e.cost=u===""?"":Number(u)},S=()=>{e.put(route("admin.trucks.maintenance.update",{truck:i.truck.id,maintenance:i.maintenance.id}),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{}})};return(u,t)=>(c(),T($,null,{header:p(()=>[a("div",I,[a("h2",N," Edit Maintenance - "+m(o.truck.make)+" "+m(o.truck.model)+" ("+m(o.truck.license_plate)+") ",1),s(x,{onClick:t[0]||(t[0]=l=>n(y).get(u.route("admin.trucks.maintenance.index",o.truck.id)))},{default:p(()=>t[9]||(t[9]=[g(" Back to Maintenance ")])),_:1})])]),default:p(()=>[a("div",q,[a("div",B,[o.status||o.success||o.error?(c(),v("div",D,[o.status?(c(),v("div",M,m(o.status),1)):f("",!0),o.success?(c(),v("div",O,m(o.success),1)):f("",!0),o.error?(c(),v("div",j,m(o.error),1)):f("",!0)])):f("",!0),a("div",R,[a("div",h,[a("form",{onSubmit:U(S,["prevent"])},[a("div",W,[a("div",null,[s(r,{for:"maintenance_date",value:"Date *"}),s(b,{id:"maintenance_date",type:"date",class:"mt-1 block w-full",modelValue:n(e).maintenance_date,"onUpdate:modelValue":t[1]||(t[1]=l=>n(e).maintenance_date=l),required:"",max:new Date().toISOString().split("T")[0]},null,8,["modelValue","max"]),s(d,{class:"mt-2",message:n(e).errors.maintenance_date},null,8,["message"])]),a("div",null,[s(r,{for:"type",value:"Type *"}),s(_,{id:"type",modelValue:n(e).type,"onUpdate:modelValue":t[2]||(t[2]=l=>n(e).type=l),options:o.maintenanceTypes,"option-value":"value","option-label":"text",class:"mt-1 block w-full",required:""},null,8,["modelValue","options"]),s(d,{class:"mt-2",message:n(e).errors.type},null,8,["message"])]),a("div",null,[s(r,{for:"service_provider",value:"Service Provider *"}),s(b,{id:"service_provider",type:"text",class:"mt-1 block w-full",modelValue:n(e).service_provider,"onUpdate:modelValue":t[3]||(t[3]=l=>n(e).service_provider=l),required:""},null,8,["modelValue"]),s(d,{class:"mt-2",message:n(e).errors.service_provider},null,8,["message"])]),a("div",A,[s(r,{for:"component_id",value:"Related Component (Optional)"}),s(_,{id:"component_id",modelValue:n(e).component_id,"onUpdate:modelValue":t[4]||(t[4]=l=>n(e).component_id=l),options:o.truck.components,"option-value":"id","option-label":"name",class:"mt-1 block w-full"},null,8,["modelValue","options"]),s(d,{class:"mt-2",message:n(e).errors.component_id},null,8,["message"])]),a("div",null,[s(r,{for:"cost",value:"Cost *"}),s(b,{id:"cost",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:n(e).cost,"onUpdate:modelValue":[t[5]||(t[5]=l=>n(e).cost=l),w],required:""},null,8,["modelValue"]),s(d,{class:"mt-2",message:n(e).errors.cost},null,8,["message"])]),a("div",L,[s(r,{for:"service_details",value:"Service Details *"}),s(V,{id:"service_details",class:"mt-1 block w-full",modelValue:n(e).service_details,"onUpdate:modelValue":t[6]||(t[6]=l=>n(e).service_details=l),required:"",rows:4},null,8,["modelValue"]),s(d,{class:"mt-2",message:n(e).errors.service_details},null,8,["message"])]),a("div",P,[s(r,{for:"notes",value:"Notes"}),s(V,{id:"notes",class:"mt-1 block w-full",modelValue:n(e).notes,"onUpdate:modelValue":t[7]||(t[7]=l=>n(e).notes=l),rows:3},null,8,["modelValue"]),s(d,{class:"mt-2",message:n(e).errors.notes},null,8,["message"])])]),a("div",z,[s(x,{type:"button",onClick:t[8]||(t[8]=l=>n(y).get(u.route("admin.trucks.maintenance.index",o.truck.id)))},{default:p(()=>t[10]||(t[10]=[g(" Cancel ")])),_:1}),s(E,{type:"submit",disabled:n(e).processing},{default:p(()=>t[11]||(t[11]=[g(" Update Maintenance ")])),_:1},8,["disabled"])])],32)])])])])]),_:1}))}};export{ae as default};
