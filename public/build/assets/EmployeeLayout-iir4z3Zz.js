import{c as i,o,b as e,M as j,g as k,j as q,O as K,i as U,e as m,a,n as x,t as c,u as h,w as r,V as v,f as p,F as I,r as R,d as C,W as G,Q,k as V,R as Y,K as T,S as H}from"./app-DV6QGe5n.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as w}from"./NavLink-sW0XPEdd.js";import{D as B}from"./DangerButton-vX3ciNPD.js";const J={},X={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 object-contain"};function Z(L,_){return o(),i("svg",X,_[0]||(_[0]=[e("circle",{cx:"24",cy:"24",r:"20",fill:"#22c55e"},null,-1),e("circle",{cx:"24",cy:"24",r:"12",fill:"#fff",opacity:"0.8"},null,-1),e("circle",{cx:"24",cy:"24",r:"6",fill:"#22c55e",opacity:"0.9"},null,-1)]))}const O=$(J,[["render",Z]]),ee={key:0,class:"flex items-center space-x-2"},te={class:"text-lg font-bold"},se={key:0,class:"p-4 border-b border-gray-700"},oe={key:0,class:"text-base font-semibold"},ae={key:1,class:"text-sm text-gray-100"},re={key:0,class:"ml-4"},ie={class:"flex-1 p-4 space-y-4 flex flex-col overflow-y-auto"},ne={key:0,class:"ml-4"},le={class:"p-4 border-t border-gray-700"},de={key:0,class:"ml-2"},ce={key:1},ue={class:"p-4 border-b border-gray-700 flex items-center justify-between"},me={class:"flex items-center space-x-2"},fe={class:"flex items-center space-x-2"},pe={class:"text-lg font-bold"},ge={key:0,class:"p-4 border-b border-gray-700"},he={class:"text-base font-semibold"},ve={class:"text-sm text-gray-100"},be={class:"flex-1 p-4 space-y-4 flex flex-col overflow-y-auto"},xe={class:"ml-4"},ye={class:"p-4 border-t border-gray-700"},_e={__name:"ESidebar",emits:["sidebar-toggle"],setup(L,{emit:_}){var D;const{props:y}=j(),b=_,t=k(!0),g=k(!1),n=k(!1),d=()=>{n.value=window.innerWidth<1024},N=()=>{t.value=!t.value,localStorage.setItem("sidebarOpen",t.value),b("sidebar-toggle",t.value)},F=()=>{g.value=!0},S=()=>{g.value=!1},z=()=>{d(),n.value||(g.value=!1)};q(()=>{const u=localStorage.getItem("sidebarOpen");t.value=u===null||u==="true",b("sidebar-toggle",t.value),d(),window.addEventListener("resize",z)}),K(()=>{window.removeEventListener("resize",z)});const f=(D=y.auth)==null?void 0:D.user,M=(f==null?void 0:f.role)??"guest",P=U(()=>M.charAt(0).toUpperCase()+M.slice(1)),E={admin:[{name:"Pending Requests",href:"/deliveries/pending",route:"deliveries.pending",icon:"mdi-clock-alert"},{name:"Payments",href:"/staff/payments",route:"staff.payments.dashboard",icon:"mdi-cash-multiple"},{name:"Refunds",href:"/refunds",route:"refunds.index",icon:"mdi-cash-refund"},{name:"Manifest",href:"/admin/manifests",route:"manifests.index",icon:"mdi-file-tree"},{name:"Waybills",href:"/waybills",route:"waybills.index",icon:"mdi-file-document"},{name:"Driver-Truck Sets",href:"/driver-truck-assignments",route:"driver-truck-assignments.index",icon:"mdi-account-switch"},{name:"Employees",href:"/admin/employees",route:"admin.employees",icon:"mdi-account-group"},{name:"Customers",href:"/admin/customers",route:"admin.customers",icon:"mdi-account-box"},{name:"Profile Requests",href:"/admin/customer-update-requests",route:"admin.customer-update-requests.index",icon:"mdi-account-edit"},{name:"Regions",href:"/admin/regions",route:"admin.regions.index",icon:"mdi-map-marker-multiple"},{name:"Trucks",href:"/admin/trucks",route:"admin.trucks",icon:"mdi-truck"},{name:"Package Management",href:"/admin/packages",route:"admin.packages.index",icon:"mdi-package"},{name:"Reports",href:"/admin/reports",route:"reports.dashboard",icon:"mdi-chart-bar"},{name:"Utilities",href:"/admin/utilities",route:"admin.utilities.index",icon:"mdi-tools"}],staff:[{name:"Dashboard",href:"/staff/dashboard",route:"staff.dashboard",icon:"mdi-home"},{name:"Pending Requests",href:"/deliveries/pending",route:"deliveries.pending",icon:"mdi-clock-alert"},{name:"Payments",href:"/staff/payments",route:"staff.payments.index",icon:"mdi-cash-multiple"},{name:"Waybills",href:"/waybills",route:"waybills.index",icon:"mdi-file-document"},{name:"Stickers",href:"/stickers",route:"stickers.index",icon:"mdi-label"},{name:"Manifest",href:"/admin/manifests",route:"manifests.index",icon:"mdi-file-tree"},{name:"Driver-Truck Sets",href:"/driver-truck-assignments",route:"driver-truck-assignments.index",icon:"mdi-account-switch"},{name:"Cargo Assignment",href:"/cargo-assignments",route:"cargo-assignments.index",icon:"mdi-package-variant"},{name:"Release Package",href:"/cargo-assignments/delivery-completion/ready-for-completion",route:"cargo-assignments.delivery-completion.ready-for-completion",icon:"mdi-package-up"},{name:"Package Management",href:"/admin/packages",route:"admin.packages.index",icon:"mdi-package"},{name:"Trucks",href:"/admin/trucks",route:"admin.trucks",icon:"mdi-truck"}],driver:[{name:"Dashboard",href:"/driver/dashboard",route:"driver.dashboard",icon:"mdi-home"},{name:"Assigned Deliveries",href:"/driver/deliveries/assigned",route:"driver.assigned-deliveries",icon:"mdi-package-variant"},{name:"Update Location",href:"/driver/packages/status-update",route:"driver.status-update",icon:"mdi-map-marker"}],collector:[{name:"Collection Dashboard",href:"/collector/payments/dashboard",route:"collector.payments.dashboard",icon:"mdi-view-dashboard"},{name:"Pending Collections",href:"/collector/payments/pending",route:"collector.payments.pending",icon:"mdi-clock-alert"},{name:"My Collections",href:"/collector/payments",route:"collector.payments.index",icon:"mdi-cash"}],guest:[]}[M]||[],A=()=>{G.post("/logout")};return(u,s)=>n.value?(o(),i("div",ce,[e("div",{class:x(["bg-gray-900 text-white flex flex-col h-screen fixed left-0 top-0 z-50 transform transition-transform duration-300",g.value?"translate-x-0 w-64":"-translate-x-full w-64"])},[e("div",ue,[e("div",me,[a(O,{class:"w-12 h-11"}),e("div",fe,[e("h1",pe,c(P.value),1)])]),e("button",{onClick:S,class:"p-2 text-gray-400 hover:text-white"},[a(v,null,{default:r(()=>s[3]||(s[3]=[p("mdi-close")])),_:1})])]),h(f)?(o(),i("div",ge,[e("p",he,c(h(f).name),1),e("p",ve,c(h(f).email),1),a(w,{href:u.route("profile.edit"),class:x(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white mt-3 w-full",{"bg-green-600 text-white":u.route().current("profile.edit")}]),onClick:S},{default:r(()=>[a(v,{size:"24px"},{default:r(()=>s[4]||(s[4]=[p("mdi-account")])),_:1}),s[5]||(s[5]=e("span",{class:"ml-4"},"My Profile",-1))]),_:1},8,["href","class"])])):m("",!0),e("nav",be,[(o(!0),i(I,null,R(h(E),l=>(o(),C(w,{key:l.name,href:l.href,active:u.route().current(l.route),class:x(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white w-full",{"bg-green-600 text-white":u.route().current(l.route)}]),onClick:S},{default:r(()=>[a(v,null,{default:r(()=>[p(c(l.icon),1)]),_:2},1024),e("span",xe,c(l.name),1)]),_:2},1032,["href","active","class"]))),128))]),e("div",ye,[a(B,{onClick:A,class:"w-full"},{default:r(()=>[a(v,null,{default:r(()=>s[6]||(s[6]=[p("mdi-logout")])),_:1}),s[7]||(s[7]=e("span",{class:"ml-2"},"Logout",-1))]),_:1})])],2),g.value?m("",!0):(o(),i("button",{key:0,onClick:F,class:"fixed top-4 right-4 z-40 p-3 bg-gray-900 text-white rounded-lg shadow-lg hover:bg-green-600 transition-colors duration-200"},[a(v,null,{default:r(()=>s[8]||(s[8]=[p("mdi-menu")])),_:1})]))])):(o(),i("div",{key:0,class:x(["bg-gray-900 text-white flex flex-col transition-all duration-300 h-screen",t.value?"w-64":"w-20"])},[e("div",{class:"p-4 flex items-center space-x-2 border-b border-gray-700 cursor-pointer",onClick:N},[a(O,{class:x((t.value,"w-12 h-11"))},null,8,["class"]),t.value?(o(),i("div",ee,[e("h1",te,c(P.value),1),s[0]||(s[0]=e("p",{class:"text-lg font-bold text-gray-400"},null,-1))])):m("",!0)]),h(f)?(o(),i("div",se,[t.value?(o(),i("p",oe,c(h(f).name),1)):m("",!0),t.value?(o(),i("p",ae,c(h(f).email),1)):m("",!0),a(w,{href:u.route("profile.edit"),class:x(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white mt-3 w-full",{"bg-green-600 text-white":u.route().current("profile.edit")}])},{default:r(()=>[a(v,{size:t.value?"24px":"20px"},{default:r(()=>s[1]||(s[1]=[p("mdi-account")])),_:1},8,["size"]),t.value?(o(),i("span",re,"My Profile")):m("",!0)]),_:1},8,["href","class"])])):m("",!0),e("nav",ie,[(o(!0),i(I,null,R(h(E),l=>(o(),C(w,{key:l.name,href:l.href,active:!1,class:x(["flex items-center p-3 rounded hover:bg-green-600 hover:text-white w-full",{"bg-green-600 text-white":u.route().current(l.route)}])},{default:r(()=>[a(v,null,{default:r(()=>[p(c(l.icon),1)]),_:2},1024),t.value?(o(),i("span",ne,c(l.name),1)):m("",!0)]),_:2},1032,["href","class"]))),128))]),e("div",le,[a(B,{onClick:A,class:"w-full"},{default:r(()=>[a(v,null,{default:r(()=>s[2]||(s[2]=[p("mdi-logout")])),_:1}),t.value?(o(),i("span",de,"Logout")):m("",!0)]),_:1})])],2))}},W=$(_e,[["__scopeId","data-v-bdf18b84"]]),we={class:"lg:hidden"},ke={key:0,class:"bg-white shadow-sm shrink-0 border-b border-gray-200"},Se={class:"px-4 sm:px-6 lg:px-8 py-4"},Me={class:"flex-1 overflow-y-auto overflow-x-hidden bg-gray-50"},Ce={class:"w-full p-4 sm:p-6"},$e={class:"bg-white border-t border-gray-200 py-3 px-4 sm:px-6 shrink-0"},Le={class:"w-full flex flex-col sm:flex-row justify-between items-center gap-2"},ze={class:"text-xs text-gray-500 text-center sm:text-left"},Pe={__name:"EmployeeLayout",setup(L){const y=j().props.googleMapsApiKey,b=k(256);function t(n){b.value=n?256:80}function g(n){t(n)}return q(()=>{const n=localStorage.getItem("sidebarOpen");if(t(n===null||n==="true"),y&&!document.getElementById("google-maps-api")){const d=document.createElement("script");d.id="google-maps-api",d.src=`https://maps.googleapis.com/maps/api/js?key=${y}&libraries=places&loading=async`,d.async=!0,d.defer=!0,document.head.appendChild(d),console.log("Google Maps API script loaded with key:",y)}else y||console.error("Google Maps API key is missing")}),(n,d)=>(o(),C(H,null,{default:r(()=>[a(Q,{style:{height:"100vh",overflow:"hidden"}},{default:r(()=>[e("div",{style:V({position:"fixed",top:0,left:0,height:"100vh",zIndex:1100,width:b.value+"px",transition:"width 0.3s cubic-bezier(0.4,0,0.2,1)"}),class:"hidden lg:block"},[a(W,{onSidebarToggle:g})],4),e("div",we,[a(W,{onSidebarToggle:g})]),a(Y,{class:"flex flex-col",style:V({marginLeft:b.value+"px",width:`calc(100vw - ${b.value}px)`,height:"100vh",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4,0,0.2,1)"})},{default:r(()=>[n.$slots.header?(o(),i("header",ke,[e("div",Se,[T(n.$slots,"header",{},void 0,!0)])])):m("",!0),e("div",Me,[e("div",Ce,[T(n.$slots,"default",{},void 0,!0)])]),e("footer",$e,[e("div",Le,[e("p",ze," © "+c(new Date().getFullYear())+" LogiSys. All rights reserved. ",1),d[0]||(d[0]=e("p",{class:"text-xs text-gray-400 text-center sm:text-right"},[p(" Employee Portal v1.0 • "),e("span",{class:"text-green-600 font-medium"},"Online")],-1))])])]),_:3},8,["style"])]),_:3})]),_:3}))}},Ve=$(Pe,[["__scopeId","data-v-6052461b"]]);export{Ve as E};
