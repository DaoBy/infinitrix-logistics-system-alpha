import{E as j}from"./EmployeeLayout-CgMY_n5V.js";import{c as o,o as i,a as d,u as M,m as V,w as n,b as t,e as u,t as r,n as k,f as c,F as x,r as y,d as w,W as g}from"./app-BllHWhcy.js";import{_ as m}from"./SecondaryButton-f4DzqSLc.js";import{_ as f}from"./PrimaryButton-eC2eu5yQ.js";import{P as A}from"./Pagination-clkSGD3h.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";import"./DangerButton-B7_oj2jq.js";const B={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},S={class:"text-2xl font-bold leading-tight text-gray-900 dark:text-gray-100"},N={class:"py-12"},z={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},L={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800 h-full flex flex-col justify-between"},H={class:"flex items-center justify-between"},O={class:"text-2xl font-semibold text-gray-900 dark:text-white"},R={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800 h-full flex flex-col justify-between"},U={class:"flex items-center justify-between"},$={class:"text-2xl font-semibold text-gray-900 dark:text-white"},E={key:0,class:"mb-8"},I={class:"p-6 bg-white rounded-lg shadow dark:bg-gray-800"},W={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},F={class:"text-gray-900 dark:text-white"},q={class:"text-gray-900 dark:text-white"},G={class:"text-gray-900 dark:text-white capitalize"},J={class:"mb-8"},K={class:"flex items-center justify-between mb-4"},Q={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},X={class:"flex justify-between items-start mb-2"},Y={class:"text-sm font-medium text-gray-900 dark:text-white"},Z={class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},tt={class:"text-sm text-gray-500 dark:text-gray-400"},et={class:"mt-4 flex space-x-2"},st={key:1,class:"p-6 text-center bg-white rounded-lg shadow dark:bg-gray-800"},at={class:"overflow-hidden bg-white shadow dark:bg-gray-800 sm:rounded-lg"},rt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},it={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},ct={class:"px-6 py-4 whitespace-nowrap text-right text-sm"},ut={key:0},ht={__name:"Dashboard",props:{stats:Object,activeDeliveries:Array,recentDeliveries:Object,currentTruck:Object,user:Object},setup(s){const p=l=>(l==null?void 0:l.toLocaleString())??"0";function h(){window.location.href=route("driver.status-update")}function v(l){window.location.href=route("driver.track-package",{package:l})}function b(l){g.visit(route("deliveries.show",{delivery:l}))}function _(){g.visit(route("driver.assigned-deliveries"))}function T(){g.visit(route("driver.assigned-deliveries"))}function C(l){g.visit(route("driver.dashboard",{page:l}),{preserveScroll:!0,preserveState:!0})}return(l,e)=>(i(),o(x,null,[d(M(V),{title:"Driver Dashboard"}),d(j,null,{header:n(()=>[t("div",B,[t("div",null,[t("h2",S," Dashboard - Welcome, "+r(s.user.name),1)]),d(m,{onClick:_,class:"ml-0 sm:ml-4 mt-3 sm:mt-0"},{default:n(()=>e[0]||(e[0]=[t("svg",{class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),c(" Assigned Deliveries ")])),_:1})])]),default:n(()=>[t("div",N,[t("div",z,[t("div",P,[t("div",L,[t("div",H,[t("div",null,[e[1]||(e[1]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Active Deliveries",-1)),t("p",O,r(p(s.stats.active_deliveries)),1)]),e[2]||(e[2]=t("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-200"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1))])]),t("div",R,[t("div",U,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Packages In Transit",-1)),t("p",$,r(p(s.stats.packages_in_transit)),1)]),e[4]||(e[4]=t("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-200"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})])],-1))])])]),s.currentTruck?(i(),o("div",E,[t("div",I,[e[8]||(e[8]=t("div",{class:"flex items-center gap-2 mb-4"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Current Truck Assignment")],-1)),t("div",W,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Make & Model",-1)),t("p",F,r(s.currentTruck.make)+" "+r(s.currentTruck.model),1)]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"License Plate",-1)),t("p",q,r(s.currentTruck.license_plate),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Status",-1)),t("p",G,[t("span",{class:k({"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full font-semibold":s.currentTruck.status==="in_transit","bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-semibold":s.currentTruck.status==="available","bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full font-semibold":s.currentTruck.status==="maintenance","bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full":!["in_transit","available","maintenance"].includes(s.currentTruck.status)})},r(s.currentTruck.status==="in_transit"?"In Transit":s.currentTruck.status.charAt(0).toUpperCase()+s.currentTruck.status.slice(1).replace("_"," ")),3)])])])])])):u("",!0),t("div",J,[t("div",K,[e[10]||(e[10]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17v-2a4 4 0 018 0v2M12 7a4 4 0 100 8 4 4 0 000-8z"})]),t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Active Deliveries")],-1)),d(m,{onClick:T,class:"ml-4"},{default:n(()=>e[9]||(e[9]=[c(" View All ")])),_:1})]),s.activeDeliveries.length>0?(i(),o("div",Q,[(i(!0),o(x,null,y(s.activeDeliveries.slice(0,3),a=>(i(),o("div",{key:a.id,class:"p-4 bg-white rounded-lg shadow dark:bg-gray-800"},[t("div",X,[t("span",Y,r(a.receiver),1),t("span",{class:k(["px-2 py-1 text-xs rounded-full",{"bg-yellow-100 text-yellow-800":a.status==="assigned","bg-blue-100 text-blue-800":a.status==="dispatched","bg-green-100 text-green-800":a.status==="in_transit"}])},r(a.status==="in_transit"?"In Transit":a.status.charAt(0).toUpperCase()+a.status.slice(1)),3)]),t("p",Z,r(a.estimated_arrival),1),t("p",tt,r(a.package_count)+" packages",1),t("div",et,[d(f,{type:"button",class:"flex items-center",onClick:h},{default:n(()=>e[11]||(e[11]=[c(" Update Status ")])),_:1}),a.packages&&a.packages.length>0?(i(),w(f,{key:0,type:"button",class:"flex items-center",onClick:D=>v(a.packages[0].id)},{default:n(()=>e[12]||(e[12]=[c(" Track ")])),_:2},1032,["onClick"])):u("",!0)])]))),128))])):(i(),o("div",st,e[13]||(e[13]=[t("p",{class:"text-gray-500 dark:text-gray-400"},"No active deliveries",-1)])))]),t("div",null,[e[18]||(e[18]=t("div",{class:"flex items-center gap-2 mb-4"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})]),t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Recent Deliveries")],-1)),t("div",at,[t("table",rt,[e[17]||(e[17]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Reference # "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Receiver "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Packages "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Delivered At "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-300"}," Status "),t("th",{scope:"col",class:"px-6 py-3"})])],-1)),t("tbody",it,[(i(!0),o(x,null,y(s.recentDeliveries.data||[],a=>(i(),o("tr",{key:a.id},[t("td",lt,r(a.reference_number||"N/A"),1),t("td",ot,r(a.receiver),1),t("td",nt,r(a.package_count),1),t("td",dt,r(a.delivered_at?a.delivered_at:"â€”"),1),e[15]||(e[15]=t("td",{class:"px-6 py-4 whitespace-nowrap text-sm"},[t("span",{class:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}," Completed ")],-1)),t("td",ct,[d(m,{type:"button",onClick:D=>b(a.id),class:"px-3 py-1 text-xs"},{default:n(()=>e[14]||(e[14]=[c(" View ")])),_:2},1032,["onClick"])])]))),128)),!s.recentDeliveries.data||s.recentDeliveries.data.length===0?(i(),o("tr",ut,e[16]||(e[16]=[t("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-300"}," No recent deliveries ",-1)]))):u("",!0)])]),s.recentDeliveries.last_page>1?(i(),w(A,{key:0,pagination:s.recentDeliveries,onPageChanged:C},null,8,["pagination"])):u("",!0)])])])])]),_:1})],64))}};export{ht as default};
