import{E as L}from"./EmployeeLayout-CgMY_n5V.js";import{_ as M}from"./PrimaryButton-eC2eu5yQ.js";import{_ as k}from"./SecondaryButton-f4DzqSLc.js";import{D as C}from"./DangerButton-B7_oj2jq.js";import{_ as T}from"./SearchInput-BSEud9IK.js";import{S as I}from"./SelectInput-BACJkmZB.js";import{_ as O}from"./DataTable-BArupUOg.js";import{M as P}from"./Modal-DAAK_Wm5.js";import{g as c,i as W,d as J,o as i,w as o,b as s,a as n,c as d,e as b,t as l,f as u,u as U,q,W as m}from"./app-BllHWhcy.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as G}from"./MapPinIcon-BKFzaR0u.js";import"./NavLink-BG8uMyS8.js";/* empty css                                                                    */const H={class:"flex justify-between items-center px-6"},K={class:"flex space-x-2"},Q={class:"px-6 sm:px-8"},X={key:0,class:"mb-6"},Y={key:0,class:"p-4 bg-blue-100 text-blue-800 rounded"},Z={key:1,class:"p-4 bg-green-100 text-green-800 rounded"},ee={key:2,class:"p-4 bg-red-100 text-red-800 rounded"},te={class:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 w-full mx-auto"},se={class:"flex flex-wrap gap-2 w-full md:w-auto"},oe={class:"justify-center flex items-center"},ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg w-center"},le={class:"p-5 bg-white border-b border-gray-200"},ne={class:"truncate block"},re={class:"flex items-center"},ie={class:"text-sm"},de={class:"truncate block"},ue={class:"flex items-center"},ce={key:0},me={key:1},fe={class:"flex space-x-2 min-w-[200px]"},ve={class:"p-6"},ge={class:"mt-1 text-sm text-gray-600"},_e={class:"mt-6 flex justify-end space-x-4"},pe={key:0},xe={key:1},he={__name:"Archived",props:{regions:Array,status:String,success:String,error:String},setup(r){const D=r,p=c(""),x=c(""),f=c("updated_at"),v=c("desc"),y=c(!1),g=c(null),h=c(!1),A=[{value:"",text:"All Status"},{value:"active",text:"Active"},{value:"inactive",text:"Inactive"}],V=[{field:"name",header:"Name",sortable:!0},{field:"color_hex",header:"Color",sortable:!1},{field:"warehouse_address",header:"Warehouse Address",sortable:!1},{field:"status",header:"Status",sortable:!0},{field:"updated_at",header:"Archived Date",sortable:!0},{field:"actions",header:"Actions",sortable:!1}],F=W(()=>D.regions.filter(a=>{const t=p.value===""||a.name.toLowerCase().includes(p.value.toLowerCase()),e=x.value===""||(x.value==="active"?a.is_active:!a.is_active);return t&&e}).sort((a,t)=>{const e=v.value==="asc"?1:-1;return a[f.value]<t[f.value]?-1*e:1*e}));function N(a){f.value===a?v.value=v.value==="asc"?"desc":"asc":(f.value=a,v.value="asc")}function R(){m.get(route("admin.regions.index"))}function $(a){m.get(route("admin.regions.show",a))}function B(a){m.put(route("admin.regions.restore",a),{preserveScroll:!0,onSuccess:()=>m.reload()})}function j(a){g.value=a,y.value=!0}function w(){y.value=!1,g.value=null,h.value=!1}function E(){g.value&&(h.value=!0,m.delete(route("admin.regions.destroy",g.value.id),{preserveScroll:!0,onSuccess:()=>m.reload(),onError:()=>alert("Failed to delete region"),onFinish:()=>w()}))}return(a,t)=>(i(),J(L,null,{header:o(()=>[s("div",H,[t[3]||(t[3]=s("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Archived Regions",-1)),s("div",K,[n(k,{onClick:R},{default:o(()=>t[2]||(t[2]=[u("Back to Active Regions")])),_:1})])])]),default:o(()=>[s("div",Q,[r.status||r.success||r.error?(i(),d("div",X,[r.status?(i(),d("div",Y,l(r.status),1)):b("",!0),r.success?(i(),d("div",Z,l(r.success),1)):b("",!0),r.error?(i(),d("div",ee,l(r.error),1)):b("",!0)])):b("",!0),s("div",te,[n(T,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),placeholder:"Search archived regions...",class:"w-full md:w-72"},null,8,["modelValue"]),s("div",se,[n(I,{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=e=>x.value=e),options:A,"option-value":"value","option-label":"text",placeholder:"Filter by status",class:"w-full md:w-48"},null,8,["modelValue"])])]),s("div",oe,[s("div",ae,[s("div",le,[n(O,{columns:V,data:F.value,"sort-field":f.value,"sort-direction":v.value,onSort:N,class:"w-full"},{name:o(({row:e})=>[s("span",ne,l(e.name),1)]),color_hex:o(({row:e})=>[s("div",re,[s("div",{class:"w-4 h-4 rounded-full mr-2 border border-gray-300",style:q({backgroundColor:e.color_hex})},null,4),s("span",ie,l(e.color_hex),1)])]),warehouse_address:o(({row:e})=>[s("span",de,l(e.warehouse_address||"N/A"),1)]),status:o(({row:e})=>t[4]||(t[4]=[s("span",{class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"}," Archived ",-1)])),geographic_location:o(({row:e})=>{var _,S;return[s("div",ue,[n(U(G),{class:"h-4 w-4 mr-1 text-gray-400"}),typeof e.geographic_location=="object"?(i(),d("span",ce,l((_=e.geographic_location.latitude)==null?void 0:_.toFixed(4))+", "+l((S=e.geographic_location.longitude)==null?void 0:S.toFixed(4)),1)):(i(),d("span",me,l(JSON.parse(e.geographic_location).latitude.toFixed(4))+", "+l(JSON.parse(e.geographic_location).longitude.toFixed(4)),1))])]}),updated_at:o(({row:e})=>[u(l(new Date(e.updated_at).toLocaleDateString()),1)]),actions:o(({row:e})=>[s("div",fe,[n(k,{onClick:_=>$(e.id)},{default:o(()=>t[5]||(t[5]=[u("View")])),_:2},1032,["onClick"]),n(M,{onClick:_=>B(e.id)},{default:o(()=>t[6]||(t[6]=[u("Restore")])),_:2},1032,["onClick"]),n(C,{onClick:_=>j(e)},{default:o(()=>t[7]||(t[7]=[u("Delete")])),_:2},1032,["onClick"])])]),_:1},8,["data","sort-field","sort-direction"])])])])]),n(P,{show:y.value,onClose:w},{default:o(()=>{var e;return[s("div",ve,[t[11]||(t[11]=s("h2",{class:"text-lg font-medium text-gray-900"},"Delete Region Permanently?",-1)),s("p",ge,[t[8]||(t[8]=u(" Are you sure you want to permanently delete ")),s("strong",null,l((e=g.value)==null?void 0:e.name),1),t[9]||(t[9]=u("? This action cannot be undone. "))]),s("div",_e,[n(k,{onClick:w},{default:o(()=>t[10]||(t[10]=[u("Cancel")])),_:1}),n(C,{onClick:E,disabled:h.value},{default:o(()=>[h.value?(i(),d("span",pe,"Deleting...")):(i(),d("span",xe,"Delete Permanently"))]),_:1},8,["disabled"])])])]}),_:1},8,["show"])]),_:1}))}},Be=z(he,[["__scopeId","data-v-d5ccfaad"]]);export{Be as default};
