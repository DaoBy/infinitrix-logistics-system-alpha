import{E as j}from"./EmployeeLayout-HD3iRf9t.js";import{_ as A}from"./SecondaryButton-B4_LijSy.js";import{d as N,o as i,w as y,b as t,t as n,c as o,e as u,n as d,F as S,r as B,a as D,f as I}from"./app-Xu1-QTPS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-Dma88ZBl.js";import"./DangerButton-B9GvHwCg.js";const T={class:"flex justify-between items-center"},E={class:"text-xl font-semibold leading-tight text-gray-800"},M={class:"py-6 max-w-4xl mx-auto"},L={class:"bg-white shadow-sm rounded-lg p-6 mb-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V={class:"space-y-1 text-sm"},R={class:"flex justify-between"},U={class:"font-medium"},Y={class:"flex justify-between"},$={class:"font-medium"},z={class:"flex justify-between"},H={class:"font-medium"},O={class:"space-y-1 text-sm"},P={class:"flex justify-between"},q={class:"font-medium"},G={class:"flex justify-between"},J={class:"font-medium"},K={class:"flex justify-between"},Q={class:"font-medium"},W={class:"flex justify-between items-center"},X={key:0,class:"flex justify-between"},Z={class:"font-medium"},tt={key:1,class:"flex justify-between"},st={class:"bg-white shadow-sm rounded-lg overflow-hidden"},et={class:"px-6 py-4 border-b border-gray-200"},nt={class:"text-sm text-gray-600 mt-1"},it={class:"p-6"},at={key:0,class:"space-y-6"},ot={class:"flex flex-col items-center mr-4"},lt={key:0,class:"w-0.5 h-full bg-gray-300 mt-2"},dt={class:"flex-1 pb-6"},rt={class:"flex justify-between items-start mb-2"},mt={class:"flex items-center space-x-2"},gt={key:0,class:"text-sm text-gray-500"},ut={key:1,class:"text-sm text-gray-500"},ct={class:"text-sm text-gray-500"},xt={key:0,class:"text-sm text-gray-700 bg-gray-50 p-3 rounded mt-2"},yt={class:"text-xs text-gray-400 mt-1"},ft={key:1,class:"text-center py-8 text-gray-500"},bt={class:"bg-white shadow-sm rounded-lg p-6 mt-6"},vt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},wt={class:"font-medium ml-2"},ht={class:"font-medium ml-2"},kt={class:"font-medium ml-2"},St={__name:"StatusTimeline",props:{assignment:Object,timeline:Array},setup(e){function c(a){return{active:"Active",backhaul_eligible:"Backhaul Eligible",returning:"Returning to Base",cooldown:"In Cooldown",completed:"Completed",in_transit:"In Transit",cancelled:"Cancelled"}[a]||a||"Unknown"}function f(a){return{active:"bg-green-100 text-green-800 border border-green-200",backhaul_eligible:"bg-purple-100 text-purple-800 border border-purple-200",returning:"bg-orange-100 text-orange-800 border border-orange-200",cooldown:"bg-yellow-100 text-yellow-800 border border-yellow-200",completed:"bg-blue-100 text-blue-800 border border-blue-200",in_transit:"bg-indigo-100 text-indigo-800 border border-indigo-200",cancelled:"bg-red-100 text-red-800 border border-red-200"}[a]||"bg-gray-100 text-gray-800 border border-gray-200"}function g(a){return a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}return(a,s)=>(i(),N(j,null,{header:y(()=>{var r,m;return[t("div",T,[t("div",null,[t("h2",E," Status Timeline - "+n((r=e.assignment.driver)==null?void 0:r.name)+" & "+n((m=e.assignment.truck)==null?void 0:m.license_plate),1),s[1]||(s[1]=t("p",{class:"text-sm text-gray-600 mt-1"}," Complete history of status changes for this driver-truck assignment ",-1))]),D(A,{onClick:s[0]||(s[0]=x=>a.$inertia.visit(a.route("driver-truck-assignments.index")))},{default:y(()=>s[2]||(s[2]=[I(" Back to Assignments ")])),_:1})])]}),default:y(()=>{var r,m,x,b,v,w,h,k,p,_;return[t("div",M,[t("div",L,[t("div",F,[t("div",null,[s[6]||(s[6]=t("h3",{class:"font-semibold text-gray-700 mb-2"},"Driver Information",-1)),t("div",V,[t("div",R,[s[3]||(s[3]=t("span",{class:"text-gray-500"},"Name:",-1)),t("span",U,n((r=e.assignment.driver)==null?void 0:r.name),1)]),t("div",Y,[s[4]||(s[4]=t("span",{class:"text-gray-500"},"Employee ID:",-1)),t("span",$,n((x=(m=e.assignment.driver)==null?void 0:m.employee_profile)==null?void 0:x.employee_id),1)]),t("div",z,[s[5]||(s[5]=t("span",{class:"text-gray-500"},"Current Region:",-1)),t("span",H,n(((b=e.assignment.current_region)==null?void 0:b.name)||"Unknown"),1)])])]),t("div",null,[s[13]||(s[13]=t("h3",{class:"font-semibold text-gray-700 mb-2"},"Truck & Assignment Information",-1)),t("div",O,[t("div",P,[s[7]||(s[7]=t("span",{class:"text-gray-500"},"License Plate:",-1)),t("span",q,n((v=e.assignment.truck)==null?void 0:v.license_plate),1)]),t("div",G,[s[8]||(s[8]=t("span",{class:"text-gray-500"},"Make/Model:",-1)),t("span",J,n((w=e.assignment.truck)==null?void 0:w.make)+" "+n((h=e.assignment.truck)==null?void 0:h.model),1)]),t("div",K,[s[9]||(s[9]=t("span",{class:"text-gray-500"},"Home Region:",-1)),t("span",Q,n((k=e.assignment.region)==null?void 0:k.name),1)]),t("div",W,[s[10]||(s[10]=t("span",{class:"text-gray-500"},"Current Status:",-1)),t("span",{class:d(["px-2 py-1 rounded text-xs font-semibold",f(e.assignment.current_status)])},n(c(e.assignment.current_status)),3)]),e.assignment.current_status==="cooldown"&&e.assignment.cooldown_ends_at?(i(),o("div",X,[s[11]||(s[11]=t("span",{class:"text-gray-500"},"Cooldown Ends:",-1)),t("span",Z,n(g(e.assignment.cooldown_ends_at)),1)])):u("",!0),e.assignment.is_final_cooldown?(i(),o("div",tt,s[12]||(s[12]=[t("span",{class:"text-gray-500"},"Cooldown Type:",-1),t("span",{class:"font-medium text-red-600"},"Final Cooldown",-1)]))):u("",!0)])])])]),t("div",st,[t("div",et,[s[14]||(s[14]=t("h3",{class:"text-lg font-medium text-gray-900"},"Status History",-1)),t("p",nt," Showing all status changes for Driver-Truck Set: "+n((p=e.assignment.driver)==null?void 0:p.name)+" & "+n((_=e.assignment.truck)==null?void 0:_.license_plate),1)]),t("div",it,[e.timeline.length>0?(i(),o("div",at,[(i(!0),o(S,null,B(e.timeline,(l,C)=>(i(),o("div",{key:l.id,class:"flex"},[t("div",ot,[t("div",{class:d(["w-3 h-3 rounded-full",C===0?"bg-green-500":"bg-blue-500"])},null,2),C<e.timeline.length-1?(i(),o("div",lt)):u("",!0)]),t("div",dt,[t("div",rt,[t("div",mt,[t("span",{class:d(["px-2 py-1 rounded text-xs font-semibold",f(l.new_status)])},n(c(l.new_status)),3),l.previous_status?(i(),o("span",gt," from "+n(c(l.previous_status)),1)):(i(),o("span",ut," Initial Status "))]),t("span",ct,n(g(l.changed_at)),1)]),l.remarks?(i(),o("p",xt,n(l.remarks),1)):u("",!0),t("div",yt," Log ID: "+n(l.id),1)])]))),128))])):(i(),o("div",ft,s[15]||(s[15]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No status history",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"No status changes have been recorded for this assignment yet.",-1)])))])]),t("div",bt,[s[22]||(s[22]=t("h3",{class:"font-semibold text-gray-700 mb-4"},"Assignment Details",-1)),t("div",vt,[t("div",null,[s[16]||(s[16]=t("span",{class:"text-gray-500"},"Assignment ID:",-1)),t("span",wt,n(e.assignment.id),1)]),t("div",null,[s[17]||(s[17]=t("span",{class:"text-gray-500"},"Assigned At:",-1)),t("span",ht,n(e.assignment.assigned_at?g(e.assignment.assigned_at):"N/A"),1)]),t("div",null,[s[18]||(s[18]=t("span",{class:"text-gray-500"},"Completed At:",-1)),t("span",kt,n(e.assignment.completed_at?g(e.assignment.completed_at):"N/A"),1)]),t("div",null,[s[19]||(s[19]=t("span",{class:"text-gray-500"},"Active:",-1)),t("span",{class:d(["font-medium ml-2",e.assignment.is_active?"text-green-600":"text-red-600"])},n(e.assignment.is_active?"Yes":"No"),3)]),t("div",null,[s[20]||(s[20]=t("span",{class:"text-gray-500"},"Backhaul Eligible:",-1)),t("span",{class:d(["font-medium ml-2",e.assignment.available_for_backhaul?"text-green-600":"text-red-600"])},n(e.assignment.available_for_backhaul?"Yes":"No"),3)]),t("div",null,[s[21]||(s[21]=t("span",{class:"text-gray-500"},"Final Cooldown:",-1)),t("span",{class:d(["font-medium ml-2",e.assignment.is_final_cooldown?"text-red-600":"text-gray-600"])},n(e.assignment.is_final_cooldown?"Yes":"No"),3)])])])])]}),_:1}))}};export{St as default};
