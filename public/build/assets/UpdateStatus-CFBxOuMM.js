const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-src-CxCDpOJj.js","assets/app-B0R_bMJi.js","assets/app-7QpYxNtG.css"])))=>i.map(i=>d[i]);
import{A as J,ag as se,g as O,ah as lt,ai as F,i as N,L as K,aj as U,ak as ne,y as H,al as Oe,x as X,h as _e,Z as Te,am as it,C as De,c as v,o as g,a as S,u as b,m as dt,w as D,e as B,b as t,t as k,F as Z,r as re,d as ut,f as C,n as Ce,l as ke,J as Le,v as ct,p as mt,W as Re}from"./app-B0R_bMJi.js";import{E as pt}from"./EmployeeLayout-BQLa5PLV.js";import{M as Me}from"./Modal-Oa0ozw3w.js";import{_ as ae}from"./PrimaryButton-z6gddSkS.js";import{_ as Se}from"./SecondaryButton-BDpVYXxA.js";import{_ as je}from"./Checkbox-DVGT8c-8.js";import{_ as Ie}from"./InputError-BoXW6i3M.js";import{L as xe}from"./leaflet-src-CxCDpOJj.js";import{_ as gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as ft}from"./ChevronDownIcon-0K57nZB8.js";import"./NavLink-BchASNUp.js";import"./DangerButton-DlTel5kP.js";const Ne=(o,r)=>{for(const s of Object.keys(r))o.on(s,r[s])},$e=o=>{for(const r of Object.keys(o)){const s=o[r];s&&Y(s.cancel)&&s.cancel()}},vt=o=>!o||typeof o.charAt!="function"?o:o.charAt(0).toUpperCase()+o.slice(1),Y=o=>typeof o=="function",Q=(o,r,s)=>{for(const n in s){const i="set"+vt(n);o[i]?_e(()=>s[n],(d,m)=>{o[i](d,m)}):r[i]&&_e(()=>s[n],d=>{r[i](d)})}},ee=(o,r,s={})=>{const n={...s};for(const i in o){const d=r[i],m=o[i];d&&(d&&d.custom===!0||m!==void 0&&(n[i]=m))}return n},le=o=>{const r={},s={};for(const n in o)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const i=n.slice(2).toLocaleLowerCase();r[i]=o[n]}else s[n]=o[n];return{listeners:r,attrs:s}},yt=async o=>{const r=await Promise.all([U(()=>import("./marker-icon-2x-1TirABJh.js"),[]),U(()=>import("./marker-icon-B6h-nX3D.js"),[]),U(()=>import("./marker-shadow-B9CpECYs.js"),[])]);delete o.Default.prototype._getIconUrl,o.Default.mergeOptions({iconRetinaUrl:r[0].default,iconUrl:r[1].default,shadowUrl:r[2].default})},he=o=>{const r=O((...n)=>console.warn(`Method ${o} has been invoked without being replaced`)),s=(...n)=>r.value(...n);return s.wrapped=r,F(o,s),s},we=(o,r)=>o.wrapped.value=r,q=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,E=o=>{const r=X(o);if(r===void 0)throw new Error(`Attempt to inject ${o.description} before it was provided.`);return r},te=Symbol("useGlobalLeaflet"),pe=Symbol("addLayer"),Ve=Symbol("removeLayer"),Ae=Symbol("registerControl"),bt=Symbol("registerLayerControl"),qe=Symbol("canSetParentHtml"),Ze=Symbol("setParentHtml"),Fe=Symbol("setIcon"),He=Symbol("bindPopup"),kt=Symbol("bindTooltip"),Ge=Symbol("unbindPopup"),xt=Symbol("unbindTooltip"),ge={options:{type:Object,default:()=>({}),custom:!0}},fe=o=>({options:o.options,methods:{}}),ie={...ge,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},We=(o,r,s)=>{const n=E(pe),i=E(Ve),{options:d,methods:m}=fe(o),l=ee(o,ie,d),u=()=>n({leafletObject:r.value}),y=()=>i({leafletObject:r.value}),p={...m,setAttribution(x){y(),r.value.options.attribution=x,o.visible&&u()},setName(){y(),o.visible&&u()},setLayerType(){y(),o.visible&&u()},setVisible(x){r.value&&(x?u():y())},bindPopup(x){if(!r.value||!Y(r.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}r.value.bindPopup(x)},bindTooltip(x){if(!r.value||!Y(r.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}r.value.bindTooltip(x)},unbindTooltip(){r.value&&(Y(r.value.closeTooltip)&&r.value.closeTooltip(),Y(r.value.unbindTooltip)&&r.value.unbindTooltip())},unbindPopup(){r.value&&(Y(r.value.closePopup)&&r.value.closePopup(),Y(r.value.unbindPopup)&&r.value.unbindPopup())},updateVisibleProp(x){s.emit("update:visible",x)}};return F(He,p.bindPopup),F(kt,p.bindTooltip),F(Ge,p.unbindPopup),F(xt,p.unbindTooltip),Te(()=>{p.unbindPopup(),p.unbindTooltip(),y()}),{options:l,methods:p}},ht=(o,r)=>{if(o&&r.default)return se("div",{style:{display:"none"}},r.default())},wt={...ie,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},Ye={...wt,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},_t={...Ye,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({..._t});const de={...ge,position:{type:String}},Je=(o,r)=>{const{options:s,methods:n}=fe(o),i=ee(o,de,s),d={...n,setPosition(m){r.value&&r.value.setPosition(m)}};return Te(()=>{r.value&&r.value.remove()}),{options:i,methods:d}},Ct=o=>o.default?se("div",{ref:"root"},o.default()):null;J({name:"LControl",props:{...de,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(o,r){const s=O(),n=O(),i=X(te),d=E(Ae),{options:m,methods:l}=Je(o,s);return K(async()=>{const{Control:u,DomEvent:y}=i?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]),p=u.extend({onAdd(){return n.value}});s.value=ne(new p(m)),Q(l,s.value,o),d({leafletObject:s.value}),o.disableClickPropagation&&n.value&&y.disableClickPropagation(n.value),o.disableScrollPropagation&&n.value&&y.disableScrollPropagation(n.value),H(()=>r.emit("ready",s.value))}),{root:n,leafletObject:s}},render(){return Ct(this.$slots)}});({...de});({...de});({...de});const Ke={...de,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},Lt=(o,r)=>{const{options:s,methods:n}=Je(o,r);return{options:ee(o,Ke,s),methods:n}},Rt=J({name:"LControlZoom",props:Ke,setup(o,r){const s=O(),n=X(te),i=E(Ae),{options:d,methods:m}=Lt(o,s);return K(async()=>{const{control:l}=n?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s.value=ne(l.zoom(d)),Q(m,s.value,o),i({leafletObject:s.value}),H(()=>r.emit("ready",s.value))}),{leafletObject:s}},render(){return null}}),Xe={...ie};({...Xe});({...Xe});const Be={...ie,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},Qe=(o,r,s)=>{const{options:n,methods:i}=We(o,r,s),d=ee(o,Be,n),m={...i,setTileComponent(){var l;(l=r.value)==null||l.redraw()}};return Te(()=>{r.value.off()}),{options:d,methods:m}},St=(o,r,s,n)=>o.extend({initialize(i){this.tileComponents={},this.on("tileunload",this._unloadTile),s.setOptions(this,i)},createTile(i){const d=this._tileCoordsToKey(i);this.tileComponents[d]=r.create("div");const m=se({setup:n,props:["coords"]},{coords:i});return it(m,this.tileComponents[d]),this.tileComponents[d]},_unloadTile(i){const d=this._tileCoordsToKey(i.coords);this.tileComponents[d]&&(this.tileComponents[d].innerHTML="",this.tileComponents[d]=void 0)}});J({props:{...Be,childRender:{type:Function,required:!0}},setup(o,r){const s=O(),n=O(null),i=O(!1),d=X(te),m=E(pe),{options:l,methods:u}=Qe(o,s,r);return K(async()=>{const{GridLayer:y,DomUtil:p,Util:x}=d?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]),T=St(y,p,x,o.childRender);s.value=ne(new T(l));const{listeners:w}=le(r.attrs);s.value.on(w),Q(u,s.value,o),m({...o,...u,leafletObject:s.value}),i.value=!0,H(()=>r.emit("ready",s.value))}),{root:n,ready:i,leafletObject:s}},render(){return this.ready?se("div",{style:{display:"none"},ref:"root"}):null}});const ze={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};J({name:"LIcon",props:{...ze,...ge},setup(o,r){const s=O(),n=X(te),i=E(qe),d=E(Ze),m=E(Fe);let l,u,y,p,x;const T=($,_,P)=>{const A=$&&$.innerHTML;if(!_){P&&x&&i()&&d(A);return}const{listeners:W}=le(r.attrs);x&&u(x,W);const{options:ue}=fe(o),z=ee(o,ze,ue);A&&(z.html=A),x=z.html?y(z):p(z),l(x,W),m(x)},w=()=>{H(()=>T(s.value,!0,!1))},M=()=>{H(()=>T(s.value,!1,!0))},G={setIconUrl:w,setIconRetinaUrl:w,setIconSize:w,setIconAnchor:w,setPopupAnchor:w,setTooltipAnchor:w,setShadowUrl:w,setShadowRetinaUrl:w,setShadowAnchor:w,setBgPos:w,setClassName:w,setHtml:w};return K(async()=>{const{DomEvent:$,divIcon:_,icon:P}=n?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);l=$.on,u=$.off,y=_,p=P,Q(G,{},o),new MutationObserver(M).observe(s.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),w()}),{root:s}},render(){const o=this.$slots.default?this.$slots.default():void 0;return se("div",{ref:"root"},o)}});({...ie});function et(o,r,s){var n,i,d;r===void 0&&(r=50),s===void 0&&(s={});var m=(n=s.isImmediate)!=null&&n,l=(i=s.callback)!=null&&i,u=s.maxWait,y=Date.now(),p=[];function x(){if(u!==void 0){var w=Date.now()-y;if(w+r>=u)return u-w}return r}var T=function(){var w=[].slice.call(arguments),M=this;return new Promise(function(G,$){var _=m&&d===void 0;if(d!==void 0&&clearTimeout(d),d=setTimeout(function(){if(d=void 0,y=Date.now(),!m){var A=o.apply(M,w);l&&l(A),p.forEach(function(W){return(0,W.resolve)(A)}),p=[]}},x()),_){var P=o.apply(M,w);return l&&l(P),G(P)}p.push({resolve:G,reject:$})})};return T.cancel=function(w){d!==void 0&&clearTimeout(d),p.forEach(function(M){return(0,M.reject)(w)}),p=[]},T}const Ue={...ge,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},jt=J({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:Ue,setup(o,r){const s=O(),n=lt({ready:!1,layersToAdd:[],layersInControl:[]}),{options:i}=fe(o),d=ee(o,Ue,i),{listeners:m,attrs:l}=le(r.attrs),u=he(pe),y=he(Ve),p=he(Ae),x=he(bt);F(te,o.useGlobalLeaflet);const T=N(()=>{const _={};return o.noBlockingAnimations&&(_.animate=!1),_}),w=N(()=>{const _=T.value;return o.padding&&(_.padding=o.padding),o.paddingTopLeft&&(_.paddingTopLeft=o.paddingTopLeft),o.paddingBottomRight&&(_.paddingBottomRight=o.paddingBottomRight),_}),M={moveend:et(_=>{n.leafletRef&&(r.emit("update:zoom",n.leafletRef.getZoom()),r.emit("update:center",n.leafletRef.getCenter()),r.emit("update:bounds",n.leafletRef.getBounds()))}),overlayadd(_){const P=n.layersInControl.find(A=>A.name===_.name);P&&P.updateVisibleProp(!0)},overlayremove(_){const P=n.layersInControl.find(A=>A.name===_.name);P&&P.updateVisibleProp(!1)}};K(async()=>{o.useGlobalLeaflet&&(q.L=q.L||await U(()=>import("./leaflet-src-CxCDpOJj.js").then(f=>f.l),__vite__mapDeps([0,1,2])));const{map:_,CRS:P,Icon:A,latLngBounds:W,latLng:ue,stamp:z}=o.useGlobalLeaflet?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{d.beforeMapMount&&await d.beforeMapMount()}catch(f){console.error(`The following error occurred running the provided beforeMapMount hook ${f.message}`)}await yt(A);const ve=typeof d.crs=="string"?P[d.crs]:d.crs;d.crs=ve||P.EPSG3857;const oe={addLayer(f){f.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd.push(f):n.layersInControl.find(R=>z(R.leafletObject)===z(f.leafletObject))||(n.layerControl.addLayer(f),n.layersInControl.push(f))),f.visible!==!1&&n.leafletRef.addLayer(f.leafletObject)},removeLayer(f){f.layerType!==void 0&&(n.layerControl===void 0?n.layersToAdd=n.layersToAdd.filter(R=>R.name!==f.name):(n.layerControl.removeLayer(f.leafletObject),n.layersInControl=n.layersInControl.filter(R=>z(R.leafletObject)!==z(f.leafletObject)))),n.leafletRef.removeLayer(f.leafletObject)},registerLayerControl(f){n.layerControl=f,n.layersToAdd.forEach(R=>{n.layerControl.addLayer(R)}),n.layersToAdd=[],p(f)},registerControl(f){n.leafletRef.addControl(f.leafletObject)},setZoom(f){const R=n.leafletRef.getZoom();f!==R&&n.leafletRef.setZoom(f,T.value)},setCrs(f){const R=n.leafletRef.getBounds();n.leafletRef.options.crs=f,n.leafletRef.fitBounds(R,{animate:!1,padding:[0,0]})},fitBounds(f){n.leafletRef.fitBounds(f,w.value)},setBounds(f){if(!f)return;const R=W(f);R.isValid()&&!(n.lastSetBounds||n.leafletRef.getBounds()).equals(R,0)&&(n.lastSetBounds=R,n.leafletRef.fitBounds(R))},setCenter(f){if(f==null)return;const R=ue(f),ye=n.lastSetCenter||n.leafletRef.getCenter();(ye.lat!==R.lat||ye.lng!==R.lng)&&(n.lastSetCenter=R,n.leafletRef.panTo(R,T.value))}};we(u,oe.addLayer),we(y,oe.removeLayer),we(p,oe.registerControl),we(x,oe.registerLayerControl),n.leafletRef=ne(_(s.value,d)),Q(oe,n.leafletRef,o),Ne(n.leafletRef,M),Ne(n.leafletRef,m),n.ready=!0,H(()=>r.emit("ready",n.leafletRef))}),Oe(()=>{$e(M),n.leafletRef&&(n.leafletRef.off(),n.leafletRef.remove())});const G=N(()=>n.leafletRef),$=N(()=>n.ready);return{root:s,ready:$,leafletObject:G,attrs:l}},render({attrs:o}){return o.style||(o.style={}),o.style.width||(o.style.width="100%"),o.style.height||(o.style.height="100%"),se("div",{...o,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),Ot=["Symbol(Comment)","Symbol(Text)"],Tt=["LTooltip","LPopup"],tt={...ie,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},At=(o,r,s)=>{const{options:n,methods:i}=We(o,r,s),d=ee(o,tt,n),m={...i,setDraggable(l){r.value.dragging&&(l?r.value.dragging.enable():r.value.dragging.disable())},latLngSync(l){s.emit("update:latLng",l.latlng),s.emit("update:lat-lng",l.latlng)},setLatLng(l){if(l!=null&&r.value){const u=r.value.getLatLng();(!u||!u.equals(l))&&r.value.setLatLng(l)}}};return{options:d,methods:m}},Bt=(o,r)=>{const s=r.slots.default&&r.slots.default();return s&&s.length&&s.some(Pt)};function Pt(o){return!(Ot.includes(o.type.toString())||Tt.includes(o.type.name))}const Dt=J({name:"LMarker",props:tt,setup(o,r){const s=O(),n=O(!1),i=X(te),d=E(pe);F(qe,()=>{var y;return!!((y=s.value)!=null&&y.getElement())}),F(Ze,y=>{var p,x;const T=Y((p=s.value)==null?void 0:p.getElement)&&((x=s.value)==null?void 0:x.getElement());T&&(T.innerHTML=y)}),F(Fe,y=>{var p;return((p=s.value)==null?void 0:p.setIcon)&&s.value.setIcon(y)});const{options:m,methods:l}=At(o,s,r),u={moveHandler:et(l.latLngSync)};return K(async()=>{const{marker:y,divIcon:p}=i?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);Bt(m,r)&&(m.icon=p({className:""})),s.value=ne(y(o.latLng,m));const{listeners:x}=le(r.attrs);s.value.on(x),s.value.on("move",u.moveHandler),Q(l,s.value,o),d({...o,...l,leafletObject:s.value}),n.value=!0,H(()=>r.emit("ready",s.value))}),Oe(()=>$e(u)),{ready:n,leafletObject:s}},render(){return ht(this.ready,this.$slots)}}),Mt={...Ye,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Ee={...Mt},ot={...ge,content:{type:String,default:null}},It=(o,r)=>{const{options:s,methods:n}=fe(o),i={...n,setContent(d){r.value&&d!==null&&d!==void 0&&r.value.setContent(d)}};return{options:s,methods:i}},Nt=o=>o.default?se("div",{ref:"root"},o.default()):null,zt={...ot,latLng:{type:[Object,Array],default:()=>[]}},Ut=(o,r)=>{const{options:s,methods:n}=It(o,r);return{options:s,methods:n}},Et=J({name:"LPopup",props:zt,setup(o,r){const s=O(),n=O(null),i=X(te),d=E(He),m=E(Ge),{options:l,methods:u}=Ut(o,s);return K(async()=>{const{popup:y}=i?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s.value=ne(y(l)),o.latLng!==void 0&&s.value.setLatLng(o.latLng),Q(u,s.value,o);const{listeners:p}=le(r.attrs);s.value.on(p),s.value.setContent(o.content||n.value||""),d(s.value),H(()=>r.emit("ready",s.value))}),Oe(()=>{m()}),{root:n,leafletObject:s}},render(){return Nt(this.$slots)}});({...Ee,latLngs:{...Ee.latLngs}});const Pe={...Be,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:o=>typeof o=="string"?!0:Array.isArray(o)?o.every(r=>typeof r=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},$t=(o,r,s)=>{const{options:n,methods:i}=Qe(o,r,s),d=ee(o,Pe,n),m={...i};return{options:d,methods:m}},Vt=J({props:Pe,setup(o,r){const s=O(),n=X(te),i=E(pe),{options:d,methods:m}=$t(o,s,r);return K(async()=>{const{tileLayer:l}=n?q.L:await U(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s.value=ne(l(o.url,d));const{listeners:u}=le(r.attrs);s.value.on(u),Q(m,s.value,o),i({...o,...m,leafletObject:s.value}),H(()=>r.emit("ready",s.value))}),{leafletObject:s}},render(){return null}});({...ot});({...Pe});const qt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Zt={class:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-300"},Ft={class:"font-semibold"},Ht={key:0,class:"mb-4 p-4 bg-green-50 text-green-800 rounded-lg dark:bg-green-900/20 dark:text-green-200"},Gt={key:1,class:"mb-4 p-4 bg-red-50 text-red-800 rounded-lg dark:bg-red-900/20 dark:text-red-200"},Wt={class:"py-12"},Yt={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Jt={class:"overflow-hidden bg-white shadow-sm sm:rounded-xl dark:bg-gray-800"},Kt={class:"p-6 text-gray-900 dark:text-gray-100"},Xt={class:"mb-8 p-4 bg-white rounded-lg shadow-sm dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},Qt={class:"h-96 rounded-md overflow-hidden relative z-0 border border-gray-200 dark:border-gray-700"},eo={class:"font-medium text-gray-900"},to={key:0,class:"text-xs text-green-600"},oo={key:1,class:"text-xs text-blue-600"},ro={key:2,class:"text-xs text-gray-600"},so={key:0},no={class:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4"},ao={class:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg"},lo={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},io={class:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg"},uo={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},co={class:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg"},mo={class:"mt-1 text-xs text-gray-600 dark:text-gray-400"},po={key:0},go={class:"mb-8 p-4 bg-blue-50 rounded-lg dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800"},fo={class:"mb-4"},vo={class:"flex items-center justify-center overflow-x-auto py-2 px-4"},yo={class:"flex flex-col items-center"},bo={class:"relative"},ko={class:"text-sm font-medium"},xo={key:0,class:"absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2"},ho={class:"mt-2 text-xs font-medium text-center max-w-[80px] truncate"},wo={class:"relative"},_o={label:"Your Route"},Co=["value","disabled"],Lo={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300"},Ro={class:"mt-3 flex justify-end"},So={key:0},jo={key:0,class:"mb-8 p-4 bg-orange-50 rounded-lg dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800"},Oo={key:1,class:"mb-8 p-4 bg-orange-50 rounded-lg dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800"},To={key:1,class:"mb-8 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-100 rounded"},Ao={key:2,class:"space-y-6"},Bo={key:0},Po=["value"],Do={class:"flex justify-end"},Mo={class:"mt-10 space-y-6"},Io={class:"bg-gray-50 dark:bg-gray-700 px-4 py-3 flex justify-between items-center"},No={class:"font-medium text-gray-900 dark:text-white"},zo={class:"flex items-center mt-1 text-xs text-gray-500 dark:text-gray-300"},Uo={class:"inline-flex items-center"},Eo={class:"divide-y divide-gray-200 dark:divide-gray-700"},$o=["onClick"],Vo={class:"flex items-center space-x-4"},qo={class:"font-medium text-gray-900 dark:text-white"},Zo={class:"text-sm text-gray-500 dark:text-gray-400"},Fo={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},Ho={class:"font-semibold"},Go={class:"font-semibold"},Wo={key:0,class:"text-xs text-gray-400 dark:text-gray-500"},Yo={class:"font-semibold"},Jo={class:"font-semibold"},Ko={class:"flex flex-col items-end space-y-1"},Xo={class:"text-xs text-gray-500 dark:text-gray-400"},Qo={class:"p-6"},er={class:"mb-6 space-y-3"},tr={key:0,class:"flex items-start"},or={class:"text-gray-700 dark:text-gray-300"},rr={class:"font-semibold"},sr={key:1,class:"flex items-start"},nr={class:"text-gray-700 dark:text-gray-300"},ar={class:"font-semibold"},lr={key:2,class:"flex items-start"},ir={class:"text-gray-700 dark:text-gray-300"},dr={class:"font-semibold"},ur={class:"font-semibold"},cr={key:3,class:"flex items-start pt-2 mt-2 border-t border-gray-200 dark:border-gray-700"},mr={class:"text-gray-700 dark:text-gray-300"},pr={class:"font-semibold"},gr={key:0,class:"mb-6"},fr={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},vr={key:0,class:"text-gray-500"},yr={class:"flex justify-end space-x-4"},br={class:"p-6"},kr={class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},xr={class:"font-medium"},hr={class:"space-y-4"},wr={class:"flex items-center cursor-pointer select-none"},_r={key:0,class:"ml-6"},Cr={class:"flex items-center cursor-pointer select-none"},Lr={class:"flex justify-end space-x-4 mt-6"},Rr={__name:"UpdateStatus",props:{packages:Array,regions:Array,statusOptions:Object,canReturnToBase:Boolean,hasPendingReturn:Boolean,activeAssignmentId:[Number,String,null],allPackagesFinal:Boolean,routeData:{type:Object,default:()=>({current_region:null,route:[]})}},setup(o){delete xe.Icon.Default.prototype._getIconUrl,xe.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const r=o,s=O(!1),n=O(!1),i=O([]),d=O(null),m=O(r.hasPendingReturn),l=De({package_ids:[],status:"",remarks:"",region_id:""}),u=De({region_id:null,update_packages:!1,only_in_transit:!0}),y=O(null),p=O([13.1399,123.7448]),x=O(11),T=N(()=>{var a;return((a=r.routeData.current_region)==null?void 0:a.id)||null}),w=N(()=>{var e;if(!((e=r.packages)!=null&&e.length))return null;const a=r.packages.reduce((h,I)=>{var V;return(V=I.current_region)!=null&&V.name&&(h[I.current_region.name]=(h[I.current_region.name]||0)+1),h},{});return Object.entries(a).reduce((h,[I,V])=>V>h.count?{name:I,count:V}:h,{name:null,count:0}).name}),M=N(()=>r.routeData.route.map(a=>{if(!a.region||a.region.latitude===void 0||a.region.longitude===void 0)return null;const e=parseFloat(a.region.latitude),h=parseFloat(a.region.longitude);return isNaN(e)||isNaN(h)?null:[e,h]}).filter(a=>a!==null)),G=N(()=>{if(M.value.length<2)return null;try{return xe.latLngBounds(M.value)}catch(a){return console.error("Invalid coordinates for bounds:",a),null}}),$=N(()=>r.routeData.route.reduce((a,e)=>a+(e.estimated_minutes||0),0));N(()=>r.packages.filter(a=>d.value?a.current_region.id===d.value:!0));const _=N(()=>r.packages.filter(a=>i.value.includes(a.id))),P=N(()=>{const a={};return r.packages.filter(h=>!h.is_final_status).forEach(h=>{var V,ce;const I=`${(V=h.deliveryRequest)==null?void 0:V.drop_off_region_id}_${h.current_region.id}`;if(!a[I]){const be=(ce=h.deliveryRequest)!=null&&ce.dropOffRegion?typeof h.deliveryRequest.dropOffRegion=="object"?h.deliveryRequest.dropOffRegion:{name:String(h.deliveryRequest.dropOffRegion)}:{name:"Unknown"};a[I]={destination:be,currentRegion:h.current_region.name,packages:[]}}a[I].packages.push(h)}),Object.values(a)}),A=N(()=>{const a={};return l.status&&(_.value.forEach(e=>{var h;l.region_id&&((h=e.deliveryRequest)==null?void 0:h.drop_off_region_id)==l.region_id?a.delivered=(a.delivered||0)+1:l.region_id&&typeof e.shouldMarkAsReturn=="function"&&e.shouldMarkAsReturn(l.region_id)?a.returned=(a.returned||0)+1:a[l.status]=(a[l.status]||0)+1}),a.manual=_.value.length-(a.delivered+a.returned||0)),a}),W=()=>{var a;(a=y.value)!=null&&a.leafletObject&&M.value.length>0&&y.value.leafletObject.flyTo(p.value,x.value)},ue=(a,e)=>ve(a.region.id)?z("bg-green-500",e):a.region.id===T.value?z("bg-blue-500",e):z("bg-gray-500",e),z=(a,e)=>xe.divIcon({html:`<div class="w-8 h-8 rounded-full ${a} border-2 border-white flex items-center justify-center text-white font-bold">${e+1}</div>`,className:"",iconSize:[32,32],iconAnchor:[16,16]}),ve=a=>r.packages.some(e=>{var h;return((h=e.deliveryRequest)==null?void 0:h.drop_off_region_id)===a}),oe=N(()=>{var a;return((a=r.routeData.route)==null?void 0:a.filter(e=>{if(!(e!=null&&e.region))return!1;const h=Number(e.region.latitude),I=Number(e.region.longitude);return!isNaN(h)&&!isNaN(I)}))||[]}),f=a=>{const e="px-2 py-1 text-xs rounded-full";switch(a){case"loaded":return`${e} bg-blue-100 text-blue-800`;case"in_transit":return`${e} bg-yellow-100 text-yellow-800`;case"delivered":return`${e} bg-green-100 text-green-800`;case"returned":return`${e} bg-red-100 text-red-800`;default:return`${e} bg-gray-100 text-gray-800`}},R=a=>{const e=i.value.indexOf(a);e===-1?i.value.push(a):i.value.splice(e,1)},ye=()=>{if(i.value.length===0){l.errors.package_ids="Please select at least one package";return}if(!l.status){l.errors.status="Please select a status";return}l.package_ids=i.value,s.value=!0},rt=()=>{if(!u.region_id){u.errors.region_id="Please select a location";return}n.value=!0},st=()=>{l.post(route("driver.bulk-update-status"),{preserveScroll:!0,onSuccess:()=>{s.value=!1,i.value=[],l.reset("status","remarks")}})},nt=()=>{u.post(route("driver.update-region"),{preserveScroll:!0,onSuccess:()=>{n.value=!1,u.reset()}})},at=()=>{r.activeAssignmentId&&Re.post(route("driver-truck-assignments.confirm-return",{assignment:r.activeAssignmentId}),{},{preserveScroll:!0,onSuccess:()=>{m.value=!0,Re.reload()}})};return _e(M,a=>{var e;a.length>0&&(p.value=a[0],x.value=a.length>1?9:11,(e=y.value)!=null&&e.leafletObject&&y.value.leafletObject.flyTo(p.value,x.value))},{immediate:!0}),_e(()=>r.hasPendingReturn,a=>{m.value=a}),(a,e)=>(g(),v(Z,null,[S(b(dt),{title:"Update Package Status"}),S(pt,null,{header:D(()=>[t("div",qt,[t("div",null,[e[15]||(e[15]=t("h2",{class:"text-2xl font-bold leading-tight text-gray-900 dark:text-gray-100"}," Update Package Status ",-1)),t("div",Zt,[e[14]||(e[14]=t("svg",{class:"h-4 w-4 mr-1 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 11c1.104 0 2-.896 2-2s-.896-2-2-2-2 .896-2 2 .896 2 2 2zm0 0c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"})],-1)),t("span",null,[e[13]||(e[13]=C("Current Location: ")),t("span",Ft,k(w.value),1)])])]),S(Se,{onClick:e[0]||(e[0]=h=>b(Re).visit(a.route("driver.dashboard"))),class:"ml-0 sm:ml-4 mt-3 sm:mt-0"},{default:D(()=>e[16]||(e[16]=[t("svg",{class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 10h2l.4 2M7 13h10l4-8H5.4"})],-1),C(" Back to Dashboard ")])),_:1})])]),default:D(()=>{var h,I,V,ce,be;return[(h=a.$page.props.flash)!=null&&h.success?(g(),v("div",Ht,k(a.$page.props.flash.success),1)):B("",!0),(I=a.$page.props.flash)!=null&&I.error?(g(),v("div",Gt,k(a.$page.props.flash.error),1)):B("",!0),t("div",Wt,[t("div",Yt,[t("div",Jt,[t("div",Kt,[t("div",Xt,[e[20]||(e[20]=t("div",{class:"flex items-center gap-2 mb-4"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})]),t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"}," Delivery Route Map ")],-1)),t("div",Qt,[S(b(jt),{ref_key:"mapRef",ref:y,zoom:x.value,center:p.value,bounds:G.value,options:{zoomControl:!1},onReady:W},{default:D(()=>[S(b(Vt),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(g(!0),v(Z,null,re(oe.value,(c,L)=>{var j;return g(),ut(b(Dt),{key:`route-step-${L}-${((j=c.region)==null?void 0:j.id)||"undefined"}`,"lat-lng":[Number(c.region.latitude),Number(c.region.longitude)],icon:ue(c,L)},{default:D(()=>[S(b(Et),null,{default:D(()=>{var me;return[t("div",eo,k(((me=c.region)==null?void 0:me.name)||"Unknown"),1),ve(c.region.id)?(g(),v("div",to," Delivery Destination ")):c.region.id===T.value?(g(),v("div",oo," Current Location ")):(g(),v("div",ro,[C(" Stop "+k(L+1)+" ",1),c.estimated_minutes>0?(g(),v("span",so," • ETA: "+k(c.estimated_minutes)+" mins ",1)):B("",!0)]))]}),_:2},1024)]),_:2},1032,["lat-lng","icon"])}),128)),S(b(Rt),{position:"topright"})]),_:1},8,["zoom","center","bounds"])]),t("div",no,[t("div",ao,[e[17]||(e[17]=t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Route Stops")],-1)),t("div",lo,k(o.routeData.route.length)+" stops total ",1)]),t("div",io,[e[18]||(e[18]=t("div",{class:"flex items-center"},[t("svg",{class:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Estimated Time")],-1)),t("div",uo," Total: "+k($.value)+" minutes ",1)]),t("div",co,[e[19]||(e[19]=t("div",{class:"flex items-center"},[t("svg",{class:"w-4 h-4 text-purple-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Next Stop")],-1)),t("div",mo,[C(k(((ce=(V=o.routeData.route[1])==null?void 0:V.region)==null?void 0:ce.name)||"None")+" ",1),(be=o.routeData.route[1])!=null&&be.estimated_minutes?(g(),v("span",po,"("+k(o.routeData.route[1].estimated_minutes)+" mins)",1)):B("",!0)])])])]),t("div",go,[e[24]||(e[24]=t("div",{class:"flex items-center gap-2 mb-4"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),t("h3",{class:"text-base font-semibold text-blue-800 dark:text-blue-200"}," Your Delivery Route ")],-1)),t("div",fo,[t("div",vo,[(g(!0),v(Z,null,re(o.routeData.route,(c,L)=>(g(),v("div",{key:L,class:"flex items-center"},[t("div",yo,[t("div",bo,[t("div",{class:Ce(["w-10 h-10 rounded-full flex items-center justify-center border-2",c.region.id===T.value?"bg-blue-100 border-blue-500":L<o.routeData.route.findIndex(j=>j.region.id===T.value)?"bg-gray-100 border-gray-300":"bg-white border-gray-300 dark:bg-gray-700 dark:border-gray-500",b(u).region_id===c.region.id?"ring-2 ring-blue-400":""])},[t("span",ko,k(L+1),1)],2),L<o.routeData.route.length-1?(g(),v("div",xo,e[21]||(e[21]=[t("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):B("",!0)]),t("span",ho,k(c.region.name),1)])]))),128))])]),t("div",wo,[ke(t("select",{"onUpdate:modelValue":e[1]||(e[1]=c=>b(u).region_id=c),class:"block w-full px-4 py-3 pr-10 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[e[22]||(e[22]=t("option",{value:""},"Select your current location",-1)),t("optgroup",_o,[(g(!0),v(Z,null,re(o.routeData.route,c=>(g(),v("option",{key:c.region.id,value:c.region.id,disabled:c.region.id===T.value},[C(k(c.region.name)+" ",1),c.region.id===T.value?(g(),v(Z,{key:0},[C("(Current)")],64)):B("",!0)],8,Co))),128))])],512),[[Le,b(u).region_id]]),t("div",Lo,[S(b(ft),{class:"h-5 w-5"})])]),t("div",Ro,[S(ae,{onClick:rt,disabled:!b(u).region_id,class:"w-full sm:w-auto"},{default:D(()=>e[23]||(e[23]=[C(" Update Location ")])),_:1},8,["disabled"])])]),o.allPackagesFinal&&o.activeAssignmentId?(g(),v("div",So,[m.value?(g(),v("div",Oo,[e[29]||(e[29]=t("div",{class:"flex items-center gap-2 mb-2"},[t("svg",{class:"h-5 w-5 text-orange-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("h3",{class:"text-base font-semibold text-orange-800 dark:text-orange-200"}," Complete Trip ")],-1)),e[30]||(e[30]=t("p",{class:"text-sm text-orange-700 dark:text-orange-300 mb-3"}," Your return to base is pending verification by staff. ",-1)),S(ae,{disabled:"",class:"w-full opacity-60 cursor-not-allowed"},{default:D(()=>e[28]||(e[28]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),C(" Return Pending Verification ")])),_:1})])):(g(),v("div",jo,[e[26]||(e[26]=t("div",{class:"flex items-center gap-2 mb-2"},[t("svg",{class:"h-5 w-5 text-orange-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("h3",{class:"text-base font-semibold text-orange-800 dark:text-orange-200"}," Complete Trip ")],-1)),e[27]||(e[27]=t("p",{class:"text-sm text-orange-700 dark:text-orange-300 mb-3"}," Mark yourself as returned to your home base. ",-1)),S(ae,{onClick:at,disabled:!o.activeAssignmentId,class:"w-full"},{default:D(()=>e[25]||(e[25]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),C(" Confirm Return to Base ")])),_:1},8,["disabled"])]))])):B("",!0),o.allPackagesFinal?(g(),v("div",To,e[31]||(e[31]=[t("strong",null,"Reminder:",-1),C(" All your assigned packages have been delivered. Your truck status will automatically update to "),t("span",{class:"font-semibold"},"Returning",-1),C(". ")]))):B("",!0),i.value.length>0?(g(),v("div",Ao,[t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Update Status ",-1)),ke(t("select",{"onUpdate:modelValue":e[2]||(e[2]=c=>b(l).status=c),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},e[32]||(e[32]=[t("option",{value:""},"Select Status",-1),t("option",{value:"in_transit"},"In Transit",-1),t("option",{value:"delivered"},"Delivered",-1),t("option",{value:"returned"},"Returned to Sender Branch",-1)]),512),[[Le,b(l).status]]),S(Ie,{message:b(l).errors.status,class:"mt-1"},null,8,["message"]),e[34]||(e[34]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Choose the new status for the selected packages. ",-1))]),b(l).status==="in_transit"||b(l).status==="delivered"?(g(),v("div",Bo,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Destination Region ",-1)),ke(t("select",{"onUpdate:modelValue":e[3]||(e[3]=c=>b(l).region_id=c),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[e[35]||(e[35]=t("option",{value:""},"Select Destination",-1)),(g(!0),v(Z,null,re(o.regions,c=>(g(),v("option",{key:c.id,value:c.id},k(c.name),9,Po))),128))],512),[[Le,b(l).region_id]]),S(Ie,{message:b(l).errors.region_id,class:"mt-1"},null,8,["message"]),e[37]||(e[37]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Select the region you are delivering to or passing through. ",-1))])):B("",!0),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Remarks ",-1)),ke(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=c=>b(l).remarks=c),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Optional notes about this status update"},null,512),[[ct,b(l).remarks]]),e[39]||(e[39]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Add any additional notes for this update (optional). ",-1))]),t("div",Do,[S(ae,{onClick:ye},{default:D(()=>e[40]||(e[40]=[C(" Update Status ")])),_:1})])])):B("",!0),t("div",Mo,[(g(!0),v(Z,null,re(P.value,(c,L)=>(g(),v("div",{key:L,class:"border rounded-lg mb-6"},[t("div",Io,[t("div",null,[t("h3",No," To: "+k(c.destination.name),1),t("div",zo,[t("span",Uo,[e[41]||(e[41]=t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),C(" Current: "+k(c.currentRegion),1)]),e[42]||(e[42]=t("span",{class:"mx-2"},"•",-1)),t("span",null,k(c.packages.length)+" package(s)",1)])])]),t("div",Eo,[(g(!0),v(Z,null,re(c.packages,j=>(g(),v("div",{key:j.id,class:Ce(["flex items-center justify-between p-4 hover:bg-blue-50 dark:hover:bg-blue-900/30 cursor-pointer transition",{"border-blue-200 bg-blue-50 dark:bg-blue-900/30":i.value.includes(j.id),"border-gray-200 dark:border-gray-700":!i.value.includes(j.id)}]),onClick:me=>R(j.id)},[t("div",Vo,[S(je,{checked:i.value,"onUpdate:checked":e[5]||(e[5]=me=>i.value=me),value:j.id,onClick:e[6]||(e[6]=mt(()=>{},["stop"]))},null,8,["checked","value"]),t("div",null,[t("div",qo,k(j.item_code),1),t("div",Zo,k(j.item_name),1),t("div",Fo,[e[43]||(e[43]=C(" Status: ")),t("span",Ho,k(o.statusOptions[j.status]||j.status),1),e[44]||(e[44]=t("span",{class:"mx-2"},"|",-1)),e[45]||(e[45]=C(" Current Region: ")),t("span",Go,k(j.current_region.name),1)]),j.deliveryRequest?(g(),v("div",Wo,[e[46]||(e[46]=C(" Destination: ")),t("span",Yo,k(j.deliveryRequest.dropOffRegion),1),e[47]||(e[47]=t("span",{class:"mx-2"},"|",-1)),e[48]||(e[48]=C(" Pickup: ")),t("span",Jo,k(j.deliveryRequest.pickUpRegion),1)])):B("",!0)])]),t("div",Ko,[t("span",{class:Ce(f(j.status))},k(o.statusOptions[j.status]||j.status),3),t("span",Xo," Code: "+k(j.item_code),1)])],10,$o))),128))])]))),128))])])])])]),S(Me,{show:s.value,onClose:e[8]||(e[8]=c=>s.value=!1)},{default:D(()=>{var c;return[t("div",Qo,[e[63]||(e[63]=t("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Update Summary ",-1)),t("div",er,[A.value.delivered>0?(g(),v("div",tr,[e[52]||(e[52]=t("svg",{class:"h-5 w-5 text-green-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("p",or,[t("span",rr,k(A.value.delivered),1),e[49]||(e[49]=C(" package(s) will be automatically marked as ")),e[50]||(e[50]=t("span",{class:"font-semibold"},"Delivered",-1)),e[51]||(e[51]=C(" at destination "))])])):B("",!0),A.value.returned>0?(g(),v("div",sr,[e[55]||(e[55]=t("svg",{class:"h-5 w-5 text-red-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),t("p",nr,[t("span",ar,k(A.value.returned),1),e[53]||(e[53]=C(" package(s) will be automatically marked as ")),e[54]||(e[54]=t("span",{class:"font-semibold"},"Returned",-1))])])):B("",!0),A.value.manual>0?(g(),v("div",lr,[e[57]||(e[57]=t("svg",{class:"h-5 w-5 text-blue-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",ir,[t("span",dr,k(A.value.manual),1),e[56]||(e[56]=C(" package(s) will be updated to ")),t("span",ur,k(o.statusOptions[b(l).status]||b(l).status),1)])])):B("",!0),b(l).region_id?(g(),v("div",cr,[e[59]||(e[59]=t("svg",{class:"h-5 w-5 text-gray-500 mt-0.5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),t("p",mr,[e[58]||(e[58]=C(" Driver location will be set to ")),t("span",pr,k(((c=o.regions.find(L=>L.id==b(l).region_id))==null?void 0:c.name)||""),1)])])):B("",!0)]),_.value.length>0?(g(),v("div",gr,[e[60]||(e[60]=t("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Selected Packages: ",-1)),t("ul",fr,[(g(!0),v(Z,null,re(_.value.slice(0,5),L=>(g(),v("li",{key:L.id},k(L.item_code)+" - "+k(L.item_name),1))),128)),_.value.length>5?(g(),v("li",vr," + "+k(_.value.length-5)+" more... ",1)):B("",!0)])])):B("",!0),t("div",yr,[S(Se,{onClick:e[7]||(e[7]=L=>s.value=!1)},{default:D(()=>e[61]||(e[61]=[C(" Cancel ")])),_:1}),S(ae,{onClick:st,disabled:b(l).processing},{default:D(()=>e[62]||(e[62]=[C(" Confirm Update ")])),_:1},8,["disabled"])])])]}),_:1},8,["show"]),S(Me,{show:n.value,onClose:e[12]||(e[12]=c=>n.value=!1)},{default:D(()=>{var c;return[t("div",br,[e[71]||(e[71]=t("div",{class:"flex items-center gap-2 mb-2"},[t("svg",{class:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Update Your Location ")],-1)),t("p",kr,[e[64]||(e[64]=C(" You are about to update your current location in the system. This helps the logistics team and system track your progress and route. ")),e[65]||(e[65]=t("br",null,null,-1)),e[66]||(e[66]=t("span",{class:"font-semibold text-blue-700 dark:text-blue-300"}," New Location: ",-1)),t("span",xr,k(((c=o.regions.find(L=>L.id===b(u).region_id))==null?void 0:c.name)||"Not selected"),1)]),t("div",hr,[t("label",wr,[S(je,{modelValue:b(u).update_packages,"onUpdate:modelValue":e[9]||(e[9]=L=>b(u).update_packages=L),checked:b(u).update_packages,class:"mr-2"},null,8,["modelValue","checked"]),e[67]||(e[67]=t("span",{class:"text-sm text-gray-700 dark:text-gray-300"}," Also update my packages to this location ",-1))]),b(u).update_packages?(g(),v("div",_r,[t("label",Cr,[S(je,{modelValue:b(u).only_in_transit,"onUpdate:modelValue":e[10]||(e[10]=L=>b(u).only_in_transit=L),checked:b(u).only_in_transit,class:"mr-2"},null,8,["modelValue","checked"]),e[68]||(e[68]=t("span",{class:"text-sm text-gray-700 dark:text-gray-300"},' Only update packages that are "In Transit" ',-1))])])):B("",!0)]),t("div",Lr,[S(Se,{onClick:e[11]||(e[11]=L=>n.value=!1)},{default:D(()=>e[69]||(e[69]=[C(" Cancel ")])),_:1}),S(ae,{onClick:nt},{default:D(()=>e[70]||(e[70]=[C(" Confirm Update ")])),_:1})])])]}),_:1},8,["show"])]}),_:1})],64))}},Ur=gt(Rr,[["__scopeId","data-v-efcebaee"]]);export{Ur as default};
