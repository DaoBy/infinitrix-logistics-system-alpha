import{E as L}from"./EmployeeLayout-CgMY_n5V.js";import{g as U,d as j,o as n,w as r,b as e,a as d,t as s,f as i,c as o,e as m,ad as F,a4 as M,a5 as O,a6 as W,a7 as $,ae as z,u as G,P as H,W as J}from"./app-BllHWhcy.js";import{D as B}from"./DangerButton-B7_oj2jq.js";import{_ as K}from"./SecondaryButton-f4DzqSLc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BG8uMyS8.js";const Q={class:"flex justify-between items-center px-6"},X={class:"flex space-x-2"},Y={class:"px-2 md:px-6 py-4 max-w-5xl mx-auto"},Z={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 mb-6"},ee={class:"flex flex-col md:flex-row md:items-center md:justify-between p-4 bg-indigo-50 dark:bg-indigo-900 border-b border-gray-200 dark:border-gray-700"},te={class:"flex items-center gap-2"},ae={class:"text-lg font-bold text-indigo-900 dark:text-indigo-100 tracking-wide"},se={class:"mt-1 text-xs text-gray-500 dark:text-gray-300"},re={key:0},de={class:"mt-3 md:mt-0 flex items-center gap-2"},ne={class:"font-medium text-gray-900 dark:text-gray-100"},le={class:"p-4 md:p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"},oe={class:"bg-gray-50 dark:bg-gray-700/50 p-3 md:p-4 rounded-lg flex flex-col gap-1"},ye={class:"font-medium truncate"},me={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},ge={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},ue={class:"bg-gray-50 dark:bg-gray-700/50 p-3 md:p-4 rounded-lg flex flex-col gap-1"},xe={class:"font-medium truncate"},ce={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},fe={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},be={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 mb-6"},pe={class:"p-4 md:p-6"},ve={class:"space-y-4"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"flex justify-between mb-2"},he={class:"capitalize font-medium"},_e={class:"flex justify-between mb-2"},De={class:"font-medium"},Ce={class:"flex justify-between mb-2"},Ve={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"},qe={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100"},Ne={class:"flex justify-between mb-2"},Ae={class:"flex justify-between mb-2"},Se={key:0,class:"flex justify-between mb-2"},je={key:0},Be=["src"],Pe={key:0},Te={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded"},Re={class:"whitespace-pre-line text-gray-900 dark:text-gray-100"},Oe={__name:"Show",props:{payment:Object},setup(a){const P=a,y=U(!1),T=()=>{y.value=!0},R=()=>{J.delete(route("collector.payments.destroy",P.payment.id),{onSuccess:()=>{y.value=!1}})};function E(l){if(!l)return"N/A";try{return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}function I(l){if(!l)return"N/A";try{return new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}}return(l,t)=>(n(),j(L,null,{header:r(()=>[e("div",Q,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"}," Payment Details ",-1)),e("div",X,[a.payment.verified_by?m("",!0):(n(),j(B,{key:0,onClick:T,class:"!px-4 !py-2 !text-xs"},{default:r(()=>t[2]||(t[2]=[i(" Delete ")])),_:1})),d(G(H),{href:l.route("collector.payments.index"),class:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"},{default:r(()=>t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),i(" Back to collections ")])),_:1},8,["href"])])])]),default:r(()=>{var g,u,x,c,f,b,p,v,k,w,h,_,D,C,V,q,N,A;return[e("div",Y,[e("div",Z,[e("div",ee,[e("div",null,[e("div",te,[t[5]||(t[5]=e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-indigo-100 text-indigo-800 dark:bg-indigo-800 dark:text-indigo-100"}," Reference # ",-1)),e("span",ae,s(((g=a.payment.delivery_request)==null?void 0:g.reference_number)||"DR-"+String(a.payment.delivery_request_id).padStart(6,"0")),1)]),e("div",se,[i(" Delivery ID: DO-"+s(String(a.payment.delivery_request_id).padStart(6,"0"))+" ",1),(u=a.payment.delivery_request)!=null&&u.created_at?(n(),o("span",re," | Created: "+s(E(a.payment.delivery_request.created_at)),1)):m("",!0)])]),e("div",de,[e("span",ne," ₱"+s(((x=a.payment.delivery_request)==null?void 0:x.total_price)!==void 0&&((c=a.payment.delivery_request)==null?void 0:c.total_price)!==null?Number(a.payment.delivery_request.total_price).toFixed(2):"0.00"),1),t[6]||(t[6]=e("span",{class:"text-xs text-gray-500 dark:text-gray-300"},"Total Amount",-1))])]),e("div",le,[e("div",ie,[e("div",oe,[t[7]||(t[7]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-2"},"Sender",-1)),e("p",ye,s(((b=(f=a.payment.delivery_request)==null?void 0:f.sender)==null?void 0:b.name)||"N/A"),1),e("p",me,s(((v=(p=a.payment.delivery_request)==null?void 0:p.sender)==null?void 0:v.email)||""),1),e("p",ge,s(((w=(k=a.payment.delivery_request)==null?void 0:k.sender)==null?void 0:w.mobile)||""),1)]),e("div",ue,[t[8]||(t[8]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-2"},"Receiver",-1)),e("p",xe,s(((_=(h=a.payment.delivery_request)==null?void 0:h.receiver)==null?void 0:_.name)||"N/A"),1),e("p",ce,s(((C=(D=a.payment.delivery_request)==null?void 0:D.receiver)==null?void 0:C.email)||""),1),e("p",fe,s(((q=(V=a.payment.delivery_request)==null?void 0:V.receiver)==null?void 0:q.mobile)||""),1)])])])]),e("div",be,[t[17]||(t[17]=e("div",{class:"p-3 md:p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100"}," Collection Details ")],-1)),e("div",pe,[e("div",ve,[e("div",ke,[e("div",null,[e("div",we,[t[9]||(t[9]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Payment Method:",-1)),e("span",he,s(a.payment.method),1)]),e("div",_e,[t[10]||(t[10]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Amount Collected:",-1)),e("span",De,"₱"+s(Number(a.payment.amount).toFixed(2)),1)]),e("div",Ce,[t[11]||(t[11]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Status:",-1)),e("span",null,[a.payment.verified_by?(n(),o("span",Ve,"Verified")):(n(),o("span",qe,"Pending Verification"))])]),e("div",Ne,[t[12]||(t[12]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Collected By:",-1)),e("span",null,s(((N=a.payment.collected_by)==null?void 0:N.name)||"N/A"),1)]),e("div",Ae,[t[13]||(t[13]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Collected At:",-1)),e("span",null,s(a.payment.collected_at?I(a.payment.collected_at):"N/A"),1)]),a.payment.verified_by?(n(),o("div",Se,[t[14]||(t[14]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Verified By:",-1)),e("span",null,s(((A=a.payment.verified_by)==null?void 0:A.name)||"N/A"),1)])):m("",!0)]),a.payment.receipt_image?(n(),o("div",je,[e("div",null,[t[15]||(t[15]=e("span",{class:"block text-gray-600 dark:text-gray-400 mb-1"},"Receipt:",-1)),e("img",{src:"/storage/"+a.payment.receipt_image,alt:"Payment receipt",class:"max-w-full h-auto rounded border border-gray-200 dark:border-gray-700"},null,8,Be)])])):m("",!0)]),a.payment.notes?(n(),o("div",Pe,[t[16]||(t[16]=e("span",{class:"block text-gray-600 dark:text-gray-400 mb-1"},"Notes:",-1)),e("div",Te,[e("p",Re,s(a.payment.notes),1)])])):m("",!0)])])])]),d(F,{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=S=>y.value=S),"max-width":"500"},{default:r(()=>[d(M,null,{default:r(()=>[d(O,null,{default:r(()=>t[18]||(t[18]=[i("Confirm Deletion")])),_:1}),d(W,null,{default:r(()=>t[19]||(t[19]=[i(" Are you sure you want to delete this payment record? This action cannot be undone. ")])),_:1}),d($,null,{default:r(()=>[d(z),d(K,{type:"button",onClick:t[0]||(t[0]=S=>y.value=!1)},{default:r(()=>t[20]||(t[20]=[i(" Cancel ")])),_:1}),d(B,{type:"button",onClick:R},{default:r(()=>t[21]||(t[21]=[i(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1}))}};export{Oe as default};
