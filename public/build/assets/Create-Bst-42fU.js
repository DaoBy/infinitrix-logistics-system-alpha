import{C as F,g as k,i as v,h as T,d as U,o as n,w as y,b as e,c as i,e as c,f as d,t as o,F as h,r as w,s as D,v as _,a as m,n as L,u as l,L as R,a1 as $,W as z}from"./app-BOCrhSfO.js";import{_ as I}from"./GuestLayout-Bmew_7hi.js";import{T as C}from"./TextInput-fgBIPllX.js";import{_ as N}from"./TextArea-B3xnA6tu.js";import{_ as x}from"./InputError-D12BKN4o.js";import{_ as A}from"./PrimaryButton-7U4Qu6md.js";import{_ as G}from"./SecondaryButton-BoCxbQ9w.js";import{L as E}from"./LoadingSpinner-DWMtaHSd.js";import{r as O}from"./InformationCircleIcon-DPlpC7PP.js";import"./NavLink-DsrNUkqS.js";import"./NavBar-ByZU6fph.js";import"./DropdownLink-vABlD6WO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./XCircleIcon-Cn1mNIqH.js";import"./CheckCircleIcon-Dbb38Iy-.js";import"./ExclamationTriangleIcon-bsFJTzra.js";import"./TruckIcon-D8KGEWsD.js";/* empty css                                                                  */const Q={class:"flex justify-between items-center px-4 sm:px-6"},W={class:"min-w-0 flex-1"},H={class:"text-lg sm:text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200 truncate"},Y={class:"mt-1 text-sm text-gray-600 dark:text-gray-400 hidden sm:block"},q={class:"px-4 md:px-6 py-4 max-w-7xl mx-auto"},X={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},J={class:"lg:col-span-2 space-y-6"},K={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},Z={class:"p-4 md:p-6"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6"},te={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},se={class:"space-y-2"},re={class:"font-medium text-gray-900 dark:text-gray-100"},le={class:"text-sm text-gray-600 dark:text-gray-400"},oe={class:"text-sm text-gray-600 dark:text-gray-400"},ae={class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},ne={class:"space-y-2"},ie={class:"font-medium text-gray-900 dark:text-gray-100"},de={class:"text-sm text-gray-600 dark:text-gray-400"},me={class:"text-sm text-gray-600 dark:text-gray-400"},ue={class:"mb-6"},ge={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"},be={class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},ce={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm text-gray-600 dark:text-gray-400"},pe={class:"flex items-center gap-1"},ye={class:"flex items-center gap-1"},xe={class:"flex items-center gap-1"},fe={class:"flex justify-between items-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"},ke={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},ve={key:0,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},he={class:"p-4 md:p-6"},we={class:"flex flex-col md:flex-row gap-6"},_e={class:"flex-1"},Ce={key:0,class:"space-y-4"},Me={class:"list-decimal list-inside space-y-3 text-sm text-blue-800 dark:text-blue-300"},je={key:1,class:"space-y-4"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ve={class:"space-y-3 text-sm text-blue-800 dark:text-blue-300"},Pe={class:"flex justify-between items-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},Se={class:"font-bold"},Fe={class:"flex justify-between items-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},Te={class:"font-mono"},Ue={key:0,class:"flex flex-col items-center justify-center"},De={class:"lg:col-span-1"},Le={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 sticky top-6"},Re={class:"p-4"},$e={class:"space-y-4"},ze={class:"space-y-2"},Ie=["onClick"],Ne={class:"flex items-center"},Ae=["id","value","onUpdate:modelValue"],Ge=["for"],Ee={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3"},Oe={class:"flex items-start"},Qe={class:"text-yellow-800 dark:text-yellow-300 text-sm"},We={key:1},He={key:0,class:"mt-3"},Ye={class:"relative inline-block"},qe=["src"],Xe={class:"pt-2"},Je={key:0},Ke={key:1,class:"flex items-center gap-2"},xt={__name:"Create",props:{delivery:Object,paymentMethods:Array,paymentType:{type:String,default:"prepaid"}},setup(a){const f=a,s=F({method:"",reference_number:"",amount:parseFloat(f.delivery.total_price),receipt_image:null,notes:""}),b=k(""),g=k(null),M=v(()=>b.value&&b.value!=="cash"),j=v(()=>s.method&&(s.method==="cash"||s.reference_number)&&s.receipt_image);T(()=>s.method,u=>{b.value=u});const B=u=>{const t=u.target.files[0];if(s.receipt_image=t,t){const r=new FileReader;r.onload=p=>{g.value=p.target.result},r.readAsDataURL(t)}else g.value=null},V=()=>{g.value=null,s.receipt_image=null;const u=document.getElementById("receipt_image");u&&(u.value="")},P=u=>{window.open(u,"_blank")},S=()=>{s.post(route("customer.payments.store",f.delivery.id),{forceFormData:!0,onSuccess:()=>{s.reset(),g.value=null}})};return(u,t)=>(n(),U(I,null,{header:y(()=>[e("div",Q,[e("div",W,[e("h2",H,o(a.paymentType==="postpaid"?"Settle Postpaid Payment":"Make Payment")+" - "+o(a.delivery.reference_number),1),e("p",Y,o(a.paymentType==="postpaid"?"Your delivery is complete. Please settle your payment online.":"Complete your payment for this delivery"),1)]),m(G,{onClick:t[0]||(t[0]=r=>l(z).visit(u.route("customer.delivery-requests.show",a.delivery.id))),class:"inline-flex items-center text-sm whitespace-nowrap shrink-0 ml-2"},{default:y(()=>t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1 sm:mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",{class:"hidden sm:inline"},"Back to Delivery",-1),e("span",{class:"sm:hidden"},"Back",-1)])),_:1})])]),default:y(()=>[e("div",q,[e("div",X,[e("div",J,[e("div",K,[t[13]||(t[13]=e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),d(" Delivery Summary ")])],-1)),e("div",Z,[e("div",ee,[e("div",te,[t[6]||(t[6]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Sender ")],-1)),e("div",se,[e("p",re,o(a.delivery.sender.name),1),e("p",le,o(a.delivery.sender.email),1),e("p",oe,o(a.delivery.sender.mobile),1)])]),e("div",ae,[t[7]||(t[7]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Receiver ")],-1)),e("div",ne,[e("p",ie,o(a.delivery.receiver.name),1),e("p",de,o(a.delivery.receiver.email),1),e("p",me,o(a.delivery.receiver.mobile),1)])])]),e("div",ue,[t[11]||(t[11]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),d(" Package Details ")],-1)),e("div",ge,[(n(!0),i(h,null,w(a.delivery.packages,(r,p)=>(n(),i("div",{key:r.id,class:"p-4 border-b border-gray-200 dark:border-gray-600 last:border-b-0"},[e("p",be,o(r.item_name),1),e("div",ce,[e("div",pe,[t[8]||(t[8]=e("span",{class:"font-medium"},"Weight:",-1)),e("span",null,o(r.weight)+" kg",1)]),e("div",ye,[t[9]||(t[9]=e("span",{class:"font-medium"},"Dimensions:",-1)),e("span",null,o(r.height)+"×"+o(r.width)+"×"+o(r.length)+"cm",1)]),e("div",xe,[t[10]||(t[10]=e("span",{class:"font-medium"},"Value:",-1)),e("span",null,"₱"+o(parseFloat(r.value).toFixed(2)),1)])])]))),128))])]),e("div",fe,[t[12]||(t[12]=e("span",{class:"text-lg font-semibold text-blue-900 dark:text-blue-100"},"Total Amount Due:",-1)),e("span",ke,"₱"+o(parseFloat(a.delivery.total_price).toFixed(2)),1)])])]),M.value?(n(),i("div",ve,[t[31]||(t[31]=e("div",{class:"p-4 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800"},[e("h3",{class:"font-medium text-blue-900 dark:text-blue-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),d(" Payment Instructions ")])],-1)),e("div",he,[e("div",we,[e("div",_e,[b.value==="gcash"?(n(),i("div",Ce,[t[21]||(t[21]=e("h4",{class:"text-lg font-medium text-blue-900 dark:text-blue-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),d(" GCash Payment ")],-1)),e("ol",Me,[t[15]||(t[15]=e("li",null,"Open your GCash app",-1)),t[16]||(t[16]=e("li",null,'Go to "Scan QR Code"',-1)),t[17]||(t[17]=e("li",null,"Scan the QR code on the right",-1)),e("li",null,[t[14]||(t[14]=d("Verify the amount: ")),e("strong",null,"₱"+o(parseFloat(a.delivery.total_price).toFixed(2)),1)]),t[18]||(t[18]=e("li",null,"Complete the transaction",-1)),t[19]||(t[19]=e("li",null,"Take a screenshot of the confirmation",-1)),t[20]||(t[20]=e("li",null,"Upload the screenshot below",-1))])])):b.value==="bank"?(n(),i("div",je,[t[29]||(t[29]=e("h4",{class:"text-lg font-medium text-blue-900 dark:text-blue-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),d(" Bank Transfer ")],-1)),e("div",Be,[e("div",null,[t[27]||(t[27]=e("h5",{class:"font-medium text-blue-800 dark:text-blue-200 mb-3"},"Bank Details",-1)),e("div",Ve,[t[24]||(t[24]=e("div",{class:"flex justify-between items-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},[e("span",{class:"font-medium"},"Bank:"),e("span",null,"Sample Bank")],-1)),t[25]||(t[25]=e("div",{class:"flex justify-between items-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},[e("span",{class:"font-medium"},"Account Name:"),e("span",null,"Infinitrix Logistics")],-1)),t[26]||(t[26]=e("div",{class:"flex justify-between items-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg"},[e("span",{class:"font-medium"},"Account Number:"),e("span",{class:"font-mono"},"1234-5678-9012")],-1)),e("div",Pe,[t[22]||(t[22]=e("span",{class:"font-medium"},"Amount:",-1)),e("span",Se,"₱"+o(parseFloat(a.delivery.total_price).toFixed(2)),1)]),e("div",Fe,[t[23]||(t[23]=e("span",{class:"font-medium"},"Reference:",-1)),e("span",Te,o(a.delivery.reference_number),1)])])]),t[28]||(t[28]=e("div",null,[e("h5",{class:"font-medium text-blue-800 dark:text-blue-200 mb-3"},"Transfer Steps"),e("ol",{class:"list-decimal list-inside space-y-3 text-sm text-blue-800 dark:text-blue-300"},[e("li",null,"Log in to your bank's mobile app or website"),e("li",null,'Go to "Send Money" or "Transfer"'),e("li",null,"Enter the bank details shown"),e("li",null,"Verify the amount and reference number"),e("li",null,"Complete the transaction"),e("li",null,"Take a screenshot of the confirmation"),e("li",null,"Upload the screenshot below")])],-1))])])):c("",!0)]),b.value==="gcash"?(n(),i("div",Ue,t[30]||(t[30]=[e("div",{class:"bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600"},[e("div",{class:"w-40 h-40 bg-gray-200 dark:bg-gray-600 flex items-center justify-center mb-2 rounded"},[e("span",{class:"text-gray-500 dark:text-gray-400 text-sm text-center"},"GCash QR Code")]),e("p",{class:"text-xs text-center text-gray-600 dark:text-gray-400 mt-2"},"Scan to pay with GCash")],-1)]))):c("",!0)])])])):c("",!0)]),e("div",De,[e("div",Le,[t[45]||(t[45]=e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),d(" Payment Information ")])],-1)),e("div",Re,[e("form",{onSubmit:D(S,["prevent"]),enctype:"multipart/form-data"},[e("div",$e,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Payment Method * ",-1)),e("div",ze,[(n(!0),i(h,null,w(a.paymentMethods,r=>(n(),i("div",{key:r,onClick:p=>l(s).method=r,class:L(["border rounded-lg p-3 cursor-pointer transition-all",l(s).method===r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-600":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"])},[e("div",Ne,[_(e("input",{type:"radio",id:`method-${r}`,value:r,"onUpdate:modelValue":p=>l(s).method=p,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-400"},null,8,Ae),[[R,l(s).method]]),e("label",{for:`method-${r}`,class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300 capitalize"},o(r),9,Ge)])],10,Ie))),128))]),m(x,{message:l(s).errors.method,class:"mt-2"},null,8,["message"])]),a.delivery.payment_method==="cash"&&l(s).method&&l(s).method!=="cash"?(n(),i("div",Ee,[e("div",Oe,[m(l(O),{class:"h-5 w-5 text-yellow-400 mr-2 mt-0.5 flex-shrink-0"}),e("span",Qe,[t[33]||(t[33]=e("strong",null,"Note:",-1)),d(" Your payment method will be updated from Cash to "+o(l(s).method.toUpperCase())+". Future communications will reference this payment method. ",1)])])])):c("",!0),l(s).method&&l(s).method!=="cash"?(n(),i("div",We,[t[34]||(t[34]=e("label",{for:"reference_number",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Reference Number * ",-1)),m(C,{id:"reference_number",modelValue:l(s).reference_number,"onUpdate:modelValue":t[1]||(t[1]=r=>l(s).reference_number=r),type:"text",class:"block w-full",placeholder:"Enter transaction reference number"},null,8,["modelValue"]),m(x,{message:l(s).errors.reference_number,class:"mt-2"},null,8,["message"]),t[35]||(t[35]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Enter the exact reference number from your transaction ",-1))])):c("",!0),_(e("div",null,[m(C,{id:"amount",modelValue:l(s).amount,"onUpdate:modelValue":t[2]||(t[2]=r=>l(s).amount=r),type:"number",step:"0.01",min:"0.01",class:"block w-full"},null,8,["modelValue"])],512),[[$,!1]]),e("div",null,[t[40]||(t[40]=e("label",{for:"receipt_image",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Payment Proof (Screenshot/Photo) * ",-1)),e("input",{id:"receipt_image",type:"file",onChange:B,accept:"image/*",class:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 dark:file:bg-blue-900/20 file:text-blue-700 dark:file:text-blue-400 hover:file:bg-blue-100 dark:hover:file:bg-blue-900/30"},null,32),m(x,{message:l(s).errors.receipt_image,class:"mt-2"},null,8,["message"]),t[41]||(t[41]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Upload a clear screenshot or photo of your payment confirmation ",-1)),g.value?(n(),i("div",He,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Preview: ",-1)),e("div",Ye,[e("img",{src:g.value,alt:"Payment proof preview",class:"max-w-full h-32 rounded-lg border-2 border-blue-300 dark:border-blue-600 object-contain cursor-pointer hover:shadow-md transition-shadow",onClick:t[3]||(t[3]=r=>P(g.value))},null,8,qe),e("button",{type:"button",onClick:V,class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors"},t[36]||(t[36]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),t[37]||(t[37]=e("div",{class:"absolute bottom-2 right-2"},[e("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"}," Preview ")],-1))]),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Click the image to view larger, or the X to remove ",-1))])):c("",!0)]),e("div",null,[t[42]||(t[42]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Additional Notes (Optional) ",-1)),m(N,{id:"notes",modelValue:l(s).notes,"onUpdate:modelValue":t[4]||(t[4]=r=>l(s).notes=r),rows:3,class:"block w-full text-sm",placeholder:"Any additional information about your payment..."},null,8,["modelValue"]),m(x,{message:l(s).errors.notes,class:"mt-2"},null,8,["message"])]),e("div",Xe,[m(A,{type:"submit",disabled:l(s).processing||!j.value,class:"w-full justify-center"},{default:y(()=>[l(s).processing?(n(),i("span",Je,[m(E,{size:"xs",class:"mr-2"}),t[43]||(t[43]=d(" Processing Payment... "))])):(n(),i("span",Ke,t[44]||(t[44]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),d(" Submit Payment ")])))]),_:1},8,["disabled"])])])],32)])])])])])]),_:1}))}};export{xt as default};
